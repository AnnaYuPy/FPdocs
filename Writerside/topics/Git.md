# Git

Использование системы контроля версий Git в IIoT-платформах обеспечивает прозрачность, надежность и контроль над процессами управления и автоматизации в различных промышленных секторах, может значительно улучшить управление конфигурациями, отслеживание изменений и совместную работу. Это помогает избежать ошибок, ускоряет внедрение новых функций и улучшений, а также повышает общую эффективность работы системы.

Git может быть использован для:
1.	<b>Управления конфигурациями PLC</b>
      
Хранение и версия всех конфигураций и программ для программируемых логических контроллеров (PLC). Это позволяет легко отслеживать изменения в логике управления и восстанавливать предыдущие версии в случае необходимости.

2. <b>Отслеживания изменений в настройках платформы</b>

Хранение конфигурационных файлов IIoT-платформы в репозиториях Git. Это помогает отслеживать, кто и когда внес изменения в настройки, а также позволяет быстро откатить к предыдущей версии, если текущие настройки вызвали проблемы.

3.	<b>Совместной разработки и тестирования скриптов автоматизации</b>

Разработка и тестирование скриптов для автоматизации процессов (например, для прогнозирования потребления энергии или управления распределительными сетями) с использованием Git. Команды разработчиков могут работать над скриптами параллельно, используя ветвления и объединение (merge) изменений.

4.	<b>Документации и стандартизации процессов</b>

Ведение документации, шаблонов и стандартов для настройки и эксплуатации энергетических систем в репозитории Git. Это обеспечивает доступность актуальной информации для всех участников проекта и способствует стандартизации процессов.

5.	<b>Разработки и развертывания обновлений</b>

Разработка и управление обновлениями для IIoT-платформы, включая новые функции и исправления ошибок. Git позволяет эффективно управлять ветвями разработки, тестирования и эксплуатации, что упрощает развертывание обновлений на производственные системы.

6. <b>Мониторинга и управления производственными линиями</b>

Хранение и версия конфигураций производственных линий и оборудования. Это включает в себя программное обеспечение для управления машинами, сенсорами и исполнительными механизмами. Git позволяет отслеживать изменения и быстро восстанавливать работоспособные конфигурации.

7. <b>Управления данными и отчетами</b>

Хранение и версия шаблонов отчетов, скриптов для анализа данных и других инструментов, используемых для мониторинга производственных показателей. Это упрощает внесение изменений и обеспечивает возможность возврата к предыдущим версиям отчетов и скриптов.

8. <b>Управления безопасностью и доступом</b>

Ведение и версия политик безопасности и контроля доступа в системе SCADA. Git позволяет отслеживать изменения в политиках безопасности и быстро реагировать на инциденты, возвращая системы к безопасным состояниям.

9. <b>Интеграции с системами ERP и MES</b>

Разработка и управление интеграцией SCADA-системы с системами управления предприятием (ERP) и управления производственными процессами (MES). Git помогает управлять версиями интеграционных скриптов и конфигураций, обеспечивая совместимость и надежность интеграций.

10. <b>Планирования технического обслуживания</b>

Разработка и хранение планов и процедур технического обслуживания оборудования. Использование Git для версионирования этих документов позволяет легко вносить изменения и отслеживать историю модификаций, обеспечивая актуальность и точность информации.

Можно рассмотреть несколько примеров использования системы контроля версий Git:

<b>Пример 1.</b> (Версионирование программ для PLC в электрических подстанциях) В компании, управляющей электрическими подстанциями, используются PLC для автоматизации переключения и защиты. Все программы для этих PLC хранятся в Git-репозитории. При изменении логики переключения или добавлении новых функций (например, автоматическое восстановление после отключения) инженеры коммитят изменения в репозиторий, указывая, что было изменено и почему. В случае проблем они могут легко откатить изменения и вернуть систему к предыдущей версии.

<b>Пример 2.</b> (Отслеживание изменений в конфигурациях для управления энергосетями) Энергетическая компания использует IIoT-платформу для управления распределительными сетями. Конфигурационные файлы, включая схемы, настройки тревог и параметры оборудования, хранятся в Git. Это позволяет инженерам отслеживать все изменения, знать, кто и когда вносил правки, и при необходимости быстро восстанавливать прошлые версии, если последние изменения вызвали сбои в системе.

<b>Пример 3.</b> (Совместная разработка скриптов для прогнозирования потребления энергии) Команда аналитиков в энергетической компании разрабатывает скрипты для прогнозирования потребления энергии на основе исторических данных. Эти скрипты хранятся в Git, что позволяет нескольким разработчикам работать над ними одновременно, вносить изменения в отдельные ветки и объединять их после проверки. Это обеспечивает эффективную коллаборацию и снижает риск конфликтов.

<b>Пример 4.</b> (Управление конфигурациями производственных линий на заводе) Завод по производству автомобилей использует PLC и IIoT-платформу для управления производственными линиями. Все конфигурации и программы для PLC хранятся в Git. Инженеры, работающие на разных сменах, могут вносить изменения и коммитить их в репозиторий. Если одна из смен обнаруживает проблему, они могут быстро откатить изменения к предыдущей стабильной версии.

<b>Пример 5.</b> (Автоматизация процессов с помощью скриптов на пищевой фабрике) На пищевой фабрике используются скрипты для автоматизации процессов контроля качества продукции. Эти скрипты разрабатываются и хранятся в Git. Команда качества может вносить улучшения, тестировать их на отдельной ветке, а после успешного тестирования внедрять в основную ветку. В случае выявления ошибок всегда можно откатиться на предыдущую рабочую версию скрипта.

<b>Пример 6.</b> (Интеграция IIoT-платформы с ERP на химическом заводе) Химический завод интегрирует свою IIoT-платформу с системой управления предприятием (ERP) для автоматического обмена данными о производстве и запасах. Все интеграционные скрипты и конфигурации хранятся в Git. Команда ИТ может легко управлять изменениями, тестировать новые версии на отдельных ветках и контролировать процесс развертывания, обеспечивая бесперебойную работу интеграции.

<b>Пример 7.</b> (Планирование и документирование технического обслуживания на металлургическом предприятии) Металлургическое предприятие ведет документацию и планы по техническому обслуживанию своего оборудования в Git. Это включает в себя процедуры осмотров, графики замен компонентов и аварийные протоколы. Инженеры могут вносить изменения и улучшения в эти документы, отслеживать историю изменений и всегда иметь доступ к актуальной информации, что повышает эффективность и надежность технического обслуживания.

# <a name="_jxpsleumsywp"></a>Состав модуля Git
Модуль состоит из трёх разделов:

- Settings
- Local Diff
- Remote Diff

![](Git.1.png)

## <a name="_vaom2j9ejntf"></a>Settings
В разделе **Settings** содержится два подраздела **Clone** и **Init**.
### <a name="_v7msrsbjcfxp"></a>Clone
В подразделе **Clone** выполняется копирование существующего проекта из GitLab в FACEPLATE. Это может быть удобно в том случае, когда осуществляется доработка готового проекта или есть необходимость внедрить компоненты этого проекта в текущий.

![](Git.2.png)

- *Username и Password:* поля для ввода логина и пароля (токена???) GitLab для аутентификации к репозиторию. Это позволяет FACEPLATE взаимодействовать с GitLab аккаунтом пользователя и выполнять операции, такие как *commit, pull и push*.
- *Remote URL:* ввод URL-адреса удаленного репозитория GitLab, который пользователь получает из раздела "Клонировать с HTTPS" в GitLab. Для того чтобы установить связь между локальным и удаленным репозиториями достаточно скопировать URL-адрес и вставить его в это поле.

![](Git.3.png)

- *Branch name:* название ветки (branch), с которой пользователь будет работать в своем локальном репозитории.
- *Project prefix:* путь к проекту внутри репозитория GitLab. Можно задать префикс проекта, чтобы FACEPLATE знал, в какой части репозитория находится проект. Это удобно и эффективно, если клиентский репозиторий содержит несколько проектов или компонентов, и клиент предпочитает работать только с определенным проектом в FACEPLATE.
- Кнопка *Clone*: начало клонирования данных из репозитория.
- Кнопка *Отмена*: отмена действия и закрытие окна.

### <a name="_k1hvowiz8ifw"></a>Init
В подразделе **Init** можно инициализировать новый репозиторий GitLab:

![](Git.4.png)

- *Username и Password:* ввод логина и пароля GitLab для аутентификации при доступе к репозиторию. Это позволяет FACEPLATE взаимодействовать с GitLab аккаунтом пользователя и выполнять операции, такие как *commit, pull* и *push*.
- *Remote URL:* ввод URL-адреса удаленного репозитория GitLab, который пользователь получает из раздела "Клонировать с HTTPS" в GitLab. Для того чтобы установить связь между локальным и удаленным репозиториями достаточно скопировать URL-адрес и вставить его в это поле.
- Кнопка *Init*: инициализация.
- Кнопка *Отмена*: отмена действий и закрытие окна.
- Кнопка *Reset*: эта кнопка появляется после инициализации, с её помощью можно удалить локальный проект.

После клонирования в FACEPLATE появится указанный репозиторий. Теперь можно осуществлять доработки готового проекта и делать в разделе **Local Diff** *commit* и *push*.

![](Git.5.png)

Чтобы отправить данные из своего проекта (Faceplate) на сервер GitLab, сначала нужно выполнить *commit* (зафиксировать текущие изменения), затем *push* (отправить изменения на сервер GitLab).

![](Git.6.png)

В GitLab появятся все данные, которые были отправлены командой push.

![](Git.7.png)

## <a name="_p53ovqmjn66e"></a>Local Diff
Также все данные появятся в разделах Local Diff и Remote Diff.

![](Git.8.png)                      ![](Git.9.png)


## <a name="_t924v8a3k5rs"></a>Remote Diff
В разделе **Remote Diff** можно работать с репозиторием GitLab командами *pull*, *rollback* и *rebase*.

![](Git.10.png)


Если данные в Git меняются, то эти измененные данные будут отображаться синим цветом в разделах Local Diff и Remote Diff.

![](Git.11.png)

![](Git.12.png)

- *pull* - в локальный репозиторий загружаются измененные данные из удаленного репозитория.
- *rollback* - проект возвращается в состояние, которое было перед последним commit, изменения, внесенные после, будут потеряны.
- *rebase* - все commit одной ветки в том же порядке применяются к другой ветке.
