# PLC-соединения

## <a name="_heading=h.11noux7zvc45"></a><a name="_toc199115096"></a>**Назначение**
PLC-соединение в IIoT-платформе представляет собой связь между платформой и программируемым логическим контроллером (PLC - Programmable Logic Controller). PLC является устройством, используемым для автоматизации процессов и управления промышленным оборудованием, а IIoT-платформа обычно служит для мониторинга, контроля и управления процессами, включая взаимодействие с PLC.

PLC-соединение обеспечивает обмен данными между IIoT-платформой и PLC. Это позволяет IIoT-платформе получать данные от PLC, такие как значения датчиков, статусы устройств и т.д., и отправлять команды на управление оборудованием, изменять установки и так далее. Обычно PLC-соединение устанавливается по промышленным протоколам связи, таким как Modbus, OPC (OLE for Process Control), Profibus, DeviceNet и другие.

PLC-соединение является ключевым элементом для обеспечения взаимодействия между IIoT-платформой и устройствами на местах, что позволяет операторам и инженерам мониторить и контролировать процессы производства, а также проводить диагностику и анализ данных для оптимизации работы оборудования и производственных процессов.

Информация о контролируемом объекте поступает в систему из подключенных полевых устройств (измерительные приборы, счетчики, частотные преобразователи и т.д.), а также из программируемых логических контроллеров (PLC - Programmable Logic Controller). Faceplate обеспечивает сбор информации с имеющихся интеллектуальных устройств, ее первичную обработку и запись в датасет (поля тега, где каждый тег представляет собой структуру данных, поля которой содержат информацию об отдельной точке, например, измеряемый параметр, регулятор, клапан, привод). Остальные подсистемы: сообщений, визуализации, архивирования используют информацию из тегов.

Модуль “PLC Соединения” FACEPLATE обеспечивает сбор информации с имеющихся интеллектуальных устройств, ее первичную обработку и запись в поля тегов. Каждый тег представляет собой структуру данных, поля которой содержат информацию об отдельной точке, например, измеряемый параметр, регулятор, клапан, привод. Другие системы (сообщений, визуализации, архивирования) используют информацию из тегов.

В FACEPLATE при настройке всех типов PLC-соединений следует учитывать, что подключенное устройство опрашивается системой циклически через определенный промежуток времени. Поэтому требуется задать периодичность (мс), т.е. длительность интервала между сеансами.

Также необходимо учитывать, что емкость памяти определяет количество переменных (тегов), которые могут быть обработаны в процессе функционирования соединения. Поэтому при создании соединения следует настроить ограничение памяти, т.е. задать пределы оперативной памяти (МБ) для процесса, обслуживающего соединение.

В FACEPLATE возможно организовать опрос PLC-соединений с использованием групповых запросов в системе. Групповой запрос в PLC-соединениях используется для считывания или записи нескольких значений одновременно. Он позволяет обмениваться данными между PLC и другими устройствами, такими как датчики, приводы, панели оператора и т.д. Преимущества групповых запросов включают увеличение производительности и уменьшение времени цикла выполнения программы PLC. Вместо того чтобы отправлять или получать данные по одному значению за раз, групповой запрос позволяет передавать или получать группу значений одним запросом. Это особенно полезно при работе с большим количеством данных или при требовании высокой скорости передачи данных.

В настройках некоторых типов PLC-соединений определяется максимальная длина пакета передаваемых данных за одну сетевую транзакцию. Максимальная длина пакета для типов S7(Siemens) и MODBUS указывается в количестве байтов, а для типов OPCUA\_CLIENT и OPCUA\_SERVER – в количестве параметров.

Коэффициент задержки линии в PLC-соединениях используется для компенсации времени задержки при передаче данных по сети или линии связи между PLC и другими устройствами. Он позволяет синхронизировать временные интервалы между передачей и приемом данных, учитывая задержки, вызванные пропагацией сигнала, обработкой данных в устройствах передачи, маршрутизацией пакетов и другими факторами. Задержки могут привести к несоответствию временных интервалов между отправкой и получением данных, что может вызывать ошибки и неправильное функционирование системы.

Коэффициент задержки линии позволяет учесть время задержки, возникающее на линии связи, и компенсировать его в программе PLC. Он может быть использован для корректировки временных задержек в различных операциях, таких как синхронизация обмена данными, управление таймингами или синхронизация событий в системе.

В FACEPLATE поддерживаются следующие типы PLC-соединений:

- DCON (ICP DAS)
- ETHERNET\_IP
- IEC101\_CLIENT
- IEC101\_SERVER
- IEC104\_CLIENT
- IEC104\_SERVER
- IEC62056
- M-BUS
- MERCURY 230
- MODBUS
- OPC DA
- OPCUA\_CLIENT
- OPCUA\_SERVER
- S7 (Siemens)
- SNMP

  Структура модуля "PLC Соединения" наглядно представлена ниже.

  ![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 001](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.001.png)

  **Интерфейс модуля “PLC Соединения”**

  Настройка подключений к контроллерам и полевым устройствам выполняется в модуле “PLC Соединения”, располагаемый в меню навигации FACEPLATE Studio. Модуль включает в себя два редактора - “Привязки” и “Мастера”.

  **Редактор “Привязки”**

  Редактор “Привязки” позволяет конфигурировать параметры подключения к опрашиваемым устройствам и определять состав получаемой и отправляемой в устройство информации - привязки.

  ![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 002](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.002.png)

  В верхней части экрана расположена панель управления, ниже которой находится рабочая область, поделенная на 2 части:

    - Панель соединений расположена слева и содержит список сконфигурированных подключений.
    - Панель привязок расположена справа и содержит список привязок по выбранному соединению.

      Панель соединений содержит таблицу, каждая строка которой соответствует отдельному подключению и отображает следующую информацию:

- “Имя”. Наименование подключения. Имя выбирается разработчиком, имя должно быть уникальным в рамках проекта.
- “Тип”. Используемый тип подключения к устройству.
- “Статус”. Текущее состояние соединения. В случае отсутствия ошибок в работе соединения поле содержит текст “ОК”, в других случаях в поле выводится текст последней ошибки, например “connection timeout” (информация актуализируется только в режиме Runtime).

  ![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 003](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.003.png)

  Для создания соединений используется панель управления:

  ![ref1](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.004.png)

  Элементы панели соединений:

|**Кнопка**|**Описание**|
| :-: | :-: |
|![ref2](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.005.png)|<p>Обновление отображения базы соединений и их привязок.</p><p>Для получения обновлений, выполненных другими, если над проектом одновременно работают несколько разработчиков.</p><p>Для обновления диагностической информации, если проект находиться в режиме исполнения Runtime.</p>|
|![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 006](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.006.png)|Создание нового соединения. При щелчке по кнопке появится диалог, предлагающий выбрать тип соединения. После выбора типа, будет отображен диалог настройки параметров соединения для выбранного типа.|
|![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 007](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.007.png)|Редактирование выделенного соединения.|
|![ref3](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.008.png)|Удаление выделенных соединений вместе с созданными для них привязками.|

Панель привязок представляет собой таблицу следующего вида (пример):

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 009](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.009.png)

Каждая строка таблицы соответствует отдельной привязке. Каждая привязка сопоставляет поле тега определенной области памяти подключенного устройства. В строке отображена следующая информация:

- “Тег”. Структура данных, поля которой содержат информацию об отдельной точке.
- “Поле”. Поле тега, в которое будет проецироваться привязываемая область памяти устройства (например контроллера, измерительного устройства и пр.).
- “A” и “B”. Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение в области памяти устройства.
- “Статус”. Текущее состояние привязки. В случае отсутствия ошибок поле содержит текст “ОК”, в других случаях в поле выводится текст последней ошибки, например “invalid address” (информация актуализируется только в режиме исполнения Runtime). Расшифровка ошибок должна быть приведена в документации производителя на подключаемое устройство (например контроллера, измерительного устройства и пр.).
- Состав остальных полей зависит от типа выбранного соединения и содержит информацию, описывающую адрес в памяти подключаемого устройства. Информацию по ним можно найти в описании типов соединений.

  Для конфигурирования привязок используется панель:

  ![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 010](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.010.png)

  Элементы панели привязок:

|**Кнопка**|**Описание**|
| :-: | :-: |
|![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 011](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.011.png)|<p>Создание новой привязки.</p><p>Создание новых привязок и редактирование их настроек описано для каждого типа соединения отдельно.</p>|
|![ref4](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.012.png)|<p>Создание привязок с помощью мастера</p><p>(см. Создание привязок с помощью мастера).</p>|
|![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 013](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.013.png)|Редактирование привязки|
|![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 014](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.014.png)|Удаление выделенных привязок|
## <a name="_heading=h.8hs4g8ssrnxg"></a><a name="_heading=h.y5xq8xtv2hox"></a><a name="_toc199115100"></a>**DCON**
Протокол DCON разработан фирмой ICP DAS, широко распространен, поддерживается многими производителями контроллерного оборудования.

Настройка подключений к устройствам по протоколу DCON выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 032](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.015.png)

Диалог вызывается при выборе типа DCON в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения DCON.

|**Настройка**|**Описание**|
| :-: | :-: |
|Имя соединения|Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например “Площадка №2”, или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта|
|Период (мс)|Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах|
|Включено|“да”/”нет”|
|Ограничение памяти (МБ)|Задание пределов оперативной памяти для процесса, обслуживающего соединение.|
|Тип|<p>Вариант подключения к устройству. Поддерживаются:</p><p>- “TCP”. Данный тип может быть использован для подключения через шлюз TCP<=>RS-485. Такое решение позволяет использовать преобразователи TCP<=>RS-485 в качестве master-устройств для организации связи с большим количеством приборов учета.</p><p>- “SERIAL”. Подключение к устройству выполняется по линии связи RS-485. Подключение станции Faceplate к линии связи выполняется с помощью преобразователей RS-232<=>RS-485 или USB<=>RS-485. При использовании одного серийного порта для обмена информацией с несколькими устройствами нужно настроить одно общее соединение. В этом случае DCON-адреса устройств определяются при настройке привязок (см. [Создание привязок DCON](https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.16x20ju))</p>|
|TCP||
|IP|IP адрес шлюза|
|Порт|Номер порта, используемый для подключения к шлюзу|
|SERIAL||
|Порт|Имя порта, через которое ведется обмен данными, например, “СОМ3” для OS Windows или “/dev/ttyUSB0” для систем семейства Linux|
|Скорость|Скорость передачи данных|
|Четность|Использование проверки четности|
|Стоп-биты|Количество стоповых бит, передаваемых в пакете|
|Размер байта|Количество бит, передаваемых в пакете|
|Таймаут|Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения|
|Попыток|Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек|

Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.

Создание и редактирование привязок DCON производится с помощью формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 033](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.016.png)

Диалог вызывается при щелчке по кнопке “Создать” на панели управления привязками.

|**Настройка**|**Описание**|
| :-: | :-: |
|Тег|Объект базы, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.|
|Поле|Поле тега, в которое будет записываться значение получаемого параметра|
|Доступ|<p>Права доступа пользователя:</p><p>- R - чтение</p><p>- W - запись</p><p>- RW - чтение и запись</p>|
|Адрес|DCON-адрес устройства на шине, может принимать значения от 1 до 254|
|Параметры модуля|<p>Формат телеграмм DCON может меняться в зависимости от типа устройства (модули ввода, модули ввода-вывода, модули вывода) и количества входов/выходов на нем. Для определения формата телеграмм необходимо заполнить поля, описывающие конфигурацию устройства:</p><p>- “DI” - количество дискретных входов</p><p>- “DO” - количество дискретных выходов</p><p>- “AI” - количество аналоговых входов</p><p>- “AO” - количество аналоговых выходов</p>|
|Параметры канала|<p>Панель становится доступна после заполнения параметров модуля. На ней нужно указать:</p><p>- “ Тип” - тип канала, может принимать значения: AI, AO, DI, DO в зависимости от конфигурации модуля.</p><p>- “ Канал” - номер канала в модуле (отсчет ведется с 1). Если модуль является модулем ввода-вывода, то для каналов ввода и каналов вывода ведется отдельная нумерация.</p><p>- “ Формат”. Поле актуально только для аналоговых каналов и описывает в каком формате устройство передает данные (определяется при настройке устройства). Возможны значения HEX, FLOAT.</p><p>- “ Знаков после запятой”. Поле актуально только для аналоговых каналов, передающих данные в формате FLOAT. Определяет количество знаков после запятой в передаваемом значении (определяется при настройке устройства).</p>|
|A, B|Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение параметра в телеграмме.|

Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства и номер канала, а только определяет параметры модуля и параметры канала. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и параметры масштабирования привязываемых полей. Настройка шаблонов привязок DCON, выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 034](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.017.png)
## <a name="_heading=h.6dfc417nspx3"></a><a name="_toc199115101"></a>**ETHERNET\_IP**
ETHERNET\_IP драйвер предоставляет возможность работы в режиме клиента. В режиме клиента Faceplate устанавливает соединение к контроллеру Allen Bradley и является потребителем данных. Он устанавливает соединение к указанному коммуникационному модулю и запрашивает данные либо выполняет запросы на изменение (запись данных).

Драйвер предоставляет программный интерфейс для получения списка доступных тегов и дополнительной мета-информации по ним (типы, качество и т.д.).

Настройка подключений к устройствам по протоколу ETHERNET\_IP выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 036](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.018.png)

Диалог вызывается при выборе типа ETHERNET\_IP в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения ETHERNET\_IP.

|**Настройка**|**Описание**|
| :-: | :-: |
|Имя соединения|Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.|
|Период|Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.|
|Включено|Настройка включения/отключения соединения (“да”/”нет”)|
|Тип контроллера|<p>- controllogix</p><p>- plc5</p><p>- slc500</p><p>- logixpccc</p><p>- micro800</p><p>- micrologix</p>|
|Поддержка групповых запросов|Настройка включения/отключения поддержки групповых запросов (да”/”нет”)|
|TCP||
|IP|IP адрес шлюза|
|Роутинг|Определение пути и направления передачи данных между устройствами в сети|
|Таймаут|Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения.|
|Попыток|Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек.|

Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.

Создание и редактирование привязок производится с помощью формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 037](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.019.png)

Диалог вызывается при щелчке по кнопке “Создать” на панели управления привязками.

|**Настройки**|**Описание**|
| :-: | :-: |
|Тег|Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.|
|Поле|Поле тега, в которое будет записываться значение из сопоставляемой области памяти устройства. Привязка работает также в обратную сторону. Это означает, что при изменении значения в поле тега, новое значение будет записано в память устройства.|
|Доступ|<p>Права доступа пользователя:</p><p>- R - чтение</p><p>- W - запись</p><p>- RW - чтение и запись</p>|
|Тип данных|<p>- BOOL</p><p>- SINT</p><p>- USINT</p><p>- INT</p><p>- UINT</p><p>- DINT</p><p>- UDINT</p><p>- LINT</p><p>- ULINT</p><p>- REAL</p><p>- LREAL</p>|
|A, B|Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение принятое из устройства.|
|Отключено|Настройка позволяет деактивировать привязку в режиме исполнения.|

Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки описывает параметры, создаваемых по нему привязок. В отличие от самой привязки, шаблон не содержит адрес устройства, а только определяет тип параметра. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав запрашиваемых параметров, и параметры масштабирования значений. Настройка шаблонов привязок ETHERNET\_IP выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 038](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.020.png)
## <a name="_heading=h.jutuou8qqrtm"></a><a name="_toc199115102"></a>**IEC101**
IEC101 использует SERIAL для передачи данных. Протокол IEC 101 используется для обмена данными между устройствами в SCADA-системах через последовательное соединение.

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.021.png)

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.022.png)

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.023.png)

**Настройки по умолчанию IEC101 Клиента**

В IEC101 присутствуют такие поля как:

Link Address — Адрес ссылки - это адрес подключенного последовательного устройства.

Link address size [размер адреса ссылки] — Размер в байтах адреса ссылки. Можно указать 1 или 2 байта.

Переключатель Unbalanced [тип режима работы]  — **True** (on)- в этом режиме каждая станция может инициировать передачу данных. Станции могут действовать одновременно как управляющие станции и подконтрольные станции. **False** (off) - несбалансированная передача управляющая станция управляет каналом данных путем последовательного опроса контролируемых внешних станций. Она инициирует передачу всех сообщений, в то время как контролируемые внешние станции отвечают только на эти сообщения.

**Serial:**

|Порт|Серийный порт, используемый для подключения|/dev/ttyUSB0|
| - | - | - |
|Скорость передачи данных|Скорость передачи данных. |9600|
|Четность|Использование проверки четности. Нет, четный или нечетный.|нет|
|Стоп-биты|Количество стоп-битов. 1 или 2.|1|
|Количество битов для представления символов|Data bits (биты данных) в последовательном порте (serial port) определяют количество битов, используемых для представления каждого символа данных. Для протокола используется 7 или 8.|8|
|Таймаут |Максимальное время ожидания ответа от опрашиваемого устройства. |5000|
|Количество попыток|Количество попыток на подключение|3|

**Настройки привязок Сервера IEC101**

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.024.png)

Привязка по умолчанию.

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.025.png)

Пример привязки с доступом RW на стороне сервера и с первым типом операции.

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.026.png)

Пример привязки с доступом W на стороне сервера и с первым типом операции.

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.027.png)

Пример привязки с доступом RW на стороне сервера со включенной кнопкой Принимать обновления через информационные объекты (Remote Control Type & Remote Control Address не заполняются).

**Настройки привязок Клиента IEC101:**

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.028.png)

Привязка по умолчанию.

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.029.png)

Пример привязки с доступом R на стороне клиента и с первым типом операции.

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.030.png)

Пример привязки с доступом W на стороне клиента и с первым типом операции.

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.031.png)

Пример привязки с доступом W на стороне клиента со включенной кнопкой Принимать обновления через информационные объекты (Remote Control Type & Remote Control Address не заполняются).

На клиенте и на сервере операции Телеизмерения/Телесигнализации выбираются по выпадающему списку операций:

![](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.032.png)

И на клиенте и на сервере операции Телеуправления выбираются по выпадающему списку команд:
## <a name="_heading=h.vl1pxzarj93b"></a><a name="_toc199115103"></a>**IEC104**
Протокол **IEC 104** используется для обмена данными между клиентом и сервером в SCADA-системах через TCP/IP. В отличие от IEC 101, который работает через последовательные соединения, IEC 104 использует сеть для передачи данных.

**Настройка сервера IEC 104**

1. **Создание сервера**:
    1. В интерфейсе Faceplate Studio перейдите к разделу настройки соединений.
    1. Выберите **IEC 104** и создайте новое подключение.
1. **Основные параметры настройки**:
    1. **IP-адрес** и **порт** сервера: Укажите IP-адрес и порт, по которым сервер будет доступен в сети.
    1. **Сетевой адрес**: Введите сетевой адрес для идентификации устройства в сети IEC 104.
    1. **ASDU адрес**: Укажите ASDU (Application Service Data Unit) адрес, который представляет адрес устройства в пределах IEC 104.
1. **Настройка тайм-аутов и попыток**:
    1. **Тайм-аут**: Установите максимальное время ожидания ответа от опрашиваемого устройства (рекомендуется 5000 мс).
    1. **Попытки подключения**: Задайте количество попыток подключения в случае неудачного соединения (например, 3 попытки).
1. **Тип подключения**:
    1. Убедитесь, что выбран тип соединения **TCP/IP**, так как IEC 104 работает только по сети, а не через последовательные порты.

       **Настройка клиента IEC 104**

1. **Создание клиента**:
    1. В разделе подключения выберите **IEC 104 Клиент** и создайте новое соединение.
1. **Параметры подключения клиента**:
    1. **IP-адрес** и **порт** удаленного сервера: Укажите адрес и порт, к которым клиент должен подключаться.
    1. **ASDU адрес клиента**: Определите ASDU-адрес клиента для обмена данными с сервером.
1. **Установка параметров обмена данными**:
    1. **Количество повторных попыток**: Установите количество попыток для повторного соединения в случае неудачи.
    1. **Интервал опроса**: Определите частоту, с которой клиент будет запрашивать данные с сервера IEC 104.

       **Настройка биндингов (привязок) для сервера и клиента IEC 104**

1. **Создание привязок**:
    1. Выберите соединение IEC 104 (клиент или сервер).
    1. Настройте привязки для передачи данных:
        1. **Тип данных**: Выберите тип данных, например, для телеизмерений, телесигнализации и телеуправления.
        1. **Адрес объекта**: Укажите адрес информационного объекта, чтобы правильно ассоциировать его с данными.
        1. **Права доступа**: Установите права доступа для каждой привязки (чтение/запись).
1. **Опции привязок**:
    1. **Телеизмерения и телесигнализация**: Выберите соответствующую операцию из выпадающего списка для правильного отображения данных.
    1. **Телеуправление**: Укажите команды, необходимые для управления объектами через привязки.

       **Завершение настройки**

1. **Проверка конфигурации**:
    1. Убедитесь, что все параметры подключений и привязок настроены корректно.
    1. Просмотрите логи и убедитесь в отсутствии ошибок при подключении.
1. **Запуск сервера и клиента**:
    1. Запустите настройки и проверьте соединение между клиентом и сервером, чтобы убедиться в корректности обмена данными.
## <a name="_heading=h.jho2u56o9v9k"></a><a name="_toc199115104"></a>**IEC62056**
IEC 62056 — это международный стандарт, известный как "Протокол для передачи данных по линии электроэнергии". Он устанавливает набор правил и протоколов для обмена данными между устройствами, подключенными к электрической сети.

Настройка подключений к устройствам по протоколу IEC62056 выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 039](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.033.png)

Диалог вызывается при выборе типа IEC62056 в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения IEC62056.

|**Настройка**|**Описание**|
| :-: | :-: |
|Имя соединения|Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.|
|Период|Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.|
|Включено|“да”/”нет”|
|Ограничение памяти (МБ)|Задание пределов оперативной памяти для процесса, обслуживающего соединение.|
|Тип|<p>Вариант подключения к устройству. Поддерживаются:</p><p>- “TCP”. Данный тип может быть использован для подключения через шлюз TCP<=>RS-485. Такое решение позволяет использовать преобразователи TCP<=>RS-485 в качестве master-устройств для организации связи с большим количеством приборов учета.</p><p>- “SERIAL”. Подключение к устройству выполняется по линии связи RS-485. Подключение станции Faceplate к линии связи выполняется с помощью преобразователей RS-232<=>RS-485 или USB<=>RS-485. При использовании одного серийного порта для обмена информацией с несколькими устройствами нужно настроить одно общее соединение. В этом случае адреса устройств на шине определяются при настройке привязок (см. Создание привязокIEC62056)</p>|
|TCP||
|IP|IP адрес шлюза|
|Порт|Номер порта, используемый для подключения к шлюзу|
|SERIAL||
|Порт|Имя порта, через которое ведется обмен данными, например, “СОМ3” для OS Windows или “/dev/ttyUSB0” для систем семейства Linux|
|Скорость|Скорость передачи данных|
|Четность|Использование проверки четности|
|Стоп-биты|Количество стоповых бит, передаваемых в пакете|
|Размер байта|Количество бит, передаваемых в пакете|
|Таймаут|Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения.|
|Попыток|Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек.|

Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.

Создание и редактирование привязок производится с помощью формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 040](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.034.png)

Диалог вызывается при щелчке по кнопке “Создать” на панели управления привязками.

|**Настройка**|**Описание**|
| :-: | :-: |
|Тег|Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.|
|Поле|Поле тега, в которое будет записываться значение из сопоставляемой области памяти устройства. Привязка работает также в обратную сторону. Это означает, что при изменении значения в поле тега, новое значение будет записано в память устройства.|
|Адрес|Логический адрес может быть числом или строкой, в зависимости от реализации протокола. Он обычно уникален для каждого устройства в сети, чтобы обеспечить однозначную идентификацию при обмене данными.|
|Пароль|Пароль доступа к подключаемому устройству.|
|OBIS|Коды OBIS - внутренний адрес для идентификации параметров, доступных для получения с устройства.|
|A, B|Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение принятое из устройства.|

Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства, а только определяет тип параметра. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав запрашиваемых параметров, и параметры масштабирования значений. Настройка шаблонов привязок IEC62056, выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 041](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.035.png)
## <a name="_heading=h.tyb55h2l3tbk"></a><a name="_toc199115105"></a>**M-BUS**
M-Bus - это открытый коммуникационный протокол, описанный в стандартах EN13757 и ГОСТ Р ЕН 1434-3. В настоящее время протокол поддерживается большинством производителей приборов учета ресурсов.

Создание соединений к устройствам по протоколу M-Bus выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 042](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.036.png)

Диалог вызывается при выборе типа MBUS в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения MBUS.

|**Настройка**|**Описание**|||
| :-: | :-: | :- | :- |
|Имя соединения|Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например “Комната №18”, или использовать обозначения из проектной документации. Имя должно быть уникальным в рамках проекта|||
|Период (мс)|Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах|||
|Включено|Настройка включения/отключения соединения (“да”/”нет”)|||
|Ограничение памяти (МБ)|Задание пределов оперативной памяти для процесса, обслуживающего соединение.|||
|Тип|<p>Вариант подключения к устройству. Поддерживаются:</p><p>- “TCP”. Данный тип может быть использован для подключения через шлюз TCP<=>RS-485. Такое решение позволяет использовать преобразователи TCP<=>RS-485 в качестве master-устройств для организации связи с большим количеством приборов учета.</p><p>- “SERIAL”. Подключение к устройству выполняется по линии связи RS-485. Подключение станции Faceplate к линии связи выполняется с помощью преобразователей RS-232<=>RS-485 или USB<=>RS-485. При использовании одного серийного порта для обмена информацией с несколькими устройствами нужно настроить одно общее соединение. В этом случае M-Bus-адреса устройств определяются при настройке привязок.</p>|||
|TCP||||
|IP|IP адрес шлюза|||
|Порт|Номер порта, используемый для подключения к шлюзу|||
|SERIAL||||
|Порт|Имя порта, через которое ведется обмен данными, например, “СОМ3” для OS Windows или “/dev/ttyUSB0” для систем семейства Linux|||
|Скорость|Скорость передачи данных|||
|Четность|Использование проверки четности|||
|Стоп-биты|Количество стоповых бит, передаваемых в пакете|||
|Размер байта|Количество бит, передаваемых в пакете|||
|Таймаут|Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения|||
|Попыток|Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек|||

Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.

Создание и редактирование привязок M-Bus производится с помощью формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 043](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.037.png)

Диалог вызывается при щелчке по кнопке “Создать” на панели управления привязками.

|**Настройка**|**Описание**|
| :-: | :-: |
|Тег|Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.|
|Поле|Поле тега, в которое будет записываться значение получаемого параметра|
|Адрес|M-Bus-адрес устройства на шине, может принимать значения от 1 до 250|
|Телеграмма|Код запрашиваемой телеграммы. Описание кодов поддерживаемых устройством телеграмм должно быть приведено в документации на устройство.|
|Индекс|Определяет индекс параметра в телеграмме (отсчет ведется с 0). Телеграмма M-Bus имеет определенную структуру, в которой четко определена последовательность блоков. Каждый отдельный блок служит для описания одного контролируемого параметра. Таким образом, номер блока в телеграмме указывает на конкретный контролируемый параметр, который может быть привязан к полю тега Faceplate. Описание состава телеграмм должно быть приведено в документации на устройство.|
|A, B|Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение параметра в телеграмме.|

Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства, а только определяет телеграмму и индекс параметра в ней. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и параметры масштабирования привязываемых полей. Настройка шаблонов привязок M-Bus, выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 044](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.038.png)
## <a name="_heading=h.p1bozprxdb64"></a><a name="_toc199115106"></a>**Mercury 230**
Обмен данными со счетчиками электрической энергии серии Mercury 230 ведется по открытому коммуникационному протоколу, который разработан компанией Incotex.

Создание подключений к устройствам по протоколу Mercury 230 выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 045](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.039.png)

Диалог вызывается при выборе типа MERCURY230 в процессе создания нового соединения, либо при редактировании параметров, настроенного ранее соединения MERCURY230 (см. Интерфейс редактора “Привязки”).

|**Настройки**|**Описание**||
| :-: | :-: | :- |
|Имя соединения|Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например “Квартира №18”, или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.||
|Период (мс)|Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.||
|Включено|Настройка включения/отключения соединения (“да”/”нет”)||
|Ограничение памяти (МБ)|Задание пределов оперативной памяти для процесса, обслуживающего соединение.||
|Тип|<p>Вариант подключения к устройству. Поддерживаются:</p><p>- “TCP”. Данный тип может быть использован для подключения через шлюз TCP<=>RS-485. Такое решение позволяет использовать преобразователи TCP<=>RS-485 в качестве master-устройств для организации связи с большим количеством приборов учета.</p><p>- “SERIAL”. Подключение к устройству выполняется по линии связи RS-485. Подключение станции Faceplate к линии связи выполняется с помощью преобразователей RS-232<=>RS-485 или USB<=>RS-485. При использовании одного серийного порта для обмена информацией с несколькими устройствами нужно настроить одно общее соединение. В этом случае адреса устройств на шине определяются при настройке привязок.</p>||
|TCP|||
|IP|IP адрес шлюза||
|Порт|Номер порта, используемый для подключения к шлюзу||
|SERIAL|||
|Порт|Имя порта, через которое ведется обмен данными, например, “СОМ3” для OS Windows или “/dev/ttyUSB0” для систем семейства Linux||
|Скорость|Скорость передачи данных||
|Четность|Использование проверки четности||
|Стоп-биты|Количество стоповых бит, передаваемых в пакете||
|Размер байта|Количество бит, передаваемых в пакете||
|Таймаут|Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения||
|Попыток|Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек||

Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.

Создание и редактирование привязок Mercury 230 производится с помощью формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 046](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.040.png)

Диалог вызывается при щелчке по кнопке “Создать” на панели управления привязками.

|**Настройки**|**Описание**|
| :-: | :-: |
|Тег|Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.|
|Поле|Поле тега, в которое будет записываться значение получаемого параметра|
|Адрес|Адрес устройства на шине, может принимать значения от 1 до 253|
|Пароль|Пароль доступа к подключаемому устройству.|
|Тариф|Номер тарифа. Счетчики электроэнергии поддерживают тарификацию учет потребляемой энергии и позволяют получать накопленное значение по каждому из тарифов. Счетчики серии Mercury 230 для идентификации сконфигурированных тарифов используют нумерацию. Данный параметр определяет номер тарифа, по которому запрашивается значение накопленной энергии.|
|A, B|Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение параметра в телеграмме.|

Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства, а только определяет номер тарифа. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав запрашиваемых тарифов, и параметры масштабирования значений. Настройка шаблонов привязок Mercury 230, выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 047](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.041.png)
## <a name="_heading=h.i7lq2l927e02"></a><a name="_toc199115107"></a>**MODBUS**
Modbus - это открытый коммуникационный протокол, разработанный компанией Modicon. В настоящее время данный стандарт поддерживается большинством производителей контроллерного оборудования. Faceplate поддерживает разновидности протокола:

- MODBUS-TCP
- MODBUS-RTU

  Настройка подключений к устройствам по протоколу MODBUS выполняется с помощью следующей формы:

  ![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 048](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.042.png)

  Диалог отображается при выборе типа MODBUS в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения MODBUS.

|**Настройки**|**Описание**|
| :-: | :-: |
|Имя соединения|Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например “UPS\_A1”, или использовать обозначения из проектной документации.|
|Период|Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.|
|Включено|Настройка включения/отключения соединения (“да”/”нет”)|
|Ограничение памяти (МБ)|Задание пределов оперативной памяти для процесса, обслуживающего соединение.|
|Поддержка групповых запросов|Настройка включения/отключения поддержки групповых запросов (“да”/”нет”)|
|Макс.длина пакета|Максимальное количество байтов, передаваемых за одну сетевую транзакцию.|
|Коэффициент задержки линии|Коэффициент задержки линии позволяет учесть время задержки, возникающее на линии связи, и компенсировать его. Степень использования пропускной способности канала (от 1 до 10).|
|Тип|<p>Вариант протокола MODBUS, используемый для связи с данным устройством:</p><p>- TCP</p><p>- RTU-SERIAL</p><p>- RTU-TCP</p>|
|TCP||
|IP|IP адрес подключаемого устройства|
|Порт|Номер порта, используемый для подключения. По умолчанию MODBUS-TCP работает через порт 502, но при подключении через шлюз, например TCP<=>RS-485, номер порта может отличаться.|
|SERIAL||
|Порт|Имя порта, через которое ведется обмен данными, например, “СОМ3” для OS Windows или “/dev/ttyUSB0” для систем семейства Linux.|
|Скорость|Скорость передачи данных|
|Четность|Использование проверки четности|
|Стоп-биты|Количество стоповых бит, передаваемых в пакете|
|Размер байта|Количество бит, передаваемых в пакете|
|Таймаут|Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения.|
|Попыток|Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек|

Варианты протоколов для соединений MODBUS:

|**Протокол**|**Описание**|
| :-: | :-: |
|TCP|Протокол MODBUS-TCP. Данный протокол может быть использован для подключения напрямую к устройству, поддерживающему MODBUS-TCP, либо для подключения к устройству через шлюз, который ведет обмен со станцией Faceplate по протоколу MODBUS-TCP, проксируя запросы в другую линию связи, например MODBUS-RTU или даже не из семейства MODBUS.|
|RTU-SERIAL|Соответствует протоколу MODBUS-RTU. Подключение к устройству выполняется по линии связи RS-485. Подключение станции Faceplate к линии связи выполняется с помощью преобразователей RS-232<=>RS-485 или USB<=>RS-485. При использовании одного серийного порта для обмена информацией с несколькими slave-устройствами нужно настроить одно общее соединение. В этом случае Modbus-адреса устройств определяются при настройке привязок.|
|RTU-TCP|Протокол используется для обмена данными с устройствами, поддерживающими MODBUS-RTU. В отличие от “RTU-SERIAL” для подключения к устройству используется преобразователь TCP<=>RS-485. В этом случае Faceplate выполняет подключение к преобразователю по TCP, но использует для обмена протокол MODBUS-RTU. Такое решение позволяет использовать преобразователи TCP<=>RS-485 в качестве Modbus-master устройств для организации связи с большим количеством slave-устройств.|

Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.

Создание и редактирование привязок MODBUS производится с помощью формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 049](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.043.png)

Диалог вызывается при щелчке по кнопке “Создать” на панели управления привязками.

|**Настройки**|**Описание**|
| :-: | :-: |
|Тег|Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.|
|Поле|Поле тега, в которое будет записываться значение из сопоставляемой области памяти устройства. Привязка работает также в обратную сторону. Это означает, что при изменении значения в поле тега, новое значение будет записано в память устройства.|
|Доступ|<p>Права доступа пользователя:</p><p>- R - чтение</p><p>- W - запись</p><p>- RW - чтение и запись</p>|
|Проверка CRC|Позволяет отключить проверку CRC. Актуально только для MODBUS RTU. ВНИМАНИЕ! Не рекомендуется отключать данную проверку, так как это может привести к искажению получаемых с устройства данных. Отключение проверки может быть использовано только при необходимости интеграции с оборудованием, не поддерживающим механизм CRC.|
|Адрес slave|Modbus-адрес устройства на шине, может принимать значения от 1 до 255. Значение поля используется при подключении к устройству через шлюз, либо в режиме RTU-SERIAL.|
|Область|<p>Тип области памяти в устройстве:</p><p>-DI. Discrete Inputs - дискретный вход. Тип памяти доступен только для чтения. Один регистр DI соответствует одному биту. Если сопоставляемое поле тега имеет целочисленный тип, то в него могут быть считаны более одного регистра. Количество считываемых регистров определяется настройкой “Тип” (см. ниже).</p><p>-AI. Analog Input соответствует Input Registers. Тип памяти доступен только для чтения. Каждый регистр состоит из 16-ти бит. Для передачи чисел с плавающей точкой, а также целых значений более 65535, может быть использовано 2 следующих друг за другом регистра. Это определяется настройками “Тип” и “Формат” (см. ниже).</p><p>-DO. Discrete Outputs соответствует Coils. Тип доступен для чтения и записи. Один регистр соответствует одному биту. Если сопоставляемое поле тега имеет целочисленный тип, то в него могут быть считаны более одного регистра. Количество считываемых регистров определяется настройкой “Тип” (см. ниже).</p><p>-HR. Holding Registers. Тип доступен для чтения и записи. Каждый регистр состоит из 16-ти бит. Для передачи чисел с плавающей точкой, а также целых значений более 65535, может быть использовано 2 следующих друг за другом регистра. Это определяется настройками “Тип” и “Формат” (см. ниже).</p>|
|Чтение, Запись|Поля позволяют переопределить функции чтения и записи области (<http://www.modbus.org/docs/Modbus_Application_Protocol_V1_1b.pdf>). По умолчанию задаются значения соответствующие выбранной области памяти.|
|Адрес|Начальный адрес регистра. Если “Размер” (см. ниже) привязки обеспечивает передачу более одного регистра, то в настройке должен быть указан адрес первого регистра из связки.|
|Размер|<p>Определяет объем передаваемых данных:</p><p>- “bit”</p><p>- “byte”. Тип может быть использован для передачи 8 следующих друг за другом однобитовых регистров (DI, DO).</p><p>- “word”. Тип используется для передачи одного регистра AI или HR, а также для работы с 16-ю следующими друг за другом регистрами типа DI или DO.</p><p>- “dword”. Тип может быть использован для передачи 2-х следующих друг за другом регистров AI или HR.</p><p>Формат передаваемого значения определяется настройкой “Формат” (см. ниже). Также тип может использоваться для передачи 32-х следующих друг за другом однобитовых регистров (DI, DO).</p>|
|Порядок байт|Очередность байтов - прямая или обратная (21 или 12)|
|Формат|<p>Формат передаваемых данных:</p><p>- signed-integer</p><p>- unsigned-integer</p><p>- float</p><p>Настройка имеет значение при передаваемом объеме данных более одного байта (типы word, dword).</p>|
|Смещение|Смещение бита (байта) внутри регистра, начиная с “0”|
|A, B|Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение принятое из устройства.|

Варианты форматов для привязок MODBUS:

|**Формат**|**Описание**|
| :-: | :-: |
|signed-integer|Целое число со знаком|
|unsigned-integer|Целое число без знака|
|Float|Число с плавающей точкой|

Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон ссылается не на конкретный адрес в области памяти подключенного устройства, а задает смещение относительно первой (с наименьшим адресом) привязки в мастере. Таким образом, если в памяти устройства для хранения информации по однотипным параметрам используется одинаковая структура данных, то целесообразно создать мастер для привязки тегов данного типа. Шаблоны привязок в мастере определяют состав, тип и смещение привязываемых полей данных. Настройка шаблонов привязок MODBUS, выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 050](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.044.png)

Диалог отображается при щелчке по кнопке “Создать” на инструментальной панели для привязок.

|**Параметры**|**Описание**|
| :-: | :-: |
|Поле|Поле тега, в которое будет записываться значение из сопоставляемой области памяти устройства.|
|Доступ|<p>Права доступа пользователя:</p><p>- R - чтение</p><p>- W - запись</p><p>- RW - чтение и запись</p>|
|Проверка CRC|Позволяет отключить проверку CRC. Актуально только для MODBUS RTU.|
|Область|<p>Тип области памяти:</p><p>- DI. Discrete Inputs</p><p>- AI. Analog Input соответствует Input Registers</p><p>- DO. Discrete Outputs соответствует Coils</p><p>- HR. Holding Registers</p>|
|Чтение, Запись|Поля позволяют переопределить функции чтения и записи области. По умолчанию задаются значения соответствующие выбранной области памяти.|
|Адрес|Смещение адреса регистра для поля относительно начального, задаваемого при вызове мастера (см. Создание привязок с помощью мастера)|
|Размер|<p>Определяет объем передаваемых данных:</p><p>- “bit”</p><p>- “byte”. Тип может быть использован для передачи 8 следующих друг за другом однобитовых регистров (DI, DO)</p><p>- “word”. Тип используется для передачи одного регистра AI или HR, а также для работы с 16-ю следующими друг за другом регистрами типа DI или DO.</p><p>- “dword”. Тип может быть использован для передачи 2-х следующих друг за другом регистров AI или HR.</p><p>Формат передаваемого значения определяется настройкой “Формат” (см. ниже). Также тип может использоваться для передачи 32-х следующих друг за другом однобитовых регистров (DI, DO).</p>|
|Порядок байт|Очередность байтов - прямая или обратная (21 или 12)|
|Формат|Формат передаваемых данных. Настройка имеет значение при передаваемом объеме данных более одного байта (типы word, dword).|
|Смещение|Смещение бита (байта) внутри регистра, начиная с “0”|
|A, B|Коэффициенты масштабирования.Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение принятое из устройства|
## <a name="_heading=h.m47p74dd1drc"></a><a name="_toc199115108"></a>**OPC DA**
OPC DA - общепринятый стандарт, разработан международной организацией OPC Foundation. Стандарт описывает правила взаимодействия средств автоматизации, функционирующих на разных аппаратных платформах, в разных промышленных сетях и производимых разными фирмами. В FACEPLATE поддержаны протоколы версии OPC DA v1, OPC DA v2.

Стандарт OPC DA построен на базе технологии COM/DCOM. Данная технология разработана фирмой Microsoft для организации взаимодействия программных компонент в среде Windows. В отличие от OPC DA FACEPLATE является кроссплатформенным программным обеспечением, поэтому для взаимодействия с серверами OPC DA используется отдельный программный модуль, который устанавливается на станцию с OPC сервером и обеспечивает взаимодействие FACEPLATE с OPC сервером через TCP подключение. Модуль называется FACEPLATE OPC DA Proxy, он включен в стандартный пакет FACEPLATE, а также может быть получен отдельно.

Для подключения FACEPLATE к OPC DA серверу на станции с OPC сервером необходимо установить FACEPLATE OPC DA Proxy. При установке пользователь определяет какой номер порта будет использовать программа для обмена информацией с FACEPLATE:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 051](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.045.png)

По умолчанию используется порт 8100. После запуска программы в системном трее появится иконка ![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 052](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.046.png), которая свидетельствует о том, что программа запущена и готова к работе. При перезапуске компьютера программа запускается автоматически.

Далее описание процесса настройки OPC DA соединений ведется с предположением того, что на станции с OPC сервером уже установлен и запущен FACE OPC DA Proxy.

Настройка подключений к устройствам по протоколу OPC DA выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 053](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.047.png)

Диалог вызывается при выборе типа OPC DA в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения OPC DA.

|**Настройки**|**Описание**|
| :-: | :-: |
|Имя соединения|Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например “Сервер данных”, или использовать обозначения из проектной документации.|
|Период|Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.|
|Включено|Настройка включения/отключения соединения (“да”/”нет”)|
|Ограничение памяти (МБ)|Задание пределов оперативной памяти для процесса, обслуживающего соединение.|
|IP|IP адрес станции с OPC DA сервером|
|Порт|Номер порта, который использует модуль Faceplate OPC DA Proxy (указывается в процессе установки модуля, по умолчанию 8100)|
|Server ID|Идентификатор OPC сервера, например “ICONICS.SimulatorOPCDA.2”. Список доступных OPC серверов на станции можно получить с помощью тестовых OPC утилит, например Matrikon OPC Explorer (https://www.matrikonopc.com/products/opc-desktop-tools/opc-explorer.aspx)|

Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.

Создание и редактирование привязок OPC DA производится с помощью формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 054](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.048.png)

Диалог вызывается при щелчке по кнопке “Создать” на панели управления привязками.

|**Настройки**|**Описание**|
| :-: | :-: |
|Тег|Объект базы, содержащий набор полей предназначенных для контроля измеряемого параметра.|
|Поле|Поле тега, в которое будет записываться значение параметра|
|Доступ|<p>Права доступа пользователя:</p><p>- R - чтение</p><p>- W - запись</p><p>- RW - чтение и запись</p>|
|OPC тег|Идентификатор тега в пространстве OPC сервера. Доступные OPC теги можно получить с помощью тестовых OPC утилит, например Matrikon OPC Explorer.|
|A, B|Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение OPC тега.|

Шаблоны привязок используются для автоматизации действий разработчика при настройке соединений. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон содержит не полный идентификатор OPC тега, а только часть, определяющую его адрес внутри ветки (постфикс). Например, если в ветке OPCTestGroup содержится параметр, полный адрес которого будет выглядеть как OPCTestGroup.NumericItem, то адресом параметра внутри ветки (постфикс) является NumericItem. Таким образом, если требуется создать множество однотипных привязок для разных веток в устройстве или разных устройств, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и постфиксы тегов внутри ветки. Настройка шаблонов привязок OPC DA, выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 055](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.049.png)
## <a name="_heading=h.ih7btxiu2snp"></a><a name="_toc199115109"></a>**OPCUA\_CLIENT**
OPC (OLE for Process Control) - это семейство протоколов и технологий, предоставляющих единый интерфейс для управления объектами автоматизации и технологическими процессами. OPCUA\_CLIENT может содержать множество клиентов. Каждый клиент может работать параллельно с несколькими серверами.

OPCUA\_CLIENT - протокол, принимающий данные от OPCUA-серверов.

Настройка подключений к устройствам по протоколу OPCUA\_CLIENT выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 056](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.050.png)

Диалог вызывается при выборе типа OPCUA\_CLIENT в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения OPCUA\_CLIENT.

|**Настройки**|**Описание**|
| :-: | :-: |
|Имя соединения|Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.|
|Период (мс)|Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах|
|Включено|Настройка включения/отключения соединения (“да”/”нет”)|
|Ограничение памяти (МБ)|Задание пределов оперативной памяти для процесса, обслуживающего соединение.|
|Поддержка групповых запросов|Настройка включения/отключения поддержки групповых запросов (“да”/”нет”)|
|Макс.длина пакета|Максимальное количество параметров, передаваемых за одну сетевую транзакцию.|
|Коэффициент задержки линии|<p>Коэффициент задержки линии позволяет учесть время задержки, возникающее на линии связи, и компенсировать его.</p><p>Степень использования пропускной способности канала</p><p>(от 1 до 10).</p>|
|URL|Поле поиска OPCUA\_SERVER|
|MaxNodesPerBrowse|Максимальное количество тегов, запрашиваемых за 1 сетевую транзакцию при просмотре содержимого OPC сервера (не при запросе значений).|
|Таймаут|Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения.|
|Защищенное соединения|Настройка включения/отключения защищенного соединения (“да”/”нет”)|
|Сертификат|Выбор или скачивание сертификата безопасности|
|Ключ|Выбор или скачивание ключа безопасности|
|Сгенерировать сертификат|Генерация сертификата и ключа безопасности для защищенного соединения|
|Логин, пароль|Настройка логина и пароля для защищенного соединения|

Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.

Создание и редактирование привязок OPCUA\_CLIENT производится с помощью формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 057](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.051.png)

Диалог вызывается при щелчке по кнопке “Создать” на панели управления привязками.

|**Настройки**|**Описание**|
| :-: | :-: |
|Тег|Объект базы, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.|
|Поле|Поле тега, в которое будет записываться значение получаемого параметра|
|Доступ|<p>Права доступа пользователя:</p><p>- R - чтение</p><p>- W - запись</p><p>- RW - чтение и запись</p>|
|Тип|<p>- Float</p><p>- Double</p><p>- Boolean</p><p>- SByte</p><p>- Byte</p><p>- Int16</p><p>- UInt16</p><p>- Int32</p><p>- UInt32</p><p>- Int64</p><p>- UInt64</p><p>- String</p>|
|ОРС тэг|Обзор тегов|
|A, B|Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение параметра в телеграмме.|

Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства и номер канала, а только определяет параметры модуля и параметры канала. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и параметры масштабирования привязываемых полей. Настройка шаблонов привязок OPCUA\_CLIENT, выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 058](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.052.png)
## <a name="_heading=h.ldu10bk4e0aq"></a><a name="_toc199115110"></a>**OPCUA\_SERVER**
OPCUA-сервер является источником данных для OPCUA-клиентов. OPCUA\_SERVER – это некий универсальный драйвер физического оборудования, обеспечивающий взаимодействие с любым OPC-клиентом.

Настройка подключений к устройствам по протоколу OPCUA\_SERVER выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 059](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.053.png)

Диалог вызывается при выборе типа OPCUA\_SERVER в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения OPCUA\_SERVER.

|**Настройки**|**Описание**|
| :-: | :-: |
|Имя соединения|Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.|
|Основные||
|Период (мс)|Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах|
|Включено|Настройка включения/отключения соединения (“да”/”нет”)|
|Ограничение памяти (МБ)|Задание пределов оперативной памяти для процесса, обслуживающего соединение.|
|Поддержка групповых запросов|Настройка включения/отключения поддержки групповых запросов (“да”/”нет”)|
|Макс.длина пакета|Максимальное количество параметров, передаваемых за одну сетевую транзакцию.|
|Коэффициент задержки линии|<p>Коэффициент задержки линии позволяет учесть время задержки, возникающее на линии связи, и компенсировать его.</p><p>Степень использования пропускной способности канала</p><p>(от 1 до 10).</p>|
|Хост|необязательная настройка для указания хоста сервера|
|Порт|порт сервера|
|Таймаут|Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести увеличению задержек в работе соединения.|
|Пользователи||
|Разрешить анонимный доступ|Настройка включения/отключения анонимного доступа (“да”/”нет”)|
|Логин. Пароль|Настройка логина и пароля для доступа пользователя|
|Шифрование||
|Разрешить незащищенные соединения|Настройка включения/отключения незащищенного соединения (“да”/”нет”)”|
|Сертификат. Ключ|Выбор или скачивание сертификата и ключа безопасности|
|Сгенерировать сертификат|Загрузка сертификатов от клиентов, которые будут использованы в данном соединении.|
|Ограничения||
|Максимальное кол-во сессий|Настройка для указания максимального количества сессий|
|Максимальное кол-во защищенных соединений|Настройка для указания максимального количества защищенных соединений|
|Максимальное кол-во одновременных операций на чтение|Настройка для указания максимального количества одновременных операций на чтение|
|Максимальное кол-во одновременных операций на запись|Настройка для указания максимального количества одновременных операций на запись|
|Таймаут сессии (мс)|через указанное время соединение принудительно закрывается или когда соединение неактивно оно закрывается|
|Максимальное время жизни секретного токена (мс)|В случае использования шифрованного соединения с сертификатами, данные параметр устанавливает максимальное время, после истечения которого клиент должен будет обновить секретный токен.|

Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.

Создание и редактирование привязок OPCUA\_SERVER производится с помощью формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 060](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.054.png)

Диалог вызывается при щелчке по кнопке “Создать” на панели управления привязками.

|**Настройки**|**Описание**|
| :-: | :-: |
|Тег|Объект базы, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.|
|Поле|Поле тега, в которое будет записываться значение получаемого параметра|
|Доступ|<p>Права доступа пользователя:</p><p>- R - чтение</p><p>- W - запись</p><p>- RW - чтение и запись</p>|
|Тип|<p>- Float</p><p>- Double</p><p>- Boolean</p><p>- SByte</p><p>- Byte</p><p>- Int16</p><p>- UInt16</p><p>- Int32</p><p>- UInt32</p><p>- Int64</p><p>- UInt64</p><p>- String</p>|
|ОРС тэг|Обзор тегов|
|A, B|Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение параметра в телеграмме.|

Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства и номер канала, а только определяет параметры модуля и параметры канала. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и параметры масштабирования привязываемых полей. Настройка шаблонов привязок OPCUA\_SERVER, выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 061](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.055.png)
## <a name="_heading=h.ionrso87ug5o"></a><a name="_toc199115111"></a>**S7 (Siemens)**
Протокол S7 разработан компанией Siemens для организации связи с контроллерами серии S7. Faceplate использует данный протокол для обмена данными с контроллерным оборудованием фирмы Siemens:

- S7-LOGO
- Контроллеры серии S7-200
- Контроллеры серии S7-1200
- Контроллеры серии S7-300

  Подключение к указанным типам устройств поддерживается только по сети Ethernet. Настройка подключений к устройствам по протоколу S7 (Siemens) выполняется с помощью следующей формы:

  ![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 062](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.056.png)

  Диалог отображается в процессе создания нового соединения при выборе одного из типов контроллеров из семейства S7 (Siemens), либо при редактировании параметров настроенного ранее соединения S7 (см. Интерфейс редактора “Привязки”). Поддерживаются следующие типы:

- S7-LOGO
- S7-200
- S7-1200
- S7-300

|**Настройки**|**Описание**|
| :-: | :-: |
|Имя соединения|Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например “Цех 1”, или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.|
|Период (мс)|Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.|
|Включено|Настройка включения/отключения соединения (“да”/”нет”)|
|Ограничение памяти (МБ)|Задание пределов оперативной памяти для процесса, обслуживающего соединение.|
|Поддержка групповых запросов|Настройка включения/отключения поддержки групповых запросов (“да”/”нет”)|
|Макс.длина пакета|Максимальное количество байтов, передаваемых за одну сетевую транзакцию.|
|Коэффициент задержки линии|<p>Коэффициент задержки линии позволяет учесть время задержки, возникающее на линии связи, и компенсировать его. Степень использования пропускной способности канала</p><p>(от 1 до 10).</p>|
|Тип контроллера|<p>Выбор типа контроллера:</p><p>- S7-LOGO</p><p>- Контроллеры серии S7-200</p><p>- Контроллеры серии S7-1200</p><p>- Контроллеры серии S7-300</p>|
|IP|IP адрес подключаемого устройства.|
|Порт|Номер порта, используемый для подключения. По умолчанию протокол использует порт 102, но при подключении через шлюз номер порта может отличаться.|
|Стойка, Слот|Параметры актуальны только при подключении к контроллерам серии S7-300 и служат для определения адреса модуля CPU, который для различных конфигураций может отличаться.|
|Таймаут|Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения.|

Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.

Создание и редактирование привязок для контроллеров Siemens производится с помощью формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 063](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.057.png)

Диалог вызывается при щелчке по кнопке “Создать” на панели управления привязками.

|**Настройки**|**Описание**|
| :-: | :-: |
|Тег|Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.|
|Поле|Поле тега, в которое будет записываться значение из сопоставляемой области памяти устройства. Привязка работает также в обратную сторону. Это означает, что при изменении значения в поле тега, новое значение будет записано в память устройства.|
|Доступ|<p>Права доступа пользователя:</p><p>- R - чтение</p><p>- W - запись</p><p>- RW - чтение и запись</p>|
|Область|<p>Тип области памяти:</p><p>- I. Inputs - область входных данных контроллера. Тип области памяти доступен только для чтения.</p><p>- Q. Quits - область выходных данных контроллера. Область доступна для чтения и записи.</p><p>- M. Merker - меркерная область памяти. Область доступна для чтения и записи.</p><p>- DB. Data Blocks - область блоков данных. Область доступна для чтения и записи.</p>|
|Тип|<p>Определяет объем передаваемых данных:</p><p>- “bit” - один бит</p><p>- “byte” - 8 бит</p><p>- “word” - 16 бит</p><p>- “dword” - 32 бита</p>|
|DB|Определяет номер блока данных, если для поля “Область” задано значение “DB”. Значение поля актуально только для соединений с контроллерами серии S7-1200, S7-300, для остальных типов всегда используется значение “1”.|
|Формат|<p>Формат данных в контроллере:</p><p>- integer - целочисленный формат без знака</p><p>- sighned-integer - целочисленный формат со знаком</p><p>- float - число с плавающей точкой</p><p>Для привязок имеющих тип “bit” настройка не актуальна.</p>|
|Байт, Бит|Определяют смещение данных в указанной области памяти.|
|A, B|Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение принятое из устройства.|

Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон ссылается не на конкретный адрес в области памяти контроллера, а задает смещение относительно первой (с наименьшим адресом) привязки в мастере. Таким образом, если в контроллере для хранения информации по однотипным параметрам используется одинаковая структура данных, то целесообразно создать мастер для привязки тегов данного типа. Шаблоны привязок в мастере определяют состав, тип, формат и смещение привязываемых полей данных. Настройка шаблонов привязок для контроллеров Siemens, выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 064](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.058.png)
## <a name="_heading=h.6htad2ppgy2"></a><a name="_toc199115112"></a>**SNMP**
SNMP - это открытый коммуникационный протокол, определенный Инженерным советом интернета (IETF). Протокол широко используется для обмена данными с сетевым оборудованием. В Faceplate поддержаны протоколы версии SNMPv2, SNMPv3.

Настройка подключений по протоколу SNMP выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 065](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.059.png)

Диалог вызывается при выборе типа SNMP в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения SNMP.

|**Настройки**|**Описание**|
| :-: | :-: |
|Имя соединения|Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например “Сервер данных”, или использовать обозначения из проектной документации. Имя должно быть уникальным в рамках проекта.|
|Период (мс)|Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах|
|Включено|Настройка включения/отключения соединения (“да”/”нет”)|
|Ограничение памяти (МБ)|Задание пределов оперативной памяти для процесса, обслуживающего соединение.|
|IP|IP адрес подключаемого устройства|
|Порт|Номер порта, используемый для подключения. По умолчанию протокол использует порт 161, но в зависимости от конфигурации номер порта может отличаться.|
|Community|Строка используемая для аутентификации|
|Agent id|Идентификатор агента. Строка, используемая при аутентификации запроса менеджером SNMPv3 (для версии SNMPv2 рекомендуется оставить значение предложенное по умолчанию).|
|Таймаут|Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения|
|Попыток|Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек|

Привязки описывают какими конкретно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет один контролируемый параметр одному полю тега FACEPLATE.

Создание и редактирование привязок SNMP производится с помощью формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 066](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.060.png)

Диалог вызывается при щелчке по кнопке “Создать” на панели управления привязками.

|**Настройки**|**Описание**|
| :-: | :-: |
|Тег|Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.|
|Поле|Поле тега, в которое будет записываться значение параметра.|
|Доступ|<p>Права доступа пользователя:</p><p>- R - чтение</p><p>- W - запись</p><p>- RW - чтение и запись</p>|
|Адрес|OID адрес контролируемого параметра. Адреса доступных параметров должны быть приведены в документации производителя на подключаемое устройство|
|A, B|Коэффициенты масштабирования. Значение поля рассчитывается по формуле y = A\*x + B, где y - значение поля тега, x - значение параметра в телеграмме.|
|Отключено|Настройка позволяет деактивировать привязку в режиме исполнения.|

Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон содержит не полный адрес параметра, а только часть, определяющую его адрес внутри ветки (постфикс). Например, если в ветке 1.6.3.1 содержится параметр, полный адрес которого будет выглядеть как 1.6.3.1.2.1, то адресом параметра внутри ветки (постфикс) является 2.1. Таким образом, если требуется создать множество однотипных привязок для разных веток в устройстве или разных устройств, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и адреса параметров внутри ветки. Настройка шаблонов привязок SNMP, выполняется с помощью следующей формы:

![Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 067](Aspose.Words.1260fe01-e4e8-4612-9dc5-6f7bf21a29fe.061.png)
