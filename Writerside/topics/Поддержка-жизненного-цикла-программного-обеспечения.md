# Поддержка жизненного цикла программного обеспечения

Для корректного функционирования программного комплекса FACEPLATE необходимо поддерживать операционную систему в исправном и рабочем состоянии. Аппаратные ресурсы системы не должны превышать рекомендованные значения.

## Администрирование операционной системы
Каждый сервер требует регулярного контроля и корректировки своей работы. Основные аспекты администрирования серверов операционных систем включают:
- <b>Отслеживание загрузки центрального процессора (ЦП)</b>: Контролируйте нагрузку на ЦПУ и не допускайте превышения обычной нагрузки более чем на 20%.
- <b>Мониторинг оперативной памяти (ОЗУ)</b>: Убедитесь, что объем свободной оперативной памяти не сокращается менее чем на 20%.
- <b>Мониторинг запоминающих устройств (ЗУ)</b>: Контролируйте доступное пространство на дисках (HDD, SSD) и состояние самих дисков, не допуская сокращения свободного пространства менее 200 ГБ.
- <b>Логирование событий</b>: Регулярно проверяйте логи операционной системы на наличие предупреждений и ошибок, устраняя выявленные проблемы в кратчайшие сроки.
- <b>Контроль нагрузки на диски</b>: Следите за длиной очереди операций чтения/записи на дисках. Рекомендуемое состояние — очередь не должна превышать 1. Если длина очереди превышает 1, но меньше 4, это сигнализирует о высокой загруженности диска. Значение больше 4 указывает на необходимость срочного устранения проблемы.

## Доступность по сети
- <b>Доступность серверов из корпоративной сети по внешним IP адресам</b>: При отсутствии доступа проверяйте исправность сети.
- <b>Доступность серверов из промышленной сети по внутренним IP адресам</b>: При отсутствии доступа проверяйте исправность сети.
- <b>Взаимная доступность серверов</b>: Убедитесь, что сервер #2 доступен с сервера #1 по внутреннему IP адресу и наоборот. При отсутствии доступа проверяйте исправность сети.
- <b>Доступность приложения через Web-интерфейс</b>.
- <b>Нагрузка на сеть</b>: Мониторьте загруженность сети для выявления несанкционированной активности (например, вирусной) или приложений, перегружающих сеть.

## Проверка исправности сети
- Выполните <b>ping</b> с сервера до IP узла, который находится в ошибке.
- При отсутствии ответа на <b>ping</b> устраните сетевую неисправность.
- При наличии ответа на <b>ping</b> делегируйте проблему соответствующему специалисту.

## Администрирование FACEPLATE
Задачи администратора FACEPLATE включают:
- Мониторинг состояния серверов в FACEPLATE Studio.
- Анализ логов приложения.
- Анализ архива сообщений на предмет системных уведомлений.
- Мониторинг состояния соединений.
- Отправка уведомлений по электронной почте.
- Создание резервных копий базы данных.

## Состояние серверов в FACEPLATE Studio
Состояние серверов можно отслеживать на вкладке "Сервера" в FACEPLATE Studio. Все настроенные серверы должны отображаться зеленым цветом, указывающим на их корректную работу.

## Количество сессий
Количество активных сессий не должно превышать 200. Этот показатель зависит от числа одновременно подключенных пользователей и активных соединений с системой.

## Наличие лицензий
Лицензии бывают двух типов:
- Ограниченные по времени
- Неограниченные по времени
Если в системе установлена лицензия с ограниченным сроком действия, необходимо следить за ее окончанием и своевременно продлевать.

## Анализ логов приложения
Сообщения, поступающие в процессе работы системы, можно анализировать через консоль или файлы логов, которые сохраняются в директории …\faceplate\logs. В данной директории находятся два файла:
- <b>error_log</b>: содержит записи об ошибках, аварийных сбросах (crash dumps) и других критических событиях.
- <b>console_log</b>: включает все события системы, такие как информационные, предупредительные и критические сообщения.

## Переключение уровня логирования
В системе предусмотрена возможность переключения уровня логирования. Уровень задается в файле lager.config, который находится в директории …\faceplate\etc\config\apps. Изменение настроек этого файла без необходимости не рекомендуется. Существует пять уровней логирования, которые можно изменять при старте системы:
- <b>debug</b>: самый низкий уровень, при котором записываются все сообщения системы. Используется для отладки и поиска неисправностей. Также включает сообщения всех уровней выше.
- <b>info</b>: записываются только информационные сообщения, а также сообщения всех уровней выше. Установлен по умолчанию.
- <b>warning</b>: записываются только предупредительные сообщения, а также сообщения всех уровней выше.
- <b>error</b>: записываются только сообщения об ошибках, а также сообщения уровня выше.
- <b>crash</b>: самый высокий уровень, при котором записываются только сообщения об отказе работоспособности системы. Не рекомендуется для постоянного использования.
