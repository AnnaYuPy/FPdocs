<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-06-12T15:08:52.22396375"><title>PLC-черновик | Faceplate docs</title><script type="application/json" id="virtual-toc-data">[{"id":"-sv3sd7_59150","level":0,"title":"Назначение","anchor":"#-sv3sd7_59150"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="PLC-черновик | Faceplate docs"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Faceplate docs Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/привязки.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="PLC-черновик | Faceplate docs"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/привязки.html#webpage",
    "url": "writerside-documentation/привязки.html",
    "name": "PLC-черновик | Faceplate docs",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Faceplate docs Help"
}</script><!-- End Schema.org --></head><body data-id="Привязки" data-main-title="PLC-черновик" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Faceplate-Tutorial.md|Faceplate (Tutorial)///PLC-соединения.md|PLC-соединения"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Faceplate docs  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Привязки" id="Привязки.md">PLC-черновик</h1><section class="chapter"><h2 id="-sv3sd7_59150" data-toc="-sv3sd7_59150"><a name=""></a><span class="control" id="-sv3sd7_59155">Назначение</span></h2><p id="-sv3sd7_59158">PLC-соединение в IIoT-платформе представляет собой связь между платформой и программируемым логическим контроллером (PLC - Programmable Logic Controller). PLC является устройством, используемым для автоматизации процессов и управления промышленным оборудованием, а IIoT-платформа обычно служит для мониторинга, контроля и управления процессами, включая взаимодействие с PLC.</p><p id="-sv3sd7_59160">PLC-соединение обеспечивает обмен данными между IIoT-платформой и PLC. Это позволяет IIoT-платформе получать данные от PLC, такие как значения датчиков, статусы устройств и т.д., и отправлять команды на управление оборудованием, изменять установки и так далее. Обычно PLC-соединение устанавливается по промышленным протоколам связи, таким как Modbus, OPC (OLE for Process Control), Profibus, DeviceNet и другие.</p><p id="-sv3sd7_59162">PLC-соединение является ключевым элементом для обеспечения взаимодействия между IIoT-платформой и устройствами на местах, что позволяет операторам и инженерам мониторить и контролировать процессы производства, а также проводить диагностику и анализ данных для оптимизации работы оборудования и производственных процессов.</p><p id="-sv3sd7_59164">Информация о контролируемом объекте поступает в систему из подключенных полевых устройств (измерительные приборы, счетчики, частотные преобразователи и т.д.), а также из программируемых логических контроллеров (PLC - Programmable Logic Controller). Faceplate обеспечивает сбор информации с имеющихся интеллектуальных устройств, ее первичную обработку и запись в датасет (поля тега, где каждый тег представляет собой структуру данных, поля которой содержат информацию об отдельной точке, например, измеряемый параметр, регулятор, клапан, привод). Остальные подсистемы: сообщений, визуализации, архивирования используют информацию из тегов.</p><p id="-sv3sd7_59165">Модуль &ldquo;PLC Соединения&rdquo; FACEPLATE обеспечивает сбор информации с имеющихся интеллектуальных устройств, ее первичную обработку и запись в поля тегов. Каждый тег представляет собой структуру данных, поля которой содержат информацию об отдельной точке, например, измеряемый параметр, регулятор, клапан, привод. Другие системы (сообщений, визуализации, архивирования) используют информацию из тегов.</p><p id="-sv3sd7_59168">В FACEPLATE при настройке всех типов PLC-соединений следует учитывать, что подключенное устройство опрашивается системой циклически через определенный промежуток времени. Поэтому требуется задать периодичность (мс), т.е. длительность интервала между сеансами.</p><p id="-sv3sd7_59169">Также необходимо учитывать, что емкость памяти определяет количество переменных (тегов), которые могут быть обработаны в процессе функционирования соединения. Поэтому при создании соединения следует настроить ограничение памяти, т.е. задать пределы оперативной памяти (МБ) для процесса, обслуживающего соединение.</p><p id="-sv3sd7_59171">В FACEPLATE возможно организовать опрос PLC-соединений с использованием групповых запросов в системе. Групповой запрос в PLC-соединениях используется для считывания или записи нескольких значений одновременно. Он позволяет обмениваться данными между PLC и другими устройствами, такими как датчики, приводы, панели оператора и т.д. Преимущества групповых запросов включают увеличение производительности и уменьшение времени цикла выполнения программы PLC. Вместо того чтобы отправлять или получать данные по одному значению за раз, групповой запрос позволяет передавать или получать группу значений одним запросом. Это особенно полезно при работе с большим количеством данных или при требовании высокой скорости передачи данных.</p><p id="-sv3sd7_59173">В настройках некоторых типов PLC-соединений определяется максимальная длина пакета передаваемых данных за одну сетевую транзакцию. Максимальная длина пакета для типов S7(Siemens) и MODBUS указывается в количестве байтов, а для типов OPCUA_CLIENT и OPCUA_SERVER &ndash; в количестве параметров.</p><p id="-sv3sd7_59176">Коэффициент задержки линии в PLC-соединениях используется для компенсации времени задержки при передаче данных по сети или линии связи между PLC и другими устройствами. Он позволяет синхронизировать временные интервалы между передачей и приемом данных, учитывая задержки, вызванные пропагацией сигнала, обработкой данных в устройствах передачи, маршрутизацией пакетов и другими факторами. Задержки могут привести к несоответствию временных интервалов между отправкой и получением данных, что может вызывать ошибки и неправильное функционирование системы.</p><p id="-sv3sd7_59177">Коэффициент задержки линии позволяет учесть время задержки, возникающее на линии связи, и компенсировать его в программе PLC. Он может быть использован для корректировки временных задержек в различных операциях, таких как синхронизация обмена данными, управление таймингами или синхронизация событий в системе.</p><p id="-sv3sd7_59179">В FACEPLATE поддерживаются следующие типы PLC-соединений:</p><ul class="list _bullet" id="-sv3sd7_59181"><li class="list__item" id="-sv3sd7_59184"><p id="-sv3sd7_59186">DCON (ICP DAS)</p></li><li class="list__item" id="-sv3sd7_59187"><p id="-sv3sd7_59190">ETHERNET_IP</p></li><li class="list__item" id="-sv3sd7_59191"><p id="-sv3sd7_59193">IEC101_CLIENT</p></li><li class="list__item" id="-sv3sd7_59196"><p id="-sv3sd7_59198">IEC101_SERVER</p></li><li class="list__item" id="-sv3sd7_59199"><p id="-sv3sd7_59201">IEC104_CLIENT</p></li><li class="list__item" id="-sv3sd7_59203"><p id="-sv3sd7_59206">IEC104_SERVER</p></li><li class="list__item" id="-sv3sd7_59207"><p id="-sv3sd7_59210">IEC62056</p></li><li class="list__item" id="-sv3sd7_59212"><p id="-sv3sd7_59214">M-BUS</p></li><li class="list__item" id="-sv3sd7_59216"><p id="-sv3sd7_59217">MERCURY 230</p></li><li class="list__item" id="-sv3sd7_59219"><p id="-sv3sd7_59222">MODBUS</p></li><li class="list__item" id="-sv3sd7_59224"><p id="-sv3sd7_59225">OPC DA</p></li><li class="list__item" id="-sv3sd7_59227"><p id="-sv3sd7_59230">OPCUA_CLIENT</p></li><li class="list__item" id="-sv3sd7_59231"><p id="-sv3sd7_59233">OPCUA_SERVER</p></li><li class="list__item" id="-sv3sd7_59235"><p id="-sv3sd7_59238">S7 (Siemens)</p></li><li class="list__item" id="-sv3sd7_59240"><p id="-sv3sd7_59242">SNMP</p><p id="-sv3sd7_59243"><a name=""></a> Структура модуля &quot;PLC Соединения&quot; наглядно представлена ниже.</p><figure id="-sv3sd7_59248"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 001" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.001.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 001" width="604" height="456"></figure><section class="chapter"><h3 id="plc" data-toc="plc"><a name=""></a> Интерфейс модуля &ldquo;PLC Соединения&rdquo;</h3><p id="-sv3sd7_59253">Настройка подключений к контроллерам и полевым устройствам выполняется в модуле &ldquo;PLC Соединения&rdquo;, располагаемый в меню навигации FACEPLATE Studio. Модуль включает в себя два редактора - &ldquo;Привязки&rdquo; и &ldquo;Мастера&rdquo;.</p><section class="chapter"><h4 id="-sv3sd7_59256" data-toc="-sv3sd7_59256"><a name=""></a> Редактор &ldquo;Привязки&rdquo;</h4><p id="-sv3sd7_59262">Редактор &ldquo;Привязки&rdquo; позволяет конфигурировать параметры подключения к опрашиваемым устройствам и определять состав получаемой и отправляемой в устройство информации - привязки.</p><figure id="-sv3sd7_59264"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 002" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.002.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 002" width="604" height="102"></figure><section class="chapter"><h5 id="-sv3sd7_59266" data-toc="-sv3sd7_59266"><a name=""></a> Интерфейс редактора &ldquo;Привязки&rdquo;</h5><p id="-sv3sd7_59272">В верхней части экрана расположена панель управления, ниже которой находится рабочая область, поделенная на 2 части:</p><ul class="list _bullet" id="-sv3sd7_59273"><li class="list__item" id="-sv3sd7_59276"><p id="-sv3sd7_59278">Панель соединений расположена слева и содержит список сконфигурированных подключений (см. <span id="-sv3sd7_59279">Панель соединений</span>).</p></li><li class="list__item" id="-sv3sd7_59281"><p id="-sv3sd7_59283">Панель привязок расположена справа и содержит список привязок по выбранному соединению (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_59285" data-external="true" rel="noopener noreferrer">Панель привязок</a>).</p></li></ul><section class="chapter"><h6 id="-sv3sd7_59287" data-toc="-sv3sd7_59287"><a name=""></a> Панель соединений</h6><p id="-sv3sd7_59294">Панель соединений содержит таблицу, каждая строка которой соответствует отдельному подключению и отображает следующую информацию:</p></section></section></section></section></li><li class="list__item" id="-sv3sd7_59296"><p id="-sv3sd7_59298"><code class="code" id="-sv3sd7_59299"></code> &ldquo;Имя&rdquo;. Наименование подключения. Имя выбирается разработчиком, имя должно быть уникальным в рамках проекта.</p></li><li class="list__item" id="-sv3sd7_59302"><p id="-sv3sd7_59304"><code class="code" id="-sv3sd7_59305"></code> &ldquo;Тип&rdquo;. Используемый тип подключения к устройству.</p></li><li class="list__item" id="-sv3sd7_59307"><p id="-sv3sd7_59309"><code class="code" id="-sv3sd7_59311"></code> &ldquo;Статус&rdquo;. Текущее состояние соединения. В случае отсутствия ошибок в работе соединения поле содержит текст &ldquo;ОК&rdquo;, в других случаях в поле выводится текст последней ошибки, например &ldquo;connection timeout&rdquo; (информация актуализируется только в режиме Runtime).</p><figure id="-sv3sd7_59313"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 003" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.003.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 003" width="432" height="164"></figure><p id="-sv3sd7_59316">Для создания соединений используется панель управления:</p><figure id="-sv3sd7_59318"><img alt="ref1" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.004.png" title="ref1" width="251" height="46"></figure><p id="-sv3sd7_59320">Элементы панели соединений:</p></li></ul><div class="table-wrapper"><table class="wide" id="-sv3sd7_59322"><thead><tr class="ijRowHead" id="-sv3sd7_59323"><th id="-sv3sd7_59325"><p><img alt="ref2" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.005.png" class="inline-icon-" title="ref2" id="-sv3sd7_59327" width="35" height="31"></p></th><th id="-sv3sd7_59330"><p id="-sv3sd7_59332">Обновление отображения базы соединений и их привязок.</p><p id="-sv3sd7_59334">Для получения обновлений, выполненных другими, если над проектом одновременно работают несколько разработчиков.</p><p id="-sv3sd7_59336">Для обновления диагностической информации, если проект находиться в режиме исполнения Runtime.</p></th></tr></thead><tbody><tr id="-sv3sd7_59338"><td id="-sv3sd7_59339"><figure id="-sv3sd7_59341"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 006" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.006.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 006" width="31" height="33"></figure></td><td id="-sv3sd7_59343"><p>Создание нового соединения. При щелчке по кнопке появится диалог, предлагающий выбрать тип соединения. После выбора типа, будет отображен диалог настройки параметров соединения для выбранного типа.</p></td></tr><tr id="-sv3sd7_59345"><td id="-sv3sd7_59347"><figure id="-sv3sd7_59350"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 007" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.007.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 007" width="31" height="33"></figure></td><td id="-sv3sd7_59351"><p>Редактирование выделенного соединения.</p></td></tr><tr id="-sv3sd7_59353"><td id="-sv3sd7_59356"><figure id="-sv3sd7_59358"><img alt="ref3" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.008.png" title="ref3" width="33" height="35"></figure></td><td id="-sv3sd7_59359"><p>Удаление выделенных соединений вместе с созданными для них привязками.</p></td></tr></tbody></table></div><section class="chapter"><h3 id="-sv3sd7_59361" data-toc="-sv3sd7_59361"><a name=""></a> Панель привязок</h3><p id="-sv3sd7_59368">Панель представляет собой таблицу следующего вида (пример):</p><figure id="-sv3sd7_59370"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 009" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.009.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 009" width="604" height="40"></figure><p id="-sv3sd7_59371">Каждая строка таблицы соответствует отдельной привязке. Каждая привязка сопоставляет поле тега определенной области памяти подключенного устройства. В строке отображена следующая информация:</p><ul class="list _bullet" id="-sv3sd7_59373"><li class="list__item" id="-sv3sd7_59376"><p id="-sv3sd7_59377"><code class="code" id="-sv3sd7_59379"></code> &ldquo;Тег&rdquo;. Структура данных, поля которой содержат информацию об отдельной точке.</p></li><li class="list__item" id="-sv3sd7_59381"><p id="-sv3sd7_59383"><code class="code" id="-sv3sd7_59385"></code> &ldquo;Поле&rdquo;. Поле тега, в которое будет проецироваться привязываемая область памяти устройства (например контроллера, измерительного устройства и пр.).</p></li><li class="list__item" id="-sv3sd7_59387"><p id="-sv3sd7_59389"><code class="code" id="-sv3sd7_59391"></code> &ldquo;A&rdquo; и &ldquo;B&rdquo;. Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_59393">y = A*x + B</span>, где <span class="control" id="-sv3sd7_59395">y</span> - значение поля тега, <span class="control" id="-sv3sd7_59397">x</span> - значение в области памяти устройства.</p></li><li class="list__item" id="-sv3sd7_59399"><p id="-sv3sd7_59402"><code class="code" id="-sv3sd7_59404"></code> &ldquo;Статус&rdquo;. Текущее состояние привязки. В случае отсутствия ошибок поле содержит текст &ldquo;ОК&rdquo;, в других случаях в поле выводится текст последней ошибки, например &ldquo;invalid address&rdquo; (информация актуализируется только в режиме исполнения Runtime). Расшифровка ошибок должна быть приведена в документации производителя на подключаемое устройство (например контроллера, измерительного устройства и пр.).</p></li><li class="list__item" id="-sv3sd7_59405"><p id="-sv3sd7_59408"><code class="code" id="-sv3sd7_59410"></code> Состав остальных полей зависит от типа выбранного соединения и содержит информацию, описывающую адрес в памяти подключаемого устройства. Информацию по ним можно найти в описании типов соединений.</p><p id="-sv3sd7_59412">Для конфигурирования привязок используется панель:</p><figure id="-sv3sd7_59413"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 010" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.010.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 010" width="385" height="46"></figure><p id="-sv3sd7_59415">Элементы панели привязок:</p></li></ul><div class="table-wrapper"><table class="wide" id="-sv3sd7_59417"><thead><tr class="ijRowHead" id="-sv3sd7_59420"><th id="-sv3sd7_59421"><figure id="-sv3sd7_59424"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 011" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.011.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 011" width="33" height="33"></figure></th><th id="-sv3sd7_59426"><p id="-sv3sd7_59427">Создание новой привязки.</p><p id="-sv3sd7_59430">Создание новых привязок и редактирование их настроек описано для каждого типа соединения отдельно.</p></th></tr></thead><tbody><tr id="-sv3sd7_59431"><td id="-sv3sd7_59434"><figure id="-sv3sd7_59436"><img alt="ref4" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.012.png" title="ref4" width="33" height="33"></figure></td><td id="-sv3sd7_59438"><p id="-sv3sd7_59440">Создание привязок с помощью мастера</p><p id="-sv3sd7_59442">(см. <span id="-sv3sd7_59443">Создание привязок с помощью мастера</span>).</p></td></tr><tr id="-sv3sd7_59446"><td id="-sv3sd7_59447"><figure id="-sv3sd7_59450"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 013" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.013.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 013" width="33" height="33"></figure></td><td id="-sv3sd7_59451"><p>Редактирование привязки</p></td></tr><tr id="-sv3sd7_59454"><td id="-sv3sd7_59456"><figure id="-sv3sd7_59458"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 014" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.014.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 014" width="33" height="33"></figure></td><td id="-sv3sd7_59459"><p>Удаление выделенных привязок</p></td></tr><tr id="-sv3sd7_59462"><td id="-sv3sd7_59464"><p><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 015" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.015.png" class="inline-icon-" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 015" id="-sv3sd7_59465" width="107" height="30"></p></td><td id="-sv3sd7_59467"><p id="-sv3sd7_59469">Автоматическое создание мастера для выделенной привязки</p><p id="-sv3sd7_59471">(см. <span id="-sv3sd7_59474">Автоматическое создание мастеров привязок</span>)</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="-sv3sd7_59476" data-toc="-sv3sd7_59476"><a name=""></a> Создание привязок с помощью мастера</h3><p id="-sv3sd7_59482">Мастер служит для автоматизации действий разработчика при создании привязок. Мастер позволяет в одно действие создать группу привязок по заранее подготовленным шаблонам. Запуск мастера выполняется с помощью диалога, который вызывается по кнопке <figure id="-sv3sd7_59483"><img alt="ref4" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.012.png" title="ref4" width="33" height="33"></figure> на панели управления редактора &ldquo;Привязки&rdquo;.</p><p id="-sv3sd7_59486">Например, форма диалога для соединения S7 (Siemens) имеет следующий вид:</p><figure id="-sv3sd7_59487"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 016" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.016.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 016" width="332" height="275"></figure><p id="-sv3sd7_59489">Форма диалога содержит основные (одинаковые) параметры, а также ряд параметров, характерных для отдельного типа PLC соединения.</p><p id="-sv3sd7_59491">Для запуска мастера нужно указать основные параметры для всех типов PLC соединений:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_59493"><thead><tr class="ijRowHead" id="-sv3sd7_59496"><th id="-sv3sd7_59498"><p>Мастер</p></th><th id="-sv3sd7_59499"><p id="-sv3sd7_59502">Выбор мастера, из списка доступных.</p><p id="-sv3sd7_59504">Мастера должны быть заранее сконфигурированы через &ldquo;Автоматическое создание мастеров привязок&rdquo; или с помощью &ldquo;Создание шаблонов привязок&rdquo;.</p></th></tr></thead><tbody><tr id="-sv3sd7_59506"><td id="-sv3sd7_59507"><p>Тег</p></td><td id="-sv3sd7_59509"><p>Объект базы, содержащий набор полей для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.</p></td></tr></tbody></table></div><p id="-sv3sd7_59511">И далее в форме следует указать параметры для определенного типа PLC соединения:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_59513"><thead><tr class="ijRowHead" id="-sv3sd7_59516"><th id="-sv3sd7_59518"><p><b id="-sv3sd7_59519">Тип соединения</b></p></th><th id="-sv3sd7_59522"><p><b id="-sv3sd7_59524">Параметр</b></p></th><th id="-sv3sd7_59525"><p><b id="-sv3sd7_59528">Характеристика параметра</b></p></th></tr></thead><tbody><tr id="-sv3sd7_59529"><td id="-sv3sd7_59531" rowspan="2"><p><b id="-sv3sd7_59534">DCON</b></p></td><td id="-sv3sd7_59535"><p>Адрес</p></td><td id="-sv3sd7_59538"><p>Адрес устройства на шине, может принимать значения от 1 до 254.</p></td></tr><tr id="-sv3sd7_59540"><td id="-sv3sd7_59542"><p>Канал</p></td><td id="-sv3sd7_59544"><p>Номер канала для которого создается привязка (отсчет ведется с 1).</p></td></tr><tr id="-sv3sd7_59546"><td id="-sv3sd7_59548"><p><b id="-sv3sd7_59550">ETHERNET_IP</b></p></td><td id="-sv3sd7_59552"><p>Префикс</p></td><td id="-sv3sd7_59554"><p>Часть имени тега, расположенная перед основным именем. Префикс тега в пространстве OPC сервера, постфиксы указаны в шаблоне привязок в выбранном мастере. Имя OPC тега будет вычислено мастером путем конкатенации префикса и определенных в шаблонах привязок постфиксов.</p></td></tr><tr id="-sv3sd7_59556"><td id="-sv3sd7_59558"><p><b id="-sv3sd7_59559">IEC101_CLIENT</b></p></td><td id="-sv3sd7_59561"></td><td id="-sv3sd7_59564"></td></tr><tr id="-sv3sd7_59565"><td id="-sv3sd7_59567"><p><b id="-sv3sd7_59569">IEC101_SERVER</b></p></td><td id="-sv3sd7_59572"></td><td id="-sv3sd7_59574"></td></tr><tr id="-sv3sd7_59576"><td id="-sv3sd7_59577"><p><b id="-sv3sd7_59579">IEC104_CLIENT</b></p></td><td id="-sv3sd7_59582"></td><td id="-sv3sd7_59583"></td></tr><tr id="-sv3sd7_59585"><td id="-sv3sd7_59587"><p><b id="-sv3sd7_59589">IEC104_SERVER</b></p></td><td id="-sv3sd7_59591"></td><td id="-sv3sd7_59594"></td></tr><tr id="-sv3sd7_59596"><td id="-sv3sd7_59597" rowspan="2"><p><b id="-sv3sd7_59599">IEC62056</b></p></td><td id="-sv3sd7_59602"><p>Адрес</p></td><td id="-sv3sd7_59603"><p>Логический адрес может быть числом или строкой, в зависимости от реализации протокола. Он обычно уникален для каждого устройства в сети, чтобы обеспечить однозначную идентификацию при обмене данными.</p></td></tr><tr id="-sv3sd7_59606"><td id="-sv3sd7_59607"><p>Пароль</p></td><td id="-sv3sd7_59610"><p>Пароль доступа к подключаемому устройству.</p></td></tr><tr id="-sv3sd7_59612"><td id="-sv3sd7_59613"><p><b id="-sv3sd7_59615">M-BUS</b></p></td><td id="-sv3sd7_59617"><p>Адрес</p></td><td id="-sv3sd7_59620"><p>Адрес устройства на шине, может принимать значения от 1 до 250.</p></td></tr><tr id="-sv3sd7_59621"><td id="-sv3sd7_59623" rowspan="2"><p><b id="-sv3sd7_59626">MERCURY 230</b></p></td><td id="-sv3sd7_59628"><p>Адрес</p></td><td id="-sv3sd7_59630"><p>Адрес устройства на шине, может принимать значения от 1 до 253.</p></td></tr><tr id="-sv3sd7_59631"><td id="-sv3sd7_59633"><p>Пароль</p></td><td id="-sv3sd7_59634"><p>Пароль доступа к подключаемому устройству.</p></td></tr><tr id="-sv3sd7_59635"><td id="-sv3sd7_59636" rowspan="2"><p><b id="-sv3sd7_59637">MODBUS</b></p></td><td id="-sv3sd7_59638"><p>Адрес slave</p></td><td id="-sv3sd7_59639"><p>Modbus-адрес устройства на шине, может принимать значения от 1 до 255. Значение поля используется при подключении к устройству через шлюз, либо в режиме RTU-SERIAL.</p></td></tr><tr id="-sv3sd7_59640"><td id="-sv3sd7_59641"><p>Адрес</p></td><td id="-sv3sd7_59642"><p id="-sv3sd7_59643">Адрес начального регистра. Адреса создаваемых привязок будут вычислены относительного этого адреса с учетом заданных в шаблонах смещений. Например, если мастер содержит шаблон привязки, в котором &ldquo;Адрес&rdquo; = 6 и при запуске мастера указан начальный адрес 512, то адрес созданной привязки будет равен:</p><p id="-sv3sd7_59644">512 + 6 = 518</p><p id="-sv3sd7_59645">т.е. в шаблоне привязки задается не конкретный адрес регистра, а смещение относительно адреса, указываемого при запуске мастера.</p></td></tr><tr id="-sv3sd7_59646"><td id="-sv3sd7_59647"><p><b id="-sv3sd7_59648">OPCDA</b></p></td><td id="-sv3sd7_59649"><p id="-sv3sd7_59650">Тег-</p><p id="-sv3sd7_59651">префикс</p></td><td id="-sv3sd7_59652"><p>Часть имени тега, расположенная перед основным именем. Префикс тега в пространстве OPC сервера, постфиксы указаны в шаблоне привязок в выбранном мастере. Имя OPC тега будет вычислено мастером путем конкатенации префикса и определенных в шаблонах привязок постфиксов.</p></td></tr><tr id="-sv3sd7_59653"><td id="-sv3sd7_59654" rowspan="2"><p><b id="-sv3sd7_59655">OPCUA_CLIENT</b></p></td><td id="-sv3sd7_59656" rowspan="2"><p id="-sv3sd7_59657">Тег-</p><p id="-sv3sd7_59658">префикс</p></td><td id="-sv3sd7_59659" rowspan="2"><p>Часть имени тега, расположенная перед основным именем. Префикс тега в пространстве OPC сервера, постфиксы указаны в шаблоне привязок в выбранном мастере. Имя OPC тега будет вычислено мастером путем конкатенации префикса и определенных в шаблонах привязок постфиксов.</p></td></tr><tr id="-sv3sd7_59660"></tr><tr id="-sv3sd7_59661"><td id="-sv3sd7_59662"><p><b id="-sv3sd7_59663">OPCUA_SERVER</b></p></td><td id="-sv3sd7_59664"></td><td id="-sv3sd7_59665"></td></tr><tr id="-sv3sd7_59666"><td id="-sv3sd7_59667"><p><b id="-sv3sd7_59668">SNMP</b></p></td><td id="-sv3sd7_59669"><p>Адрес</p></td><td id="-sv3sd7_59670"><p>OID ветки (префикс), содержащей привязываемые параметры.</p></td></tr><tr id="-sv3sd7_59671"><td id="-sv3sd7_59672" rowspan="3"><p><b id="-sv3sd7_59673">S7 (Siemens)</b></p></td><td id="-sv3sd7_59674"><p>Область</p></td><td id="-sv3sd7_59675"><p id="-sv3sd7_59676">Тип области памяти:</p><p id="-sv3sd7_59677">- I. Inputs - область входных данных контроллера</p><p id="-sv3sd7_59678">- Q. Quits - область выходный данных контроллера</p><p id="-sv3sd7_59679">- M. Merker - меркерная область памяти</p><p id="-sv3sd7_59680">- DB. Data Blocks - область блоков данных</p></td></tr><tr id="-sv3sd7_59681"><td id="-sv3sd7_59682"><p>DB</p></td><td id="-sv3sd7_59683"><p>Определяет номер блока данных, если для поля &ldquo;Область&rdquo; задано значение &ldquo;DB&rdquo;. Значение поля актуально только для соединений с контроллерами серии S7-1200, S7-300 и S7-400, для остальных типов всегда используется значение &ldquo;1&rdquo;.</p></td></tr><tr id="-sv3sd7_59684"><td id="-sv3sd7_59685"><p>Байт</p></td><td id="-sv3sd7_59686"><p>Определяют смещение структуры данных в указанной области памяти.</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="-sv3sd7_59687" data-toc="-sv3sd7_59687"><a name=""></a> Автоматическое создание мастеров привязок</h3><p id="-sv3sd7_59690">Если для одного тега сконфигурированы одна или более привязок, ссылающихся на одну структуру данных в памяти контроллера, то можно создать по ним мастер. Далее мастер может использоваться для автоматизации действий при создании привязок для данного типа тегов. Для создания мастера нужно выбрать одну или более привязок, относящихся к одному и тому же тегу, после чего станет доступна кнопка &ldquo;Создать мастер&rdquo; (см. <span id="-sv3sd7_59691">Интерфейс редактора &ldquo;Привязки&rdquo;</span>).</p><p id="-sv3sd7_59692">При щелчке <figure id="-sv3sd7_59693"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 017" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.017.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 017" width="119" height="33"></figure> появится диалог, предлагающий задать имя создаваемого мастера. Далее после задания имени мастера и нажатия OK появиться надпись &ldquo;Мастер успешно создан&rdquo;.</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_59694"><thead><tr class="ijRowHead" id="-sv3sd7_59695"><th id="-sv3sd7_59696"><figure id="-sv3sd7_59697"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 018" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.018.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 018" width="272" height="121"></figure></th><th id="-sv3sd7_59698"><p id="-sv3sd7_59700"></p><p id="-sv3sd7_59701"></p><p id="-sv3sd7_59702"></p><p id="-sv3sd7_59703"><span class="control" id="-sv3sd7_59704">O</span></p></th><th id="-sv3sd7_59705"><figure id="-sv3sd7_59708"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 019" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.019.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 019" width="242" height="105"></figure></th></tr></thead><tbody></tbody></table></div><p id="-sv3sd7_59707">При создании мастера автоматически будут созданы шаблоны привязок в редакторе &ldquo;Мастера&rdquo; на основе привязок, выделенных в таблице.</p><p id="-sv3sd7_59709">Автоматическое создание мастеров привязки может отобразиться, например, следующим образом:</p><ul class="list _bullet" id="-sv3sd7_59711"><li class="list__item" id="-sv3sd7_59713"><p id="-sv3sd7_59714">в редакторе &ldquo;Привязки&rdquo;</p><figure id="-sv3sd7_59716"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 020" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.020.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 020" width="604" height="118"></figure></li><li class="list__item" id="-sv3sd7_59718"><p id="-sv3sd7_59720">в редакторе &ldquo;Мастера&rdquo;</p></li></ul><figure id="-sv3sd7_59722"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 021" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.021.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 021" width="604" height="120"></figure></section><section class="chapter"><h3 id="-sv3sd7_59725" data-toc="-sv3sd7_59725"><a name=""></a> Экспорт/Импорт соединений и привязок</h3><p id="-sv3sd7_59730">База соединений и их привязок может быть выгружена в .xlsx файл - кнопка &ldquo;Экспорт&rdquo; в редакторе &ldquo;Привязки&rdquo;. Состав настроечных полей отличается для разных типов соединений. В результате браузер загрузит файл с базой настроенных соединений PLC_Connections.xlsx, в котором содержатся листы - база данных соединений и листы - база данных привязок. Просмотр и редактирование файла выполняется с помощью табличных редакторов, поддерживающих формат .xlsx.</p><p id="-sv3sd7_59733">Например, база соединений для типа M-BUS имеет следующий вид:</p><figure id="-sv3sd7_59734"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 022" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.022.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 022" width="604" height="303"></figure><p id="-sv3sd7_59737">Каждая строка соответствует одному соединению и содержит набор столбцов, соответствующий настроечным параметрам для соединений данного типа. В файле можно добавить или отредактировать строки. Сохранение нужно делать в том же формате.</p><p id="-sv3sd7_59738">Например, база привязок для типа M-BUS имеет следующий вид:</p><figure id="-sv3sd7_59741"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 023" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.023.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 023" width="604" height="478"></figure><p id="-sv3sd7_59743">Каждая строка соответствует одной привязке и содержит набор столбцов, соответствующий настроечным параметрам для привязки соединений данного типа. В файле можно добавить или отредактировать строки. Сохранение нужно делать в том же формате.</p><p id="-sv3sd7_59744">Файл можно импортировать обратно в проект, в результате чего внесенные изменения будут загружены в базу. Также механизм экспорта/импорта позволяет переносить настройки между проектами, например с тестового сервера или станции разработчика на боевой проект. Для импорта файла нужно в редакторе &ldquo;Привязки&rdquo; (см. <span id="-sv3sd7_59747">Интерфейс редактора &ldquo;Привязки&rdquo;</span>) щелкнуть по кнопке &ldquo;Импорт&rdquo;, в результате появится диалог выбора файла:</p><figure id="-sv3sd7_59749"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 024" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.024.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 024" width="318" height="147"></figure><p id="-sv3sd7_59751">Поддерживается выбор файлов с помощью проводника (кнопка &ldquo;Select files&rdquo;) или операции drag-and-drop, т.е. перетаскивания файла мышью. После выбора файла станет активна кнопка &ldquo;OK&rdquo;, при щелчке по которой будет выполнен импорт выбранного файла.</p><p id="-sv3sd7_59753"><span class="control" id="-sv3sd7_59755">Внимание!</span> Листы** импортируемого файла с базой соединений и привязок имеют имена следующего формата:</p><p id="-sv3sd7_59757">ТИП СОЕДИНЕНИЯ_CONNECTIONS@тип соединения</p><p id="-sv3sd7_59758">ТИП СОЕДИНЕНИЯ_TAG@тип соединения_t</p><p id="-sv3sd7_59761">Например:</p><ul class="list _bullet" id="-sv3sd7_59763"><li class="list__item" id="-sv3sd7_59765"><p id="-sv3sd7_59767">для соединений типа OPCUA_SERVER название листов:</p><p id="-sv3sd7_59768">OPCUA_SERVER_CONNECTIONS@opcua_s</p><p id="-sv3sd7_59770">OPCUA_SERVER_TAG@opcua_s_t</p></li><li class="list__item" id="-sv3sd7_59773"><p id="-sv3sd7_59774">для соединений типа M-BUS название листов:</p><p id="-sv3sd7_59776">MBUS_CONNECTIONS@mbus</p><p id="-sv3sd7_59779">MBUS_TAG@mbus_t</p><p id="-sv3sd7_59781">Имя файла используется механизмом импорта для определения программного модуля, выполняющего загрузку данных из файла.</p><section class="chapter"><h4 id="-sv3sd7_59782" data-toc="-sv3sd7_59782"><a name=""></a> Редактор &ldquo;Мастера&rdquo;</h4><p id="-sv3sd7_59789">Редактор &ldquo;Мастера&rdquo; служит для конфигурации мастеров, используемых при создании привязок. Мастера создания привязок позволяют автоматизировать действия разработчика при групповом создании однотипных привязок.</p><p id="-sv3sd7_59791">Рекомендуется создать мастер с шаблонами привязок данных к полям тега, если:</p><ol class="list _decimal" id="-sv3sd7_59793" type="1"><li class="list__item" id="-sv3sd7_59795"><p>в контроллере для каждого измеряемого аналогового параметра используется одинаковый набор полей:</p></li></ol></section></li><li class="list__item" id="-sv3sd7_59796"><p id="-sv3sd7_59798">текущее значение параметра</p></li><li class="list__item" id="-sv3sd7_59800"><p id="-sv3sd7_59802">верхний предел</p></li><li class="list__item" id="-sv3sd7_59805"><p id="-sv3sd7_59807">нижний предел</p><ol class="list _decimal" id="-sv3sd7_59809" type="1" start="2"><li class="list__item" id="-sv3sd7_59810"><p>для каждого аналогового параметра информация хранится в однотипных структурах\.</p></li></ol><p id="-sv3sd7_59812">В последующем для привязки всех полей тега достаточно будет запустить мастер, указав ему только адрес первого поля в структуре, остальные привязки будут созданы автоматически с учетом смещения относительно заданного адреса (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2981zbj" id="-sv3sd7_59815" data-external="true" rel="noopener noreferrer">Создание шаблонов привязок</a>).</p><p id="-sv3sd7_59817">Редактор позволяет работать с базой мастеров и относящихся к ним шаблонов привязок. В редакторе можно создавать новые мастера, а также конфигурировать шаблоны привязок для них.</p><p id="-sv3sd7_59818">Редактор &ldquo;Мастера&rdquo; выглядит следующим образом:</p><figure id="-sv3sd7_59821"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 025" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.025.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 025" width="602" height="139"></figure><p id="-sv3sd7_59823">В левой панели выводится список имеющихся мастеров. При выборе мастера в правую панель выводится список относящихся к мастеру шаблонов привязок.</p><section class="chapter"><h4 id="-sv3sd7_59824" data-toc="-sv3sd7_59824"><a name=""></a> Интерфейс редактора &ldquo;Мастера&rdquo;</h4><p id="-sv3sd7_59830">Для работы с базой мастеров привязок используется панель управления:</p><figure id="-sv3sd7_59833"><img alt="ref5" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.026.png" title="ref5" width="503" height="57"></figure><p id="-sv3sd7_59834">Элементы панели управления:</p></section></li></ul><div class="table-wrapper"><table class="wide" id="-sv3sd7_59837"><thead><tr class="ijRowHead" id="-sv3sd7_59839"><th id="-sv3sd7_59841"><p><img alt="ref2" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.005.png" class="inline-icon-" title="ref2" id="-sv3sd7_59843" width="35" height="31"></p></th><th id="-sv3sd7_59845"><p id="-sv3sd7_59846">Обновление отображения базы мастеров и шаблонов привязок.</p><p id="-sv3sd7_59848">Для получения обновлений, выполненных другими, если над проектом одновременно работают несколько разработчиков.</p></th></tr></thead><tbody><tr id="-sv3sd7_59850"><td id="-sv3sd7_59853" colspan="2"><p><span class="control" id="-sv3sd7_59854">Группа &ldquo;Мастера&rdquo;</span></p></td></tr><tr id="-sv3sd7_59857"><td id="-sv3sd7_59859"><p><img alt="ref6" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.027.png" class="inline-icon-" title="ref6" id="-sv3sd7_59861" width="33" height="32"></p></td><td id="-sv3sd7_59863"><p>Создание нового мастера</p></td></tr><tr id="-sv3sd7_59864"><td id="-sv3sd7_59867"><p><img alt="ref7" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.028.png" class="inline-icon-" title="ref7" id="-sv3sd7_59869" width="33" height="32"></p></td><td id="-sv3sd7_59871"><p>Изменение настроек выделенного мастера</p></td></tr><tr id="-sv3sd7_59872"><td id="-sv3sd7_59874"><figure id="-sv3sd7_59877"><img alt="ref3" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.008.png" title="ref3" width="33" height="35"></figure></td><td id="-sv3sd7_59879"><p>Удаление выделенных мастеров вместе с принадлежащими им шаблонами привязок</p></td></tr><tr id="-sv3sd7_59881"><td id="-sv3sd7_59883" colspan="2"><p><span class="control" id="-sv3sd7_59884">Группа &ldquo;Шаблоны&rdquo;</span></p></td></tr><tr id="-sv3sd7_59887"><td id="-sv3sd7_59888"><p><img alt="ref6" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.027.png" class="inline-icon-" title="ref6" id="-sv3sd7_59891" width="33" height="32"></p><figure id="-sv3sd7_59892"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 029" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.029.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 029" width="134" height="42"></figure></td><td id="-sv3sd7_59894"><p>Создание нового шаблона привязки. Создание шаблонов привязок для каждого типа соединения описано отдельно.</p></td></tr><tr id="-sv3sd7_59897"><td id="-sv3sd7_59899"><p><img alt="ref7" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.028.png" class="inline-icon-" title="ref7" id="-sv3sd7_59901" width="33" height="32"></p></td><td id="-sv3sd7_59902"><p>Изменение настроек выделенного шаблона привязки</p></td></tr><tr id="-sv3sd7_59904"><td id="-sv3sd7_59907"><figure id="-sv3sd7_59909"><img alt="ref3" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.008.png" title="ref3" width="33" height="35"></figure><figure id="-sv3sd7_59910"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 030" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.030.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 030" width="134" height="44"></figure></td><td id="-sv3sd7_59912"><p>Удаление выделенных шаблонов привязок</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="-sv3sd7_59915" data-toc="-sv3sd7_59915"><a name=""></a> Создание мастеров соединений</h3><p id="-sv3sd7_59920">Создание новых мастеров или редактирование настроек уже имеющихся производится с помощью формы:</p><figure id="-sv3sd7_59923"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 031" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.031.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 031" width="331" height="204"></figure><p id="-sv3sd7_59924">Мастер имеет следующий набор настроек:</p><ul class="list _bullet" id="-sv3sd7_59927"><li class="list__item" id="-sv3sd7_59929"><p id="-sv3sd7_59931">&ldquo;Шаблон тега&rdquo; - тип тегов: регулятор, аналоговый параметр и т. д., для которых будет доступен создаваемый мастер.</p></li><li class="list__item" id="-sv3sd7_59933"><p id="-sv3sd7_59935">&ldquo;Имя&rdquo; - имя мастера. При выборе шаблона тега название будет предложено автоматически, исходя из выбранного шаблона и уже занятых имен мастеров. Разработчик может самостоятельно определить имя мастера, которое должно быть уникальным в рамках проекта.</p><section class="chapter"><h4 id="-sv3sd7_59936" data-toc="-sv3sd7_59936"><a name=""></a> Создание шаблонов привязок</h4><p id="-sv3sd7_59942">Шаблон привязки описывает все параметры создаваемых по нему привязок. В отличие от самой привязки шаблон задает не конкретный адрес в области памяти подключенного устройства, а смещение относительно первой (с наименьшим адресом) привязки в мастере. При запуске мастера достаточно задать адрес только первой привязки, адреса других будут вычислены мастером по заданным в их шаблонах смещениям. Описание параметров шаблонов привязок приведено отдельно для каждого типа соединения.</p></section><section class="chapter"><h4 id="dcon" data-toc="dcon">DCON</h4><p id="-sv3sd7_59945">Протокол DCON разработан фирмой ICP DAS, широко распространен, поддерживается многими производителями контроллерного оборудования.</p><section class="chapter"><h5 id="-sv3sd7_59947" data-toc="-sv3sd7_59947"><a name=""></a> Настройки</h5><p id="-sv3sd7_59952">Настройка подключений к устройствам по протоколу DCON выполняется с помощью следующей формы:</p><figure id="-sv3sd7_59954"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 032" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.032.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 032" width="491" height="462"></figure><p id="-sv3sd7_59956">Диалог вызывается при выборе типа DCON в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения DCON (см. <span id="-sv3sd7_59958">Интерфейс редактора &ldquo;Привязки&rdquo;</span>).</p><p id="-sv3sd7_59961">Настройки:</p></section></section></li></ul><div class="table-wrapper"><table class="wide" id="-sv3sd7_59963"><thead><tr class="ijRowHead" id="-sv3sd7_59964"><th id="-sv3sd7_59967"><p>Имя соединения</p></th><th id="-sv3sd7_59969"><p>Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например &ldquo;Площадка №2&rdquo;, или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта</p></th></tr></thead><tbody><tr id="-sv3sd7_59971"><td id="-sv3sd7_59972"><p>Период (мс)</p></td><td id="-sv3sd7_59974"><p>Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах</p></td></tr><tr id="-sv3sd7_59977"><td id="-sv3sd7_59979"><p>Включено</p></td><td id="-sv3sd7_59980"><p>&ldquo;да&rdquo;/&rdquo;нет&rdquo;</p></td></tr><tr id="-sv3sd7_59983"><td id="-sv3sd7_59984"><p>Ограничение памяти (МБ)</p></td><td id="-sv3sd7_59986"><p>Задание пределов оперативной памяти для процесса, обслуживающего соединение.</p></td></tr><tr id="-sv3sd7_59988"><td id="-sv3sd7_59990"><p>Тип</p></td><td id="-sv3sd7_59992"><p id="-sv3sd7_59994">Вариант подключения к устройству. Поддерживаются:</p><p id="-sv3sd7_59996">- &ldquo;TCP&rdquo;. Данный тип может быть использован для подключения через шлюз TCP&lt;=&gt;RS-485. Такое решение позволяет использовать преобразователи TCP&lt;=&gt;RS-485 в качестве master-устройств для организации связи с большим количеством приборов учета.</p><p id="-sv3sd7_59998">- &ldquo;SERIAL&rdquo;. Подключение к устройству выполняется по линии связи RS-485. Подключение станции Faceplate к линии связи выполняется с помощью преобразователей RS-232&lt;=&gt;RS-485 или USB&lt;=&gt;RS-485. При использовании одного серийного порта для обмена информацией с несколькими устройствами нужно настроить одно общее соединение. В этом случае DCON-адреса устройств определяются при настройке привязок (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.16x20ju" id="-sv3sd7_60001" data-external="true" rel="noopener noreferrer">Создание привязок DCON</a>)</p></td></tr><tr id="-sv3sd7_60002"><td id="-sv3sd7_60005" colspan="2"><p><span class="control" id="-sv3sd7_60007">TCP</span></p></td></tr><tr id="-sv3sd7_60008"><td id="-sv3sd7_60010"><p>IP</p></td><td id="-sv3sd7_60012"><p>IP адрес шлюза</p></td></tr><tr id="-sv3sd7_60015"><td id="-sv3sd7_60016"><p>Порт</p></td><td id="-sv3sd7_60019"><p>Номер порта, используемый для подключения к шлюзу</p></td></tr><tr id="-sv3sd7_60020"><td id="-sv3sd7_60023" colspan="2"><p><span class="control" id="-sv3sd7_60025">SERIAL</span></p></td></tr><tr id="-sv3sd7_60027"><td id="-sv3sd7_60028"><p>Порт</p></td><td id="-sv3sd7_60031"><p>Имя порта, через которое ведется обмен данными, например, &ldquo;СОМ3&rdquo; для OS Windows или &ldquo;/dev/ttyUSB0&rdquo; для систем семейства Linux</p></td></tr><tr id="-sv3sd7_60033"><td id="-sv3sd7_60034"><p>Скорость</p></td><td id="-sv3sd7_60037"><p>Скорость передачи данных</p></td></tr><tr id="-sv3sd7_60038"><td id="-sv3sd7_60041"><p>Четность</p></td><td id="-sv3sd7_60043"><p>Использование проверки четности</p></td></tr><tr id="-sv3sd7_60045"><td id="-sv3sd7_60047"><p>Стоп-биты</p></td><td id="-sv3sd7_60048"><p>Количество стоповых бит, передаваемых в пакете</p></td></tr><tr id="-sv3sd7_60050"><td id="-sv3sd7_60053"><p>Размер байта</p></td><td id="-sv3sd7_60055"><p>Количество бит, передаваемых в пакете</p></td></tr><tr id="-sv3sd7_60056"><td id="-sv3sd7_60058"><p>Таймаут</p></td><td id="-sv3sd7_60061"><p>Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения</p></td></tr><tr id="-sv3sd7_60063"><td id="-sv3sd7_60064"><p>Попыток</p></td><td id="-sv3sd7_60066"><p>Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="-sv3sd7_60069" data-toc="-sv3sd7_60069"><a name=""></a> Привязки</h3><p id="-sv3sd7_60075">Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.</p><p id="-sv3sd7_60076">Создание и редактирование привязок DCON производится с помощью формы:</p><figure id="-sv3sd7_60079"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 033" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.033.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 033" width="394" height="717"></figure><p id="-sv3sd7_60080">Диалог вызывается при щелчке по кнопке &ldquo;Создать&rdquo; на панели управления привязками (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_60082" data-external="true" rel="noopener noreferrer">Панель привязок</a>).</p><p id="-sv3sd7_60084">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60086"><thead><tr class="ijRowHead" id="-sv3sd7_60088"><th id="-sv3sd7_60091"><p>Тег</p></th><th id="-sv3sd7_60092"><p>Объект базы, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.</p></th></tr></thead><tbody><tr id="-sv3sd7_60095"><td id="-sv3sd7_60097"><p>Поле</p></td><td id="-sv3sd7_60098"><p>Поле тега, в которое будет записываться значение получаемого параметра</p></td></tr><tr id="-sv3sd7_60100"><td id="-sv3sd7_60103"><p>Доступ</p></td><td id="-sv3sd7_60105"><p id="-sv3sd7_60107">Права доступа пользователя:</p><p id="-sv3sd7_60108">- R - чтение</p><p id="-sv3sd7_60110">- W - запись</p><p id="-sv3sd7_60112">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_60115"><td id="-sv3sd7_60116"><p>Адрес</p></td><td id="-sv3sd7_60119"><p>DCON-адрес устройства на шине, может принимать значения от 1 до 254</p></td></tr><tr id="-sv3sd7_60120"><td id="-sv3sd7_60123"><p>Параметры модуля</p></td><td id="-sv3sd7_60125"><p id="-sv3sd7_60126">Формат телеграмм DCON может меняться в зависимости от типа устройства (модули ввода, модули ввода-вывода, модули вывода) и количества входов/выходов на нем. Для определения формата телеграмм необходимо заполнить поля, описывающие конфигурацию устройства:</p><p id="-sv3sd7_60128">- &ldquo;DI&rdquo; - количество дискретных входов</p><p id="-sv3sd7_60130">- &ldquo;DO&rdquo; - количество дискретных выходов</p><p id="-sv3sd7_60133">- &ldquo;AI&rdquo; - количество аналоговых входов</p><p id="-sv3sd7_60135">- &ldquo;AO&rdquo; - количество аналоговых выходов</p></td></tr><tr id="-sv3sd7_60137"><td id="-sv3sd7_60138"><p>Параметры канала</p></td><td id="-sv3sd7_60141"><p id="-sv3sd7_60142">Панель становится доступна после заполнения параметров модуля. На ней нужно указать:</p><p id="-sv3sd7_60144">- &ldquo; <span class="control" id="-sv3sd7_60147">Тип</span>&rdquo; - тип канала, может принимать значения: AI, AO, DI, DO в зависимости от конфигурации модуля.</p><p id="-sv3sd7_60149">- &ldquo; <span class="control" id="-sv3sd7_60151">Канал</span>&rdquo; - номер канала в модуле (<span class="control" id="-sv3sd7_60152">отсчет ведется с 1</span>). Если модуль является модулем ввода-вывода, то для каналов ввода и каналов вывода ведется отдельная нумерация.</p><p id="-sv3sd7_60154">- &ldquo; <span class="control" id="-sv3sd7_60156">Формат</span>&rdquo;. Поле актуально только для аналоговых каналов и описывает в каком формате устройство передает данные (определяется при настройке устройства). Возможны значения HEX, FLOAT.</p><p id="-sv3sd7_60158">- &ldquo; <span class="control" id="-sv3sd7_60160">Знаков после запятой</span>&rdquo;. Поле актуально только для аналоговых каналов, передающих данные в формате FLOAT. Определяет количество знаков после запятой в передаваемом значении (определяется при настройке устройства).</p></td></tr><tr id="-sv3sd7_60163"><td id="-sv3sd7_60165"><p>A, B</p></td><td id="-sv3sd7_60166"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_60169">y = A*x + B</span>, где <span class="control" id="-sv3sd7_60170">y</span> - значение поля тега, <span class="control" id="-sv3sd7_60172">x</span> - значение параметра в телеграмме.</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="-sv3sd7_60174" data-toc="-sv3sd7_60174"><a name=""></a> Шаблоны привязок</h3><p id="-sv3sd7_60181">Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства и номер канала, а только определяет параметры модуля и параметры канала. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и параметры масштабирования привязываемых полей. Настройка шаблонов привязок DCON, выполняется с помощью следующей формы:</p><figure id="-sv3sd7_60182"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 034" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.034.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 034" width="385" height="584"></figure><p id="-sv3sd7_60184">Диалог отображается при щелчке по кнопке &ldquo;Создать&rdquo; на на панели редактора &ldquo;Мастера&rdquo; <figure id="-sv3sd7_60186"><img alt="ref8" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.035.png" title="ref8" width="103" height="38"></figure> (см. <span id="-sv3sd7_60188">Интерфейс редактора &ldquo;Мастера&rdquo;</span>). Параметры:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60190"><thead><tr class="ijRowHead" id="-sv3sd7_60193"><th id="-sv3sd7_60195"><p>Поле</p></th><th id="-sv3sd7_60196"><p>Поле тега, в которое будет записываться значение получаемого параметра</p></th></tr></thead><tbody><tr id="-sv3sd7_60199"><td id="-sv3sd7_60200"><p>Доступ</p></td><td id="-sv3sd7_60202"><p id="-sv3sd7_60205">Права доступа пользователя:</p><p id="-sv3sd7_60207">- R - чтение</p><p id="-sv3sd7_60209">- W - запись</p><p id="-sv3sd7_60211">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_60213"><td id="-sv3sd7_60215"><p>Параметры модуля</p></td><td id="-sv3sd7_60216"><p id="-sv3sd7_60219">Формат телеграмм DCON может меняться в зависимости от типа устройства (модули ввода, модули ввода-вывода, модули вывода) и количества входов/выходов на нем. Для определения формата телеграмм необходимо заполнить поля, описывающие конфигурацию устройства:</p><p id="-sv3sd7_60220">- &ldquo;DI&rdquo; - количество дискретных входов</p><p id="-sv3sd7_60223">- &ldquo;DO&rdquo; - количество дискретных выходов</p><p id="-sv3sd7_60224">- &ldquo;AI&rdquo; - количество аналоговых входов</p><p id="-sv3sd7_60227">- &ldquo;AO&rdquo; - количество аналоговых выходов</p></td></tr><tr id="-sv3sd7_60229"><td id="-sv3sd7_60230"><p>Параметры канала</p></td><td id="-sv3sd7_60232"><p id="-sv3sd7_60235">Панель становится доступна после заполнения параметров модуля. На ней нужно указать:</p><p id="-sv3sd7_60236">- &ldquo; <span class="control" id="-sv3sd7_60238">Тип</span>&rdquo; - тип канала, может принимать значения: AI, AO, DI, DO в зависимости от конфигурации модуля.</p><p id="-sv3sd7_60240">- &ldquo; <span class="control" id="-sv3sd7_60243">Формат</span>&rdquo;. Поле актуально только для аналоговых каналов и описывает в каком формате устройство передает данные (определяется при настройке устройства). Возможны значения HEX, FLOAT.</p><p id="-sv3sd7_60245">- &ldquo; <span class="control" id="-sv3sd7_60246">Знаков после запятой</span>&rdquo;. Поле актуально только для аналоговых каналов, передающих данные в формате FLOAT. Определяет количество знаков после запятой в передаваемом значении (определяется при настройке устройства).</p></td></tr><tr id="-sv3sd7_60249"><td id="-sv3sd7_60250"><p>A, B</p></td><td id="-sv3sd7_60252"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_60254">y = A*x + B</span>, где <span class="control" id="-sv3sd7_60257">y</span> - значение поля тега, <span class="control" id="-sv3sd7_60259">x</span> - значение параметра в телеграмме.</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="ethernet-ip" data-toc="ethernet-ip">ETHERNET_IP</h3><p id="-sv3sd7_60262">ETHERNET_IP драйвер предоставляет возможность работы в режиме клиента. В режиме клиента Faceplate устанавливает соединение к контроллеру Allen Bradley и является потребителем данных. Он устанавливает соединение к указанному коммуникационному модулю и запрашивает данные либо выполняет запросы на изменение (запись данных).</p><p id="-sv3sd7_60264">Драйвер предоставляет программный интерфейс для получения списка доступных тегов и дополнительной мета-информации по ним (типы, качество и т.д.).</p><section class="chapter"><h4 id="-sv3sd7_60266" data-toc="-sv3sd7_60266"><a name=""></a> Настройки</h4><p id="-sv3sd7_60271">Настройка подключений к устройствам по протоколу ETHERNET_IP выполняется с помощью следующей формы:</p><figure id="-sv3sd7_60272"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 036" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.036.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 036" width="527" height="334"></figure><p id="-sv3sd7_60273">Диалог вызывается при выборе типа ETHERNET_IP в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения ETHERNET_IP (см. <span id="-sv3sd7_60274">Интерфейс редактора &ldquo;Привязки&rdquo;</span>).</p><p id="-sv3sd7_60275">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60276"><thead><tr class="ijRowHead" id="-sv3sd7_60277"><th id="-sv3sd7_60278"><p>Имя соединения</p></th><th id="-sv3sd7_60279"><p>Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.</p></th></tr></thead><tbody><tr id="-sv3sd7_60280"><td id="-sv3sd7_60281"><p>Период</p></td><td id="-sv3sd7_60282"><p>Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.</p></td></tr><tr id="-sv3sd7_60283"><td id="-sv3sd7_60284"><p>Включено</p></td><td id="-sv3sd7_60285"><p>Настройка включения/отключения соединения (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_60286"><td id="-sv3sd7_60287"><p>Тип контроллера</p></td><td id="-sv3sd7_60288"><p id="-sv3sd7_60289">- controllogix</p><p id="-sv3sd7_60290">- plc5</p><p id="-sv3sd7_60291">- slc500</p><p id="-sv3sd7_60292">- logixpccc</p><p id="-sv3sd7_60293">- micro800</p><p id="-sv3sd7_60294">- micrologix</p></td></tr><tr id="-sv3sd7_60295"><td id="-sv3sd7_60296"><p>Поддержка групповых запросов</p></td><td id="-sv3sd7_60297"><p>Настройка включения/отключения поддержки групповых запросов (да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_60298"><td id="-sv3sd7_60299" colspan="2"><p><span class="control" id="-sv3sd7_60300">TCP</span></p></td></tr><tr id="-sv3sd7_60301"><td id="-sv3sd7_60302"><p>IP</p></td><td id="-sv3sd7_60303"><p>IP адрес шлюза</p></td></tr><tr id="-sv3sd7_60304"><td id="-sv3sd7_60305"><p>Роутинг</p></td><td id="-sv3sd7_60306"><p>Определение пути и направления передачи данных между устройствами в сети</p></td></tr><tr id="-sv3sd7_60307"><td id="-sv3sd7_60308"><p>Таймаут</p></td><td id="-sv3sd7_60309"><p>Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения.</p></td></tr><tr id="-sv3sd7_60310"><td id="-sv3sd7_60311"><p>Попыток</p></td><td id="-sv3sd7_60312"><p>Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_60313" data-toc="-sv3sd7_60313"><a name=""></a> Привязки</h4><p id="-sv3sd7_60316">Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.</p><p id="-sv3sd7_60317">Создание и редактирование привязок производится с помощью формы:</p><figure id="-sv3sd7_60318"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 037" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.037.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 037" width="369" height="408"></figure><p id="-sv3sd7_60319">Диалог вызывается при щелчке по кнопке &ldquo;Создать&rdquo; на панели управления привязками (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_60320" data-external="true" rel="noopener noreferrer">Панель привязок</a>).</p><p id="-sv3sd7_60321">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60322"><thead><tr class="ijRowHead" id="-sv3sd7_60323"><th id="-sv3sd7_60324"><p>Тег</p></th><th id="-sv3sd7_60325"><p>Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.</p></th></tr></thead><tbody><tr id="-sv3sd7_60326"><td id="-sv3sd7_60327"><p>Поле</p></td><td id="-sv3sd7_60328"><p>Поле тега, в которое будет записываться значение из сопоставляемой области памяти устройства. Привязка работает также в обратную сторону. Это означает, что при изменении значения в поле тега, новое значение будет записано в память устройства.</p></td></tr><tr id="-sv3sd7_60329"><td id="-sv3sd7_60330"><p>Доступ</p></td><td id="-sv3sd7_60331"><p id="-sv3sd7_60332">Права доступа пользователя:</p><p id="-sv3sd7_60333">- R - чтение</p><p id="-sv3sd7_60334">- W - запись</p><p id="-sv3sd7_60335">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_60336"><td id="-sv3sd7_60337"><p>Имя тега в контроллере</p></td><td id="-sv3sd7_60338"><p>Путь к тегу в адресном пространстве контроллера.</p></td></tr><tr id="-sv3sd7_60339"><td id="-sv3sd7_60340"><p>Тип данных</p></td><td id="-sv3sd7_60341"><p id="-sv3sd7_60342">- BOOL</p><p id="-sv3sd7_60343">- SINT</p><p id="-sv3sd7_60344">- USINT</p><p id="-sv3sd7_60345">- INT</p><p id="-sv3sd7_60346">- UINT</p><p id="-sv3sd7_60347">- DINT</p><p id="-sv3sd7_60348">- UDINT</p><p id="-sv3sd7_60349">- LINT</p><p id="-sv3sd7_60350">- ULINT</p><p id="-sv3sd7_60351">- REAL</p><p id="-sv3sd7_60352">- LREAL</p></td></tr><tr id="-sv3sd7_60353"><td id="-sv3sd7_60354"><p>A, B</p></td><td id="-sv3sd7_60355"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_60356">y = A*x + B</span>, где <span class="control" id="-sv3sd7_60357">y</span> - значение поля тега, <span class="control" id="-sv3sd7_60358">x</span> - значение принятое из устройства.</p></td></tr><tr id="-sv3sd7_60359"><td id="-sv3sd7_60360"><p>Отключено</p></td><td id="-sv3sd7_60361"><p>Настройка позволяет деактивировать привязку в режиме исполнения.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_60362" data-toc="-sv3sd7_60362"><a name=""></a> Шаблоны привязок</h4><p id="-sv3sd7_60365">Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки, шаблон не содержит адрес устройства, а только определяет тип параметра. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав запрашиваемых параметров, и параметры масштабирования значений. Настройка шаблонов привязок ETHERNET_IP выполняется с помощью следующей формы:</p><figure id="-sv3sd7_60367"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 038" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.038.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 038" width="405" height="338"></figure><p id="-sv3sd7_60368">Диалог отображается при щелчке по кнопке &ldquo;Создать&rdquo; на панели редактора &ldquo;Мастера&rdquo; <figure id="-sv3sd7_60369"><img alt="ref8" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.035.png" title="ref8" width="103" height="38"></figure>.</p><p id="-sv3sd7_60370">Параметры:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60371"><thead><tr class="ijRowHead" id="-sv3sd7_60372"><th id="-sv3sd7_60373"><p>Поле</p></th><th id="-sv3sd7_60374"><p>Поле тега, в которое будет записываться значение из сопоставляемой области памяти контроллера</p></th></tr></thead><tbody><tr id="-sv3sd7_60375"><td id="-sv3sd7_60376"><p>Доступ</p></td><td id="-sv3sd7_60377"><p id="-sv3sd7_60378">Права доступа пользователя:</p><p id="-sv3sd7_60379">- R - чтение</p><p id="-sv3sd7_60380">- W - запись</p><p id="-sv3sd7_60381">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_60382"><td id="-sv3sd7_60383"><p>постфикс</p></td><td id="-sv3sd7_60384"><p>Часть имени тега, расположенная после основного имени. Постфиксы указаны в шаблоне привязок в выбранном мастере.</p></td></tr><tr id="-sv3sd7_60385"><td id="-sv3sd7_60386"><p>A, B</p></td><td id="-sv3sd7_60387"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_60388">y = A*x + B</span>, где <span class="control" id="-sv3sd7_60389">y</span> - значение поля тега, <span class="control" id="-sv3sd7_60390">x</span> - значение принятое из устройства.</p></td></tr></tbody></table></div></section></section><section class="chapter"><h3 id="iec101-client" data-toc="iec101-client"><a name=""></a><a name=""></a><a name=""></a><a name=""></a><a name=""></a><a name=""></a><a name=""></a><a name=""></a><a name=""></a><a name=""></a> IEC101_CLIENT</h3></section><section class="chapter"><h3 id="iec101-server" data-toc="iec101-server">IEC101_SERVER</h3></section><section class="chapter"><h3 id="iec104-client" data-toc="iec104-client">IEC104_CLIENT</h3></section><section class="chapter"><h3 id="iec104-server" data-toc="iec104-server">IEC104_SERVER</h3></section><section class="chapter"><h3 id="iec62056" data-toc="iec62056">IEC62056</h3><p id="-sv3sd7_60405">IEC 62056 &mdash; это международный стандарт, известный как &quot;Протокол для передачи данных по линии электроэнергии&quot;. Он устанавливает набор правил и протоколов для обмена данными между устройствами, подключенными к электрической сети.</p><section class="chapter"><h4 id="-sv3sd7_60406" data-toc="-sv3sd7_60406"><a name=""></a> Настройки</h4><p id="-sv3sd7_60409">Настройка подключений к устройствам по протоколу IEC62056 выполняется с помощью следующей формы:</p><figure id="-sv3sd7_60410"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 039" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.039.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 039" width="511" height="447"></figure><p id="-sv3sd7_60411">Диалог вызывается при выборе типа IEC62056 в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения IEC62056 (см. <span id="-sv3sd7_60412">Интерфейс редактора &ldquo;Привязки&rdquo;</span>).</p><p id="-sv3sd7_60413">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60415"><thead><tr class="ijRowHead" id="-sv3sd7_60416"><th id="-sv3sd7_60418"><p>Имя соединения</p></th><th id="-sv3sd7_60420"><p>Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.</p></th></tr></thead><tbody><tr id="-sv3sd7_60422"><td id="-sv3sd7_60423"><p>Период</p></td><td id="-sv3sd7_60426"><p>Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.</p></td></tr><tr id="-sv3sd7_60428"><td id="-sv3sd7_60430"><p>Включено</p></td><td id="-sv3sd7_60432"><p>&ldquo;да&rdquo;/&rdquo;нет&rdquo;</p></td></tr><tr id="-sv3sd7_60434"><td id="-sv3sd7_60435"><p>Ограничение памяти (МБ)</p></td><td id="-sv3sd7_60438"><p>Задание пределов оперативной памяти для процесса, обслуживающего соединение.</p></td></tr><tr id="-sv3sd7_60440"><td id="-sv3sd7_60442"><p>Тип</p></td><td id="-sv3sd7_60444"><p id="-sv3sd7_60446">Вариант подключения к устройству. Поддерживаются:</p><p id="-sv3sd7_60447">- &ldquo;TCP&rdquo;. Данный тип может быть использован для подключения через шлюз TCP&lt;=&gt;RS-485. Такое решение позволяет использовать преобразователи TCP&lt;=&gt;RS-485 в качестве master-устройств для организации связи с большим количеством приборов учета.</p><p id="-sv3sd7_60449">- &ldquo;SERIAL&rdquo;. Подключение к устройству выполняется по линии связи RS-485. Подключение станции Faceplate к линии связи выполняется с помощью преобразователей RS-232&lt;=&gt;RS-485 или USB&lt;=&gt;RS-485. При использовании одного серийного порта для обмена информацией с несколькими устройствами нужно настроить одно общее соединение. В этом случае адреса устройств на шине определяются при настройке привязок (см. <span id="-sv3sd7_60451">Создание привязок</span>IEC62056)</p></td></tr><tr id="-sv3sd7_60453"><td id="-sv3sd7_60456" colspan="2"><p><span class="control" id="-sv3sd7_60458">TCP</span></p></td></tr><tr id="-sv3sd7_60459"><td id="-sv3sd7_60461"><p>IP</p></td><td id="-sv3sd7_60464"><p>IP адрес шлюза</p></td></tr><tr id="-sv3sd7_60465"><td id="-sv3sd7_60467"><p>Порт</p></td><td id="-sv3sd7_60470"><p>Номер порта, используемый для подключения к шлюзу</p></td></tr><tr id="-sv3sd7_60471"><td id="-sv3sd7_60474" colspan="2"><p><span class="control" id="-sv3sd7_60475">SERIAL</span></p></td></tr><tr id="-sv3sd7_60478"><td id="-sv3sd7_60480"><p>Порт</p></td><td id="-sv3sd7_60481"><p>Имя порта, через которое ведется обмен данными, например, &ldquo;СОМ3&rdquo; для OS Windows или &ldquo;/dev/ttyUSB0&rdquo; для систем семейства Linux</p></td></tr><tr id="-sv3sd7_60484"><td id="-sv3sd7_60486"><p>Скорость</p></td><td id="-sv3sd7_60487"><p>Скорость передачи данных</p></td></tr><tr id="-sv3sd7_60489"><td id="-sv3sd7_60492"><p>Четность</p></td><td id="-sv3sd7_60493"><p>Использование проверки четности</p></td></tr><tr id="-sv3sd7_60495"><td id="-sv3sd7_60497"><p>Стоп-биты</p></td><td id="-sv3sd7_60500"><p>Количество стоповых бит, передаваемых в пакете</p></td></tr><tr id="-sv3sd7_60502"><td id="-sv3sd7_60504"><p>Размер байта</p></td><td id="-sv3sd7_60506"><p>Количество бит, передаваемых в пакете</p></td></tr><tr id="-sv3sd7_60507"><td id="-sv3sd7_60509"><p>Таймаут</p></td><td id="-sv3sd7_60511"><p>Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения.</p></td></tr><tr id="-sv3sd7_60514"><td id="-sv3sd7_60516"><p>Попыток</p></td><td id="-sv3sd7_60518"><p>Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_60520" data-toc="-sv3sd7_60520"><a name=""></a> Привязки</h4><p id="-sv3sd7_60525">Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.</p><p id="-sv3sd7_60528">Создание и редактирование привязок производится с помощью формы:</p><figure id="-sv3sd7_60530"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 040" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.040.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 040" width="410" height="397"></figure><p id="-sv3sd7_60531">Диалог вызывается при щелчке по кнопке &ldquo;Создать&rdquo; на панели управления привязками (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_60533" data-external="true" rel="noopener noreferrer">Панель привязок</a>).</p><p id="-sv3sd7_60536">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60537"><thead><tr class="ijRowHead" id="-sv3sd7_60539"><th id="-sv3sd7_60541"><p>Тег</p></th><th id="-sv3sd7_60544"><p>Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.</p></th></tr></thead><tbody><tr id="-sv3sd7_60546"><td id="-sv3sd7_60547"><p>Поле</p></td><td id="-sv3sd7_60549"><p>Поле тега, в которое будет записываться значение из сопоставляемой области памяти устройства. Привязка работает также в обратную сторону. Это означает, что при изменении значения в поле тега, новое значение будет записано в память устройства.</p></td></tr><tr id="-sv3sd7_60551"><td id="-sv3sd7_60552"><p>Адрес</p></td><td id="-sv3sd7_60555"><p>Логический адрес может быть числом или строкой, в зависимости от реализации протокола. Он обычно уникален для каждого устройства в сети, чтобы обеспечить однозначную идентификацию при обмене данными.</p></td></tr><tr id="-sv3sd7_60556"><td id="-sv3sd7_60559"><p>Пароль</p></td><td id="-sv3sd7_60561"><p>Пароль доступа к подключаемому устройству.</p></td></tr><tr id="-sv3sd7_60563"><td id="-sv3sd7_60564"><p>OBIS</p></td><td id="-sv3sd7_60567"><p>Коды OBIS - внутренний адрес для идентификации параметров, доступных для получения с устройства.</p></td></tr><tr id="-sv3sd7_60568"><td id="-sv3sd7_60571"><p>A, B</p></td><td id="-sv3sd7_60573"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_60574">y = A*x + B</span>, где <span class="control" id="-sv3sd7_60576">y</span> - значение поля тега, <span class="control" id="-sv3sd7_60578">x</span> - значение принятое из устройства.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_60581" data-toc="-sv3sd7_60581"><a name=""></a> Шаблоны привязок</h4><p id="-sv3sd7_60587">Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства, а только определяет тип параметра. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав запрашиваемых параметров, и параметры масштабирования значений. Настройка шаблонов привязок IEC62056, выполняется с помощью следующей формы:</p><figure id="-sv3sd7_60589"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 041" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.041.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 041" width="340" height="231"></figure><p id="-sv3sd7_60590">Диалог отображается при щелчке по кнопке &ldquo;Создать&rdquo; на панели редактора &ldquo;Мастера&rdquo; <figure id="-sv3sd7_60592"><img alt="ref8" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.035.png" title="ref8" width="103" height="38"></figure>.</p><p id="-sv3sd7_60595">Параметры:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60597"><thead><tr class="ijRowHead" id="-sv3sd7_60599"><th id="-sv3sd7_60601"><p>Поле</p></th><th id="-sv3sd7_60603"><p>Поле тега, в которое будет записываться значение из сопоставляемой области памяти контроллера</p></th></tr></thead><tbody><tr id="-sv3sd7_60605"><td id="-sv3sd7_60607"><p>OBIS</p></td><td id="-sv3sd7_60609"><p>Коды OBIS - внутренний адрес для идентификации параметров, доступных для получения с устройства.</p></td></tr><tr id="-sv3sd7_60611"><td id="-sv3sd7_60612"><p>A, B</p></td><td id="-sv3sd7_60615"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_60617">y = A*x + B</span>, где <span class="control" id="-sv3sd7_60618">y</span> - значение поля тега, <span class="control" id="-sv3sd7_60620">x</span> - значение принятое из устройства</p></td></tr></tbody></table></div></section></section><section class="chapter"><h3 id="m-bus" data-toc="m-bus">M-BUS</h3><p id="-sv3sd7_60622">M-Bus - это открытый коммуникационный протокол, описанный в стандартах EN13757 и ГОСТ Р ЕН 1434-3. В настоящее время протокол поддерживается большинством производителей приборов учета ресурсов.</p><section class="chapter"><h4 id="-sv3sd7_60624" data-toc="-sv3sd7_60624"><a name=""></a> Настройки</h4><p id="-sv3sd7_60631">Создание соединений к устройствам по протоколу M-Bus выполняется с помощью следующей формы:</p><figure id="-sv3sd7_60633"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 042" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.042.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 042" width="461" height="439"></figure><p id="-sv3sd7_60634">Диалог вызывается при выборе типа MBUS в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения MBUS (см. <span id="-sv3sd7_60637">Интерфейс редактора &ldquo;Привязки&rdquo;</span>).</p><p id="-sv3sd7_60638">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60640"><thead><tr class="ijRowHead" id="-sv3sd7_60643"><th id="-sv3sd7_60644"><p>Имя соединения</p></th><th id="-sv3sd7_60647"><p>Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например &ldquo;Комната №18&rdquo;, или использовать обозначения из проектной документации. Имя должно быть уникальным в рамках проекта</p></th></tr></thead><tbody><tr id="-sv3sd7_60648"><td id="-sv3sd7_60650"><p>Период (мс)</p></td><td id="-sv3sd7_60652"><p>Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах</p></td></tr><tr id="-sv3sd7_60655"><td id="-sv3sd7_60657"><p>Включено</p></td><td id="-sv3sd7_60658"><p>Настройка включения/отключения соединения (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_60660"><td id="-sv3sd7_60662"><p>Ограничение памяти (МБ)</p></td><td id="-sv3sd7_60664"><p>Задание пределов оперативной памяти для процесса, обслуживающего соединение.</p></td></tr><tr id="-sv3sd7_60667"><td id="-sv3sd7_60668"><p>Тип</p></td><td id="-sv3sd7_60670"><p id="-sv3sd7_60672">Вариант подключения к устройству. Поддерживаются:</p><p id="-sv3sd7_60674">- &ldquo;TCP&rdquo;. Данный тип может быть использован для подключения через шлюз TCP&lt;=&gt;RS-485. Такое решение позволяет использовать преобразователи TCP&lt;=&gt;RS-485 в качестве master-устройств для организации связи с большим количеством приборов учета.</p><p id="-sv3sd7_60677">- &ldquo;SERIAL&rdquo;. Подключение к устройству выполняется по линии связи RS-485. Подключение станции Faceplate к линии связи выполняется с помощью преобразователей RS-232&lt;=&gt;RS-485 или USB&lt;=&gt;RS-485. При использовании одного серийного порта для обмена информацией с несколькими устройствами нужно настроить одно общее соединение. В этом случае M-Bus-адреса устройств определяются при настройке привязок (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2apwg4x" id="-sv3sd7_60679" data-external="true" rel="noopener noreferrer">Создание привязок M-Bus</a>)</p></td></tr><tr id="-sv3sd7_60681"><td id="-sv3sd7_60683" colspan="2"><p><span class="control" id="-sv3sd7_60684">TCP</span></p></td></tr><tr id="-sv3sd7_60687"><td id="-sv3sd7_60688"><p>IP</p></td><td id="-sv3sd7_60690"><p>IP адрес шлюза</p></td></tr><tr id="-sv3sd7_60693"><td id="-sv3sd7_60695"><p>Порт</p></td><td id="-sv3sd7_60696"><p>Номер порта, используемый для подключения к шлюзу</p></td></tr><tr id="-sv3sd7_60698"><td id="-sv3sd7_60701" colspan="2"><p><span class="control" id="-sv3sd7_60703">SERIAL</span></p></td></tr><tr id="-sv3sd7_60704"><td id="-sv3sd7_60706"><p>Порт</p></td><td id="-sv3sd7_60708"><p>Имя порта, через которое ведется обмен данными, например, &ldquo;СОМ3&rdquo; для OS Windows или &ldquo;/dev/ttyUSB0&rdquo; для систем семейства Linux</p></td></tr><tr id="-sv3sd7_60710"><td id="-sv3sd7_60713"><p>Скорость</p></td><td id="-sv3sd7_60714"><p>Скорость передачи данных</p></td></tr><tr id="-sv3sd7_60716"><td id="-sv3sd7_60719"><p>Четность</p></td><td id="-sv3sd7_60720"><p>Использование проверки четности</p></td></tr><tr id="-sv3sd7_60723"><td id="-sv3sd7_60724"><p>Стоп-биты</p></td><td id="-sv3sd7_60727"><p>Количество стоповых бит, передаваемых в пакете</p></td></tr><tr id="-sv3sd7_60729"><td id="-sv3sd7_60731"><p>Размер байта</p></td><td id="-sv3sd7_60732"><p>Количество бит, передаваемых в пакете</p></td></tr><tr id="-sv3sd7_60734"><td id="-sv3sd7_60737"><p>Таймаут</p></td><td id="-sv3sd7_60739"><p>Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения</p></td></tr><tr id="-sv3sd7_60740"><td id="-sv3sd7_60742"><p>Попыток</p></td><td id="-sv3sd7_60744"><p>Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_60747" data-toc="-sv3sd7_60747"><a name=""></a> Привязки</h4><p id="-sv3sd7_60752">Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.</p><p id="-sv3sd7_60753">Создание и редактирование привязок M-Bus производится с помощью формы:</p><figure id="-sv3sd7_60756"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 043" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.043.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 043" width="363" height="354"></figure><p id="-sv3sd7_60757">Диалог вызывается при щелчке по кнопке &ldquo;Создать&rdquo; на панели управления привязками (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_60760" data-external="true" rel="noopener noreferrer">Панель привязок</a>)</p><p id="-sv3sd7_60762">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60763"><thead><tr class="ijRowHead" id="-sv3sd7_60766"><th id="-sv3sd7_60767"><p>Тег</p></th><th id="-sv3sd7_60769"><p>Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.</p></th></tr></thead><tbody><tr id="-sv3sd7_60771"><td id="-sv3sd7_60772"><p>Поле</p></td><td id="-sv3sd7_60774"><p>Поле тега, в которое будет записываться значение получаемого параметра</p></td></tr><tr id="-sv3sd7_60775"><td id="-sv3sd7_60777"><p>Адрес</p></td><td id="-sv3sd7_60779"><p>M-Bus-адрес устройства на шине, может принимать значения от 1 до 250</p></td></tr><tr id="-sv3sd7_60780"><td id="-sv3sd7_60783"><p>Телеграмма</p></td><td id="-sv3sd7_60789"><p>Код запрашиваемой телеграммы. Описание кодов поддерживаемых устройством телеграмм должно быть приведено в документации на устройство.</p></td></tr><tr id="-sv3sd7_60785"><td id="-sv3sd7_60786"><p>Индекс</p></td><td id="-sv3sd7_60787"><p>Определяет индекс параметра в телеграмме (отсчет ведется с 0). Телеграмма M-Bus имеет определенную структуру, в которой четко определена последовательность блоков. Каждый отдельный блок служит для описания одного контролируемого параметра. Таким образом, номер блока в телеграмме указывает на конкретный контролируемый параметр, который может быть привязан к полю тега Faceplate. Описание состава телеграмм должно быть приведено в документации на устройство.</p></td></tr><tr id="-sv3sd7_60788"><td id="-sv3sd7_60791"><p>A, B</p></td><td id="-sv3sd7_60793"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_60794">y = A*x + B</span>, где <span class="control" id="-sv3sd7_60796">y</span> - значение поля тега, <span class="control" id="-sv3sd7_60799">x</span> - значение параметра в телеграмме.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_60800" data-toc="-sv3sd7_60800"><a name=""></a> Шаблоны привязок</h4><p id="-sv3sd7_60805">Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства, а только определяет телеграмму и индекс параметра в ней. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и параметры масштабирования привязываемых полей. Настройка шаблонов привязок M-Bus, выполняется с помощью следующей формы:</p><figure id="-sv3sd7_60806"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 044" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.044.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 044" width="478" height="328"></figure><p id="-sv3sd7_60807">Диалог отображается при щелчке по кнопке &ldquo;Создать&rdquo; на на панели редактора &ldquo;Мастера&rdquo; <figure id="-sv3sd7_60808"><img alt="ref8" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.035.png" title="ref8" width="103" height="38"></figure> (см. <span id="-sv3sd7_60809">Интерфейс редактора &ldquo;Мастера&rdquo;</span>). Параметры:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60810"><thead><tr class="ijRowHead" id="-sv3sd7_60811"><th id="-sv3sd7_60812"><p>Поле</p></th><th id="-sv3sd7_60813"><p>Поле тега, в которое будет записываться значение из соответствующего блока телеграммы M-Bus.</p></th></tr></thead><tbody><tr id="-sv3sd7_60814"><td id="-sv3sd7_60815"><p>Телеграмма</p></td><td id="-sv3sd7_60816"><p>Код запрашиваемой телеграммы. Описание кодов поддерживаемых устройством телеграмм должно быть приведено в документации на устройство.</p></td></tr><tr id="-sv3sd7_60817"><td id="-sv3sd7_60818"><p>Индекс</p></td><td id="-sv3sd7_60819"><p>Определяет индекс параметра в телеграмме (отсчет ведется с 0). Телеграмма M-Bus имеет определенную структуру, в которой четко определена последовательность блоков. Каждый отдельный блок служит для описания одного контролируемого параметра. Таким образом, номер блока в телеграмме указывает на конкретный контролируемый параметр, который может быть привязан полю тега Faceplate. Описание состава телеграмм должно быть приведено в документации на устройство.</p></td></tr><tr id="-sv3sd7_60820"><td id="-sv3sd7_60821"><p>A, B</p></td><td id="-sv3sd7_60822"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_60823">y = A*x + B</span>, где <span class="control" id="-sv3sd7_60824">y</span> - значение поля тега, <span class="control" id="-sv3sd7_60825">x</span> - значение параметра в телеграмме.</p></td></tr></tbody></table></div></section></section><section class="chapter"><h3 id="mercury-230" data-toc="mercury-230">Mercury 230</h3><p id="-sv3sd7_60826">Обмен данными со счетчиками электрической энергии серии Mercury 230 ведется по открытому коммуникационному протоколу, который разработан компанией Incotex.</p><section class="chapter"><h4 id="-sv3sd7_60827" data-toc="-sv3sd7_60827"><a name=""></a> Настройки</h4><p id="-sv3sd7_60830">Создание подключений к устройствам по протоколу Mercury 230 выполняется с помощью следующей формы:</p><figure id="-sv3sd7_60831"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 045" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.045.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 045" width="455" height="429"></figure><p id="-sv3sd7_60832">Диалог вызывается при выборе типа MERCURY230 в процессе создания нового соединения, либо при редактировании параметров, настроенного ранее соединения MERCURY230 (см. <span id="-sv3sd7_60833">Интерфейс редактора &ldquo;Привязки&rdquo;</span>).</p><p id="-sv3sd7_60834">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60835"><thead><tr class="ijRowHead" id="-sv3sd7_60836"><th id="-sv3sd7_60837"><p>Имя соединения</p></th><th id="-sv3sd7_60838"><p>Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например &ldquo;Квартира №18&rdquo;, или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.</p></th></tr></thead><tbody><tr id="-sv3sd7_60839"><td id="-sv3sd7_60840"><p>Период (мс)</p></td><td id="-sv3sd7_60841"><p>Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.</p></td></tr><tr id="-sv3sd7_60842"><td id="-sv3sd7_60843"><p>Включено</p></td><td id="-sv3sd7_60844"><p>Настройка включения/отключения соединения (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_60845"><td id="-sv3sd7_60846"><p>Ограничение памяти (МБ)</p></td><td id="-sv3sd7_60847"><p>Задание пределов оперативной памяти для процесса, обслуживающего соединение.</p></td></tr><tr id="-sv3sd7_60848"><td id="-sv3sd7_60849"><p>Тип</p></td><td id="-sv3sd7_60850"><p id="-sv3sd7_60851">Вариант подключения к устройству. Поддерживаются:</p><p id="-sv3sd7_60852">- &ldquo;TCP&rdquo;. Данный тип может быть использован для подключения через шлюз TCP&lt;=&gt;RS-485. Такое решение позволяет использовать преобразователи TCP&lt;=&gt;RS-485 в качестве master-устройств для организации связи с большим количеством приборов учета.</p><p id="-sv3sd7_60853">- &ldquo;SERIAL&rdquo;. Подключение к устройству выполняется по линии связи RS-485. Подключение станции Faceplate к линии связи выполняется с помощью преобразователей RS-232&lt;=&gt;RS-485 или USB&lt;=&gt;RS-485. При использовании одного серийного порта для обмена информацией с несколькими устройствами нужно настроить одно общее соединение. В этом случае адреса устройств на шине определяются при настройке привязок.</p></td></tr><tr id="-sv3sd7_60854"><td id="-sv3sd7_60855" colspan="2"><p><span class="control" id="-sv3sd7_60856">TCP</span></p></td></tr><tr id="-sv3sd7_60857"><td id="-sv3sd7_60858"><p>IP</p></td><td id="-sv3sd7_60859"><p>IP адрес шлюза</p></td></tr><tr id="-sv3sd7_60860"><td id="-sv3sd7_60861"><p>Порт</p></td><td id="-sv3sd7_60862"><p>Номер порта, используемый для подключения к шлюзу</p></td></tr><tr id="-sv3sd7_60863"><td id="-sv3sd7_60864" colspan="2"><p><span class="control" id="-sv3sd7_60865">SERIAL</span></p></td></tr><tr id="-sv3sd7_60866"><td id="-sv3sd7_60867"><p>Порт</p></td><td id="-sv3sd7_60868"><p>Имя порта, через которое ведется обмен данными, например, &ldquo;СОМ3&rdquo; для OS Windows или &ldquo;/dev/ttyUSB0&rdquo; для систем семейства Linux</p></td></tr><tr id="-sv3sd7_60869"><td id="-sv3sd7_60870"><p>Скорость</p></td><td id="-sv3sd7_60871"><p>Скорость передачи данных</p></td></tr><tr id="-sv3sd7_60872"><td id="-sv3sd7_60874"><p>Четность</p></td><td id="-sv3sd7_60877"><p>Использование проверки четности</p></td></tr><tr id="-sv3sd7_60878"><td id="-sv3sd7_60882"><p>Стоп-биты</p></td><td id="-sv3sd7_60883"><p>Количество стоповых бит, передаваемых в пакете</p></td></tr><tr id="-sv3sd7_60885"><td id="-sv3sd7_60888"><p>Размер байта</p></td><td id="-sv3sd7_60890"><p>Количество бит, передаваемых в пакете</p></td></tr><tr id="-sv3sd7_60893"><td id="-sv3sd7_60897"><p>Таймаут</p></td><td id="-sv3sd7_60899"><p>Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения</p></td></tr><tr id="-sv3sd7_60902"><td id="-sv3sd7_60904"><p>Попыток</p></td><td id="-sv3sd7_60907"><p>Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_60908" data-toc="-sv3sd7_60908"><a name=""></a> Привязки</h4><p id="-sv3sd7_60913">Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.</p><p id="-sv3sd7_60915">Создание и редактирование привязок Mercury 230 производится с помощью формы:</p><figure id="-sv3sd7_60917"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 046" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.046.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 046" width="359" height="346"></figure><p id="-sv3sd7_60919">Диалог вызывается при щелчке по кнопке &ldquo;Создать&rdquo; на панели управления привязками (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_60921" data-external="true" rel="noopener noreferrer">Панель привязок</a>)</p><p id="-sv3sd7_60923">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60925"><thead><tr class="ijRowHead" id="-sv3sd7_60927"><th id="-sv3sd7_60929"><p>Тег</p></th><th id="-sv3sd7_60931"><p>Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.</p></th></tr></thead><tbody><tr id="-sv3sd7_60932"><td id="-sv3sd7_60934"><p>Поле</p></td><td id="-sv3sd7_60936"><p>Поле тега, в которое будет записываться значение получаемого параметра</p></td></tr><tr id="-sv3sd7_60939"><td id="-sv3sd7_60941"><p>Адрес</p></td><td id="-sv3sd7_60943"><p>Адрес устройства на шине, может принимать значения от 1 до 253</p></td></tr><tr id="-sv3sd7_60945"><td id="-sv3sd7_60946"><p>Пароль</p></td><td id="-sv3sd7_60948"><p>Пароль доступа к подключаемому устройству.</p></td></tr><tr id="-sv3sd7_60951"><td id="-sv3sd7_60953"><p>Тариф</p></td><td id="-sv3sd7_60955"><p>Номер тарифа. Счетчики электроэнергии поддерживают тарификацию учет потребляемой энергии и позволяют получать накопленное значение по каждому из тарифов. Счетчики серии Mercury 230 для идентификации сконфигурированных тарифов используют нумерацию. Данный параметр определяет номер тарифа, по которому запрашивается значение накопленной энергии.</p></td></tr><tr id="-sv3sd7_60956"><td id="-sv3sd7_60959"><p>A, B</p></td><td id="-sv3sd7_60961"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_60962">y = A*x + B</span>, где <span class="control" id="-sv3sd7_60965">y</span> - значение поля тега, <span class="control" id="-sv3sd7_60966">x</span> - значение параметра в телеграмме.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_60969" data-toc="-sv3sd7_60969"><a name=""></a> Шаблоны привязок</h4><p id="-sv3sd7_60974">Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства, а только определяет номер тарифа. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав запрашиваемых тарифов, и параметры масштабирования значений. Настройка шаблонов привязок Mercury 230, выполняется с помощью следующей формы:</p><figure id="-sv3sd7_60976"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 047" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.047.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 047" width="449" height="308"></figure><p id="-sv3sd7_60977">Диалог отображается при щелчке по кнопке &ldquo;Создать&rdquo; на на панели редактора &ldquo;Мастера&rdquo; <figure id="-sv3sd7_60979"><img alt="ref8" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.035.png" title="ref8" width="103" height="38"></figure> (см. <span id="-sv3sd7_60982">Интерфейс редактора &ldquo;Мастера&rdquo;</span>). Параметры:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_60984"><thead><tr class="ijRowHead" id="-sv3sd7_60985"><th id="-sv3sd7_60988"><p>Поле</p></th><th id="-sv3sd7_60990"><p>Поле тега, в которое будет записываться значение накопленной энергии по соответствующему тарифу</p></th></tr></thead><tbody><tr id="-sv3sd7_60992"><td id="-sv3sd7_60994"><p>Тариф</p></td><td id="-sv3sd7_60995"><p>Номер тарифа. Счетчики электроэнергии поддерживают тарификацию и учет потребляемой энергии, позволяют получать накопленное значение по каждому из тарифов. Счетчики серии Mercury 230 для идентификации сконфигурированных тарифов используют нумерацию. Данный параметр определяет номер тарифа, по которому запрашивается значение накопленной энергии.</p></td></tr><tr id="-sv3sd7_60997"><td id="-sv3sd7_60999"><p>A, B</p></td><td id="-sv3sd7_61000"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_61003">y = A*x + B</span>, где <span class="control" id="-sv3sd7_61004">y</span> - значение поля тега, <span class="control" id="-sv3sd7_61006">x</span> - значение параметра в телеграмме.</p></td></tr></tbody></table></div></section></section><section class="chapter"><h3 id="modbus" data-toc="modbus">MODBUS</h3><p id="-sv3sd7_61008">Modbus - это открытый коммуникационный протокол, разработанный компанией Modicon. В настоящее время данный стандарт поддерживается большинством производителей контроллерного оборудования. Faceplate поддерживает разновидности протокола:</p><ul class="list _bullet" id="-sv3sd7_61011"><li class="list__item" id="-sv3sd7_61012"><p id="-sv3sd7_61014">MODBUS-TCP</p></li><li class="list__item" id="-sv3sd7_61017"><p id="-sv3sd7_61018">MODBUS-RTU</p><section class="chapter"><h4 id="-sv3sd7_61020" data-toc="-sv3sd7_61020"><a name=""></a> Настройки</h4><p id="-sv3sd7_61026">Настройка подключений к устройствам по протоколу MODBUS выполняется с помощью следующей формы:</p><figure id="-sv3sd7_61030"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 048" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.048.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 048" width="488" height="521"></figure><p id="-sv3sd7_61031">Диалог отображается при выборе типа MODBUS в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения MODBUS (см. <span id="-sv3sd7_61033">Интерфейс редактора &ldquo;Привязки&rdquo;</span>). Настройки:</p></section></li></ul><div class="table-wrapper"><table class="wide" id="-sv3sd7_61035"><thead><tr class="ijRowHead" id="-sv3sd7_61037"><th id="-sv3sd7_61038"><p>Имя соединения</p></th><th id="-sv3sd7_61040"><p>Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например &ldquo;UPS_A1&rdquo;, или использовать обозначения из проектной документации.</p></th></tr></thead><tbody><tr id="-sv3sd7_61043"><td id="-sv3sd7_61044"><p>Период</p></td><td id="-sv3sd7_61046"><p>Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.</p></td></tr><tr id="-sv3sd7_61048"><td id="-sv3sd7_61050"><p>Включено</p></td><td id="-sv3sd7_61051"><p>Настройка включения/отключения соединения (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_61054"><td id="-sv3sd7_61056"><p>Ограничение памяти (МБ)</p></td><td id="-sv3sd7_61057"><p>Задание пределов оперативной памяти для процесса, обслуживающего соединение.</p></td></tr><tr id="-sv3sd7_61060"><td id="-sv3sd7_61062"><p>Поддержка групповых запросов</p></td><td id="-sv3sd7_61063"><p>Настройка включения/отключения поддержки групповых запросов (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_61066"><td id="-sv3sd7_61068"><p>Макс.длина пакета</p></td><td id="-sv3sd7_61070"><p>Максимальное количество байтов, передаваемых за одну сетевую транзакцию.</p></td></tr><tr id="-sv3sd7_61072"><td id="-sv3sd7_61073"><p>Коэффициент задержки линии</p></td><td id="-sv3sd7_61074"><p>Коэффициент задержки линии позволяет учесть время задержки, возникающее на линии связи, и компенсировать его. Степень использования пропускной способности канала (от 1 до 10).</p></td></tr><tr id="-sv3sd7_61075"><td id="-sv3sd7_61076"><p>Тип</p></td><td id="-sv3sd7_61077"><p id="-sv3sd7_61078">Вариант протокола MODBUS, используемый для связи с данным устройством:</p><p id="-sv3sd7_61079">- TCP</p><p id="-sv3sd7_61081">- RTU-SERIAL</p><p id="-sv3sd7_61083">- RTU-TCP</p></td></tr><tr id="-sv3sd7_61085"><td id="-sv3sd7_61087" colspan="2"><p><span class="control" id="-sv3sd7_61089">TCP</span></p></td></tr><tr id="-sv3sd7_61090"><td id="-sv3sd7_61093"><p>IP</p></td><td id="-sv3sd7_61094"><p>IP адрес подключаемого устройства</p></td></tr><tr id="-sv3sd7_61097"><td id="-sv3sd7_61098"><p>Порт</p></td><td id="-sv3sd7_61100"><p>Номер порта, используемый для подключения. По умолчанию MODBUS-TCP работает через порт 502, но при подключении через шлюз, например TCP&lt;=&gt;RS-485, номер порта может отличаться.</p></td></tr><tr id="-sv3sd7_61101"><td id="-sv3sd7_61103" colspan="2"><p><span class="control" id="-sv3sd7_61105">SERIAL</span></p></td></tr><tr id="-sv3sd7_61106"><td id="-sv3sd7_61108"><p>Порт</p></td><td id="-sv3sd7_61111"><p>Имя порта, через которое ведется обмен данными, например, &ldquo;СОМ3&rdquo; для OS Windows или &ldquo;/dev/ttyUSB0&rdquo; для систем семейства Linux.</p></td></tr><tr id="-sv3sd7_61112"><td id="-sv3sd7_61113"><p>Скорость</p></td><td id="-sv3sd7_61115"><p>Скорость передачи данных</p></td></tr><tr id="-sv3sd7_61117"><td id="-sv3sd7_61120"><p>Четность</p></td><td id="-sv3sd7_61122"><p>Использование проверки четности</p></td></tr><tr id="-sv3sd7_61124"><td id="-sv3sd7_61125"><p>Стоп-биты</p></td><td id="-sv3sd7_61128"><p>Количество стоповых бит, передаваемых в пакете</p></td></tr><tr id="-sv3sd7_61129"><td id="-sv3sd7_61132"><p>Размер байта</p></td><td id="-sv3sd7_61134"><p>Количество бит, передаваемых в пакете</p></td></tr><tr id="-sv3sd7_61135"><td id="-sv3sd7_61136"><p>Таймаут</p></td><td id="-sv3sd7_61139"><p>Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения.</p></td></tr><tr id="-sv3sd7_61141"><td id="-sv3sd7_61142"><p>Попыток</p></td><td id="-sv3sd7_61145"><p>Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек</p></td></tr></tbody></table></div><p id="-sv3sd7_61147">Варианты протоколов для соединений MODBUS:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_61148"><thead><tr class="ijRowHead" id="-sv3sd7_61150"><th id="-sv3sd7_61151"><p>TCP</p></th><th id="-sv3sd7_61153"><p>Протокол MODBUS-TCP. Данный протокол может быть использован для подключения напрямую к устройству, поддерживающему MODBUS-TCP, либо для подключения к устройству через шлюз, который ведет обмен со станцией Faceplate по протоколу MODBUS-TCP, проксируя запросы в другую линию связи, например MODBUS-RTU или даже не из семейства MODBUS.</p></th></tr></thead><tbody><tr id="-sv3sd7_61156"><td id="-sv3sd7_61157"><p>RTU-SERIAL</p></td><td id="-sv3sd7_61159"><p>Соответствует протоколу MODBUS-RTU. Подключение к устройству выполняется по линии связи RS-485. Подключение станции Faceplate к линии связи выполняется с помощью преобразователей RS-232&lt;=&gt;RS-485 или USB&lt;=&gt;RS-485. При использовании одного серийного порта для обмена информацией с несколькими slave-устройствами нужно настроить одно общее соединение. В этом случае Modbus-адреса устройств определяются при настройке привязок.</p></td></tr><tr id="-sv3sd7_61162"><td id="-sv3sd7_61164"><p>RTU-TCP</p></td><td id="-sv3sd7_61166"><p>Протокол используется для обмена данными с устройствами, поддерживающими MODBUS-RTU. В отличие от &ldquo;RTU-SERIAL&rdquo; для подключения к устройству используется преобразователь TCP&lt;=&gt;RS-485. В этом случае Faceplate выполняет подключение к преобразователю по TCP, но использует для обмена протокол MODBUS-RTU. Такое решение позволяет использовать преобразователи TCP&lt;=&gt;RS-485 в качестве Modbus-master устройств для организации связи с большим количеством slave-устройств.</p></td></tr></tbody></table></div><section class="chapter"><h4 id="-sv3sd7_61168" data-toc="-sv3sd7_61168"><a name=""></a> Привязки</h4><p id="-sv3sd7_61174">Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.</p><p id="-sv3sd7_61175">Создание и редактирование привязок MODBUS производится с помощью формы:</p><figure id="-sv3sd7_61178"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 049" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.049.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 049" width="435" height="737"></figure><p id="-sv3sd7_61180">Диалог вызывается при щелчке по кнопке &ldquo;Создать&rdquo; на панели управления привязками (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_61181" data-external="true" rel="noopener noreferrer">Панель привязок</a>)</p><p id="-sv3sd7_61184">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_61186"><thead><tr class="ijRowHead" id="-sv3sd7_61188"><th id="-sv3sd7_61190"><p>Тег</p></th><th id="-sv3sd7_61191"><p>Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.</p></th></tr></thead><tbody><tr id="-sv3sd7_61194"><td id="-sv3sd7_61196"><p>Поле</p></td><td id="-sv3sd7_61198"><p>Поле тега, в которое будет записываться значение из сопоставляемой области памяти устройства. Привязка работает также в обратную сторону. Это означает, что при изменении значения в поле тега, новое значение будет записано в память устройства.</p></td></tr><tr id="-sv3sd7_61200"><td id="-sv3sd7_61202"><p>Доступ</p></td><td id="-sv3sd7_61204"><p id="-sv3sd7_61205">Права доступа пользователя:</p><p id="-sv3sd7_61207">- R - чтение</p><p id="-sv3sd7_61209">- W - запись</p><p id="-sv3sd7_61212">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_61213"><td id="-sv3sd7_61215"><p>Проверка CRC</p></td><td id="-sv3sd7_61217"><p>Позволяет отключить проверку CRC. Актуально только для MODBUS RTU. ВНИМАНИЕ! Не рекомендуется отключать данную проверку, так как это может привести к искажению получаемых с устройства данных. Отключение проверки может быть использовано только при необходимости интеграции с оборудованием, не поддерживающим механизм CRC.</p></td></tr><tr id="-sv3sd7_61220"><td id="-sv3sd7_61221"><p>Адрес slave</p></td><td id="-sv3sd7_61223"><p>Modbus-адрес устройства на шине, может принимать значения от 1 до 255. Значение поля используется при подключении к устройству через шлюз, либо в режиме RTU-SERIAL.</p></td></tr><tr id="-sv3sd7_61225"><td id="-sv3sd7_61227"><p>Область</p></td><td id="-sv3sd7_61230"><p id="-sv3sd7_61232">Тип области памяти в устройстве:</p><p id="-sv3sd7_61233">-<span class="control" id="-sv3sd7_61236">DI.</span> Discrete Inputs - дискретный вход. Тип памяти доступен только для чтения. Один регистр DI соответствует одному биту. Если сопоставляемое поле тега имеет целочисленный тип, то в него могут быть считаны более одного регистра. Количество считываемых регистров определяется настройкой &ldquo;Тип&rdquo; (см. ниже).</p><p id="-sv3sd7_61237">-<span class="control" id="-sv3sd7_61240">AI.</span> Analog Input соответствует Input Registers. Тип памяти доступен только для чтения. Каждый регистр состоит из 16-ти бит. Для передачи чисел с плавающей точкой, а также целых значений более 65535, может быть использовано 2 следующих друг за другом регистра. Это определяется настройками &ldquo;Тип&rdquo; и &ldquo;Формат&rdquo; (см. ниже).</p><p id="-sv3sd7_61242">-<span class="control" id="-sv3sd7_61244">DO.</span> Discrete Outputs соответствует Coils. Тип доступен для чтения и записи. Один регистр соответствует одному биту. Если сопоставляемое поле тега имеет целочисленный тип, то в него могут быть считаны более одного регистра. Количество считываемых регистров определяется настройкой &ldquo;Тип&rdquo; (см. ниже).</p><p id="-sv3sd7_61245">-<span class="control" id="-sv3sd7_61248">HR.</span> Holding Registers. Тип доступен для чтения и записи. Каждый регистр состоит из 16-ти бит. Для передачи чисел с плавающей точкой, а также целых значений более 65535, может быть использовано 2 следующих друг за другом регистра. Это определяется настройками &ldquo;Тип&rdquo; и &ldquo;Формат&rdquo; (см. ниже).</p></td></tr><tr id="-sv3sd7_61250"><td id="-sv3sd7_61252"><p>Чтение, Запись</p></td><td id="-sv3sd7_61253"><p>Поля позволяют переопределить функции чтения и записи области (<a href="http://www.modbus.org/docs/Modbus_Application_Protocol_V1_1b.pdf" id="-sv3sd7_61255" data-external="true" rel="noopener noreferrer">http://www.modbus.org/docs/Modbus_Application_Protocol_V1_1b.pdf</a>). По умолчанию задаются значения соответствующие выбранной области памяти.</p></td></tr><tr id="-sv3sd7_61258"><td id="-sv3sd7_61260"><p>Адрес</p></td><td id="-sv3sd7_61262"><p>Начальный адрес регистра. Если &ldquo;Размер&rdquo; (см. ниже) привязки обеспечивает передачу более одного регистра, то в настройке должен быть указан адрес первого регистра из связки.</p></td></tr><tr id="-sv3sd7_61263"><td id="-sv3sd7_61265"><p>Размер</p></td><td id="-sv3sd7_61267"><p id="-sv3sd7_61270">Определяет объем передаваемых данных:</p><p id="-sv3sd7_61272">- &ldquo;bit&rdquo;</p><p id="-sv3sd7_61273">- &ldquo;byte&rdquo;. Тип может быть использован для передачи 8 следующих друг за другом однобитовых регистров (DI, DO).</p><p id="-sv3sd7_61275">- &ldquo;word&rdquo;. Тип используется для передачи одного регистра AI или HR, а также для работы с 16-ю следующими друг за другом регистрами типа DI или DO.</p><p id="-sv3sd7_61278">- &ldquo;dword&rdquo;. Тип может быть использован для передачи 2-х следующих друг за другом регистров AI или HR.</p><p id="-sv3sd7_61279">Формат передаваемого значения определяется настройкой &ldquo;Формат&rdquo; (см. ниже). Также тип может использоваться для передачи 32-х следующих друг за другом однобитовых регистров (DI, DO).</p></td></tr><tr id="-sv3sd7_61282"><td id="-sv3sd7_61283"><p>Порядок байт</p></td><td id="-sv3sd7_61286"><p>Очередность байтов - прямая или обратная (21 или 12)</p></td></tr><tr id="-sv3sd7_61288"><td id="-sv3sd7_61289"><p>Формат</p></td><td id="-sv3sd7_61291"><p id="-sv3sd7_61294">Формат передаваемых данных:</p><p id="-sv3sd7_61295">- signed-integer</p><p id="-sv3sd7_61297">- unsigned-integer</p><p id="-sv3sd7_61299">- float</p><p id="-sv3sd7_61302">Настройка имеет значение при передаваемом объеме данных более одного байта (типы word, dword).</p></td></tr><tr id="-sv3sd7_61303"><td id="-sv3sd7_61306"><p>Смещение</p></td><td id="-sv3sd7_61308"><p>Смещение бита (байта) внутри регистра, начиная с &ldquo;0&rdquo;</p></td></tr><tr id="-sv3sd7_61309"><td id="-sv3sd7_61311"><p>A, B</p></td><td id="-sv3sd7_61314"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_61316">y = A*x + B</span>, где <span class="control" id="-sv3sd7_61318">y</span> - значение поля тега, <span class="control" id="-sv3sd7_61319">x</span> - значение принятое из устройства.</p></td></tr></tbody></table></div><p id="-sv3sd7_61322">Варианты форматов для привязок MODBUS:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_61323"><thead><tr class="ijRowHead" id="-sv3sd7_61326"><th id="-sv3sd7_61327"><p>signed-integer</p></th><th id="-sv3sd7_61330"><p>Целое число со знаком</p></th></tr></thead><tbody><tr id="-sv3sd7_61332"><td id="-sv3sd7_61333"><p>unsigned-integer</p></td><td id="-sv3sd7_61336"><p>Целое число без знака</p></td></tr><tr id="-sv3sd7_61337"><td id="-sv3sd7_61339"><p>float</p></td><td id="-sv3sd7_61341"><p>Число с плавающей точкой</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_61343" data-toc="-sv3sd7_61343"><a name=""></a> Шаблоны привязок</h4><p id="-sv3sd7_61350">Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон ссылается не на конкретный адрес в области памяти подключенного устройства, а задает смещение относительно первой (с наименьшим адресом) привязки в мастере. Таким образом, если в памяти устройства для хранения информации по однотипным параметрам используется одинаковая структура данных, то целесообразно создать мастер для привязки тегов данного типа. Шаблоны привязок в мастере определяют состав, тип и смещение привязываемых полей данных. Настройка шаблонов привязок MODBUS, выполняется с помощью следующей формы:</p><figure id="-sv3sd7_61351"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 050" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.050.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 050" width="392" height="542"></figure><p id="-sv3sd7_61354">Диалог отображается при щелчке по кнопке &ldquo;Создать&rdquo; на инструментальной панели для привязок (см. <span id="-sv3sd7_61355">Интерфейс редактора &ldquo;Мастера&rdquo;</span>). Параметры:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_61357"><thead><tr class="ijRowHead" id="-sv3sd7_61360"><th id="-sv3sd7_61362"><p>Поле</p></th><th id="-sv3sd7_61363"><p>Поле тега, в которое будет записываться значение из сопоставляемой области памяти устройства.</p></th></tr></thead><tbody><tr id="-sv3sd7_61366"><td id="-sv3sd7_61367"><p>Доступ</p></td><td id="-sv3sd7_61370"><p id="-sv3sd7_61372">Права доступа пользователя:</p><p id="-sv3sd7_61373">- R - чтение</p><p id="-sv3sd7_61376">- W - запись</p><p id="-sv3sd7_61377">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_61379"><td id="-sv3sd7_61381"><p>Проверка CRC</p></td><td id="-sv3sd7_61383"><p>Позволяет отключить проверку CRC. Актуально только для MODBUS RTU.</p></td></tr><tr id="-sv3sd7_61386"><td id="-sv3sd7_61387"><p>Область</p></td><td id="-sv3sd7_61389"><p id="-sv3sd7_61392">Тип области памяти:</p><p id="-sv3sd7_61394">- DI. Discrete Inputs</p><p id="-sv3sd7_61396">- AI. Analog Input соответствует Input Registers</p><p id="-sv3sd7_61398">- DO. Discrete Outputs соответствует Coils</p><p id="-sv3sd7_61399">- HR. Holding Registers</p></td></tr><tr id="-sv3sd7_61401"><td id="-sv3sd7_61403"><p>Чтение, Запись</p></td><td id="-sv3sd7_61405"><p>Поля позволяют переопределить функции чтения и записи области. По умолчанию задаются значения соответствующие выбранной области памяти.</p></td></tr><tr id="-sv3sd7_61408"><td id="-sv3sd7_61410"><p>Адрес</p></td><td id="-sv3sd7_61412"><p>Смещение адреса регистра для поля относительно начального, задаваемого при вызове мастера (см. <span id="-sv3sd7_61414">Создание привязок с помощью мастера</span>)</p></td></tr><tr id="-sv3sd7_61415"><td id="-sv3sd7_61417"><p>Размер</p></td><td id="-sv3sd7_61420"><p id="-sv3sd7_61421">Определяет объем передаваемых данных:</p><p id="-sv3sd7_61424">- &ldquo;bit&rdquo;</p><p id="-sv3sd7_61426">- &ldquo;byte&rdquo;. Тип может быть использован для передачи 8 следующих друг за другом однобитовых регистров (DI, DO)</p><p id="-sv3sd7_61428">- &ldquo;word&rdquo;. Тип используется для передачи одного регистра AI или HR, а также для работы с 16-ю следующими друг за другом регистрами типа DI или DO.</p><p id="-sv3sd7_61430">- &ldquo;dword&rdquo;. Тип может быть использован для передачи 2-х следующих друг за другом регистров AI или HR.</p><p id="-sv3sd7_61432">Формат передаваемого значения определяется настройкой &ldquo;Формат&rdquo; (см. ниже). Также тип может использоваться для передачи 32-х следующих друг за другом однобитовых регистров (DI, DO).</p></td></tr><tr id="-sv3sd7_61434"><td id="-sv3sd7_61435"><p>Порядок байт</p></td><td id="-sv3sd7_61438"><p>Очередность байтов - прямая или обратная (21 или 12)</p></td></tr><tr id="-sv3sd7_61439"><td id="-sv3sd7_61442"><p>Формат</p></td><td id="-sv3sd7_61443"><p>Формат передаваемых данных. Настройка имеет значение при передаваемом объеме данных более одного байта (типы word, dword).</p></td></tr><tr id="-sv3sd7_61445"><td id="-sv3sd7_61448"><p>Смещение</p></td><td id="-sv3sd7_61449"><p>Смещение бита (байта) внутри регистра, начиная с &ldquo;0&rdquo;</p></td></tr><tr id="-sv3sd7_61452"><td id="-sv3sd7_61453"><p>A, B</p></td><td id="-sv3sd7_61455"><p>Коэффициенты масштабирования.Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_61458">y = A*x + B</span>, где <span class="control" id="-sv3sd7_61460">y</span> - значение поля тега, <span class="control" id="-sv3sd7_61462">x</span> - значение принятое из устройства</p></td></tr></tbody></table></div></section></section><section class="chapter"><h3 id="opc-da" data-toc="opc-da">OPC DA</h3><p id="-sv3sd7_61464">OPC DA - общепринятый стандарт, разработан международной организацией OPC Foundation. Стандарт описывает правила взаимодействия средств автоматизации, функционирующих на разных аппаратных платформах, в разных промышленных сетях и производимых разными фирмами. В FACEPLATE поддержаны протоколы версии OPC DA v1, OPC DA v2.</p><p id="-sv3sd7_61465">Стандарт OPC DA построен на базе технологии COM/DCOM. Данная технология разработана фирмой Microsoft для организации взаимодействия программных компонент в среде Windows. В отличие от OPC DA FACEPLATE является кроссплатформенным программным обеспечением, поэтому для взаимодействия с серверами OPC DA используется отдельный программный модуль, который устанавливается на станцию с OPC сервером и обеспечивает взаимодействие FACEPLATE с OPC сервером через TCP подключение. Модуль называется FACEPLATE OPC DA Proxy, он включен в стандартный пакет FACEPLATE, а также может быть получен отдельно.</p><p id="-sv3sd7_61468">Для подключения FACEPLATE к OPC DA серверу на станции с OPC сервером необходимо установить FACEPLATE OPC DA Proxy. При установке пользователь определяет какой номер порта будет использовать программа для обмена информацией с FACEPLATE:</p><figure id="-sv3sd7_61470"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 051" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.051.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 051" width="209" height="50"></figure><p id="-sv3sd7_61472">По умолчанию используется порт 8100. После запуска программы в системном трее появится иконка <img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 052" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.052.png" class="inline-icon-" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 052" id="-sv3sd7_61474" width="27" height="25">, которая свидетельствует о том, что программа запущена и готова к работе. При перезапуске компьютера программа запускается автоматически.</p><p id="-sv3sd7_61476"><span class="emphasis" id="-sv3sd7_61477">Далее описание процесса настройки OPC DA соединений ведется с предположением того, что на станции с OPC сервером уже установлен и запущен FACE OPC DA Proxy</span>.</p><section class="chapter"><h4 id="-sv3sd7_61480" data-toc="-sv3sd7_61480"><a name=""></a> Настройки</h4><p id="-sv3sd7_61486">Настройка подключений к устройствам по протоколу OPC DA выполняется с помощью следующей формы:</p><figure id="-sv3sd7_61488"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 053" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.053.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 053" width="308" height="450"></figure><p id="-sv3sd7_61490">Диалог вызывается при выборе типа OPC DA в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения OPC DA (см. <span id="-sv3sd7_61492">Интерфейс редактора &ldquo;Привязки&rdquo;</span>).</p><p id="-sv3sd7_61494">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_61496"><thead><tr class="ijRowHead" id="-sv3sd7_61497"><th id="-sv3sd7_61500"><p>Имя соединения</p></th><th id="-sv3sd7_61502"><p>Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например &ldquo;Сервер данных&rdquo;, или использовать обозначения из проектной документации.</p></th></tr></thead><tbody><tr id="-sv3sd7_61504"><td id="-sv3sd7_61505"><p>Период</p></td><td id="-sv3sd7_61508"><p>Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.</p></td></tr><tr id="-sv3sd7_61510"><td id="-sv3sd7_61511"><p>Включено</p></td><td id="-sv3sd7_61513"><p>Настройка включения/отключения соединения (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_61515"><td id="-sv3sd7_61518"><p>Ограничение памяти (МБ)</p></td><td id="-sv3sd7_61519"><p>Задание пределов оперативной памяти для процесса, обслуживающего соединение.</p></td></tr><tr id="-sv3sd7_61522"><td id="-sv3sd7_61523"><p>IP</p></td><td id="-sv3sd7_61526"><p>IP адрес станции с OPC DA сервером</p></td></tr><tr id="-sv3sd7_61528"><td id="-sv3sd7_61529"><p>Порт</p></td><td id="-sv3sd7_61532"><p>Номер порта, который использует модуль Faceplate OPC DA Proxy (указывается в процессе установки модуля, по умолчанию 8100)</p></td></tr><tr id="-sv3sd7_61533"><td id="-sv3sd7_61535"><p>Server ID</p></td><td id="-sv3sd7_61538"><p>Идентификатор OPC сервера, например &ldquo;ICONICS.SimulatorOPCDA.2&rdquo;. Список доступных OPC серверов на станции можно получить с помощью тестовых OPC утилит, например Matrikon OPC Explorer (https://www.matrikonopc.com/products/opc-desktop-tools/opc-explorer.aspx)</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_61539" data-toc="-sv3sd7_61539"><a name=""></a> Привязки</h4><p id="-sv3sd7_61546">Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.</p><p id="-sv3sd7_61548">Создание и редактирование привязок OPC DA производится с помощью формы:</p><figure id="-sv3sd7_61549"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 054" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.054.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 054" width="367" height="360"></figure><p id="-sv3sd7_61551">Диалог вызывается при щелчке по кнопке &ldquo;Создать&rdquo; на панели управления привязками (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_61554" data-external="true" rel="noopener noreferrer">Панель привязок</a>)</p><p id="-sv3sd7_61555">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_61557"><thead><tr class="ijRowHead" id="-sv3sd7_61560"><th id="-sv3sd7_61561"><p>Тег</p></th><th id="-sv3sd7_61563"><p>Объект базы, содержащий набор полей предназначенных для контроля измеряемого параметра.</p></th></tr></thead><tbody><tr id="-sv3sd7_61565"><td id="-sv3sd7_61568"><p>Поле</p></td><td id="-sv3sd7_61570"><p>Поле тега, в которое будет записываться значение параметра</p></td></tr><tr id="-sv3sd7_61572"><td id="-sv3sd7_61574"><p>Доступ</p></td><td id="-sv3sd7_61576"><p id="-sv3sd7_61578">Права доступа пользователя:</p><p id="-sv3sd7_61579">- R - чтение</p><p id="-sv3sd7_61581">- W - запись</p><p id="-sv3sd7_61584">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_61585"><td id="-sv3sd7_61587"><p>OPC тег</p></td><td id="-sv3sd7_61590"><p>Идентификатор тега в пространстве OPC сервера. Доступные OPC теги можно получить с помощью тестовых OPC утилит, например Matrikon OPC Explorer.</p></td></tr><tr id="-sv3sd7_61592"><td id="-sv3sd7_61593"><p>A, B</p></td><td id="-sv3sd7_61596"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_61598">y = A*x + B</span>, где <span class="control" id="-sv3sd7_61600">y</span> - значение поля тега, <span class="control" id="-sv3sd7_61601">x</span> - значение OPC тега.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_61603" data-toc="-sv3sd7_61603"><a name=""></a> Шаблоны привязок</h4><p id="-sv3sd7_61609">Шаблоны привязок используются для автоматизации действий разработчика при настройке соединений. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон содержит не полный идентификатор OPC тега, а только часть, определяющую его адрес внутри ветки (постфикс). Например, если в ветке OPCTestGroup содержится параметр, полный адрес которого будет выглядеть как OPCTestGroup.NumericItem, то адресом параметра внутри ветки (постфикс) является NumericItem. Таким образом, если требуется создать множество однотипных привязок для разных веток в устройстве или разных устройств, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и постфиксы тегов внутри ветки. Настройка шаблонов привязок OPC DA, выполняется с помощью следующей формы:</p><figure id="-sv3sd7_61612"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 055" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.055.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 055" width="408" height="339"></figure><p id="-sv3sd7_61614">Диалог отображается при щелчке по кнопке &ldquo;Создать&rdquo; на панели редактора &ldquo;Мастера&rdquo; <figure id="-sv3sd7_61615"><img alt="ref8" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.035.png" title="ref8" width="103" height="38"></figure> (см. <span id="-sv3sd7_61618">Интерфейс редактора &ldquo;Мастера&rdquo;</span>). Параметры:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_61620"><thead><tr class="ijRowHead" id="-sv3sd7_61621"><th id="-sv3sd7_61623"><p>Поле</p></th><th id="-sv3sd7_61625"><p>Поле тега, в которое будет записываться значение контролируемого параметра.</p></th></tr></thead><tbody><tr id="-sv3sd7_61627"><td id="-sv3sd7_61629"><p>Доступ</p></td><td id="-sv3sd7_61632"><p id="-sv3sd7_61633">Права доступа пользователя:</p><p id="-sv3sd7_61635">- R - чтение</p><p id="-sv3sd7_61638">- W - запись</p><p id="-sv3sd7_61639">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_61640"><td id="-sv3sd7_61641"><p>Тег-постфикс</p></td><td id="-sv3sd7_61642"><p>Постфикс строкового идентификатора OPC тега контролируемого параметра внутри ветки.</p></td></tr><tr id="-sv3sd7_61643"><td id="-sv3sd7_61644"><p>A, B</p></td><td id="-sv3sd7_61645"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_61646">y = A*x + B</span>, где <span class="control" id="-sv3sd7_61647">y</span> - значение поля тега, <span class="control" id="-sv3sd7_61648">x</span> - значение OPC тега.</p></td></tr></tbody></table></div></section></section><section class="chapter"><h3 id="opcua-client" data-toc="opcua-client">OPCUA_CLIENT</h3><p id="-sv3sd7_61650">OPC (OLE for Process Control) - это семейство протоколов и технологий, предоставляющих единый интерфейс для управления объектами автоматизации и технологическими процессами. OPCUA_CLIENT может содержать множество клиентов. Каждый клиент может работать параллельно с несколькими серверами.</p><p id="-sv3sd7_61651">OPCUA_CLIENT - протокол, принимающий данные от OPCUA-серверов.</p><section class="chapter"><h4 id="-sv3sd7_61652" data-toc="-sv3sd7_61652"><a name=""></a> Настройки</h4><p id="-sv3sd7_61655">Настройка подключений к устройствам по протоколу OPCUA_CLIENT выполняется с помощью следующей формы:</p><figure id="-sv3sd7_61656"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 056" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.056.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 056" width="592" height="464"></figure><p id="-sv3sd7_61657">Диалог вызывается при выборе типа OPCUA_CLIENT в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения OPCUA_CLIENT (см. <span id="-sv3sd7_61658">Интерфейс редактора &ldquo;Привязки&rdquo;</span>).</p><p id="-sv3sd7_61659">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_61660"><thead><tr class="ijRowHead" id="-sv3sd7_61661"><th id="-sv3sd7_61662"><p>Имя соединения</p></th><th id="-sv3sd7_61663"><p>Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.</p></th></tr></thead><tbody><tr id="-sv3sd7_61664"><td id="-sv3sd7_61665"><p>Период (мс)</p></td><td id="-sv3sd7_61666"><p>Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах</p></td></tr><tr id="-sv3sd7_61667"><td id="-sv3sd7_61668"><p>Включено</p></td><td id="-sv3sd7_61669"><p>Настройка включения/отключения соединения (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_61670"><td id="-sv3sd7_61671"><p>Ограничение памяти (МБ)</p></td><td id="-sv3sd7_61672"><p>Задание пределов оперативной памяти для процесса, обслуживающего соединение.</p></td></tr><tr id="-sv3sd7_61673"><td id="-sv3sd7_61675"><p>Поддержка групповых запросов</p></td><td id="-sv3sd7_61677"><p>Настройка включения/отключения поддержки групповых запросов (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_61680"><td id="-sv3sd7_61683"><p>Макс.длина пакета</p></td><td id="-sv3sd7_61685"><p>Максимальное количество параметров, передаваемых за одну сетевую транзакцию.</p></td></tr><tr id="-sv3sd7_61686"><td id="-sv3sd7_61690"><p>Коэффициент задержки линии</p></td><td id="-sv3sd7_61691"><p id="-sv3sd7_61692">Коэффициент задержки линии позволяет учесть время задержки, возникающее на линии связи, и компенсировать его.</p><p id="-sv3sd7_61693">Степень использования пропускной способности канала</p><p id="-sv3sd7_61694">(от 1 до 10).</p></td></tr><tr id="-sv3sd7_61696"><td id="-sv3sd7_61697"><p>URL</p></td><td id="-sv3sd7_61700"><p>Поле поиска OPCUA_SERVER</p></td></tr><tr id="-sv3sd7_61702"><td id="-sv3sd7_61703"><p>MaxNodesPerBrowse</p></td><td id="-sv3sd7_61706"><p>Максимальное количество тегов, запрашиваемых за 1 сетевую транзакцию при просмотре содержимого OPC сервера (не при запросе значений).</p></td></tr><tr id="-sv3sd7_61708"><td id="-sv3sd7_61710"><p>Таймаут</p></td><td id="-sv3sd7_61712"><p>Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения.</p></td></tr><tr id="-sv3sd7_61713"><td id="-sv3sd7_61716"><p>Защищенное соединения</p></td><td id="-sv3sd7_61717"><p>Настройка включения/отключения защищенного соединения (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_61720"><td id="-sv3sd7_61722"><p>Сертификат</p></td><td id="-sv3sd7_61723"><p>Выбор или скачивание сертификата безопасности</p></td></tr><tr id="-sv3sd7_61725"><td id="-sv3sd7_61727"><p>Ключ</p></td><td id="-sv3sd7_61730"><p>Выбор или скачивание ключа безопасности</p></td></tr><tr id="-sv3sd7_61731"><td id="-sv3sd7_61734"><p>Сгенерировать сертификат</p></td><td id="-sv3sd7_61735"><p>Генерация сертификата и ключа безопасности для защищенного соединения</p></td></tr><tr id="-sv3sd7_61737"><td id="-sv3sd7_61739"><p>Логин, пароль</p></td><td id="-sv3sd7_61742"><p>Настройка логина и пароля для защищенного соединения</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_61743" data-toc="-sv3sd7_61743"><a name=""></a> Привязки</h4><p id="-sv3sd7_61750">Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.</p><p id="-sv3sd7_61751">Создание и редактирование привязок OPCUA_CLIENT производится с помощью формы:</p><figure id="-sv3sd7_61754"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 057" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.057.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 057" width="490" height="466"></figure><p id="-sv3sd7_61755">Диалог вызывается при щелчке по кнопке &ldquo;Создать&rdquo; на панели управления привязками (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_61758" data-external="true" rel="noopener noreferrer">Панель привязок</a>).</p><p id="-sv3sd7_61760">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_61762"><thead><tr class="ijRowHead" id="-sv3sd7_61763"><th id="-sv3sd7_61765"><p>Тег</p></th><th id="-sv3sd7_61767"><p>Объект базы, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.</p></th></tr></thead><tbody><tr id="-sv3sd7_61769"><td id="-sv3sd7_61771"><p>Поле</p></td><td id="-sv3sd7_61773"><p>Поле тега, в которое будет записываться значение получаемого параметра</p></td></tr><tr id="-sv3sd7_61776"><td id="-sv3sd7_61778"><p>Доступ</p></td><td id="-sv3sd7_61779"><p id="-sv3sd7_61781">Права доступа пользователя:</p><p id="-sv3sd7_61784">- R - чтение</p><p id="-sv3sd7_61785">- W - запись</p><p id="-sv3sd7_61788">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_61790"><td id="-sv3sd7_61792"><p>Тип</p></td><td id="-sv3sd7_61793"><p id="-sv3sd7_61796">- Float</p><p id="-sv3sd7_61797">- Double</p><p id="-sv3sd7_61799">- Boolean</p><p id="-sv3sd7_61802">- SByte</p><p id="-sv3sd7_61803">- Byte</p><p id="-sv3sd7_61805">- Int16</p><p id="-sv3sd7_61808">- UInt16</p><p id="-sv3sd7_61810">- Int32</p><p id="-sv3sd7_61811">- UInt32</p><p id="-sv3sd7_61814">- Int64</p><p id="-sv3sd7_61816">- UInt64</p><p id="-sv3sd7_61818">- String</p></td></tr><tr id="-sv3sd7_61820"><td id="-sv3sd7_61822"><p>ОРС тэг</p></td><td id="-sv3sd7_61823"><p>Обзор тегов</p></td></tr><tr id="-sv3sd7_61825"><td id="-sv3sd7_61828"><p>A, B</p></td><td id="-sv3sd7_61830"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_61832">y = A*x + B</span>, где <span class="control" id="-sv3sd7_61833">y</span> - значение поля тега, <span class="control" id="-sv3sd7_61835">x</span> - значение параметра в телеграмме.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_61838" data-toc="-sv3sd7_61838"><a name=""></a> Шаблоны привязок</h4><p id="-sv3sd7_61843">Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства и номер канала, а только определяет параметры модуля и параметры канала. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и параметры масштабирования привязываемых полей. Настройка шаблонов привязок OPCUA_CLIENT, выполняется с помощью следующей формы:</p><figure id="-sv3sd7_61845"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 058" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.058.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 058" width="355" height="287"></figure><p id="-sv3sd7_61847">Диалог отображается при щелчке по кнопке &ldquo;Создать&rdquo; на на панели редактора &ldquo;Мастера&rdquo; <figure id="-sv3sd7_61850"><img alt="ref8" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.035.png" title="ref8" width="103" height="38"></figure> (см. <span id="-sv3sd7_61852">Интерфейс редактора &ldquo;Мастера&rdquo;</span>). Параметры:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_61854"><thead><tr class="ijRowHead" id="-sv3sd7_61856"><th id="-sv3sd7_61857"><p>Поле</p></th><th id="-sv3sd7_61860"><p>Поле тега, в которое будет записываться значение получаемого параметра</p></th></tr></thead><tbody><tr id="-sv3sd7_61861"><td id="-sv3sd7_61863"><p>Доступ</p></td><td id="-sv3sd7_61865"><p id="-sv3sd7_61868">Права доступа пользователя:</p><p id="-sv3sd7_61869">- R - чтение</p><p id="-sv3sd7_61872">- W - запись</p><p id="-sv3sd7_61874">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_61875"><td id="-sv3sd7_61878"><p>тэг-постфикс</p></td><td id="-sv3sd7_61879"><p>Часть имени тега, расположенная после основного имени. Постфиксы указаны в шаблоне привязок в выбранном мастере.</p></td></tr><tr id="-sv3sd7_61881"><td id="-sv3sd7_61884"><p>A, B</p></td><td id="-sv3sd7_61885"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_61887">y = A*x + B</span>, где <span class="control" id="-sv3sd7_61889">y</span> - значение поля тега, <span class="control" id="-sv3sd7_61891">x</span> - значение параметра в телеграмме.</p></td></tr></tbody></table></div></section></section><section class="chapter"><h3 id="opcua-server" data-toc="opcua-server"><a name=""></a> OPCUA_SERVER</h3><p id="-sv3sd7_61916">OPCUA-сервер является источником данных для OPCUA-клиентов. OPCUA_SERVER &ndash; это некий универсальный драйвер физического оборудования, обеспечивающий взаимодействие с любым OPC-клиентом.</p><section class="chapter"><h4 id="-sv3sd7_61917" data-toc="-sv3sd7_61917"><a name=""></a> Настройки</h4><p id="-sv3sd7_61924">Настройка подключений к устройствам по протоколу OPCUA_SERVER выполняется с помощью следующей формы:</p><figure id="-sv3sd7_61926"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 059" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.059.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 059" width="482" height="503"></figure><p id="-sv3sd7_61928">Диалог вызывается при выборе типа OPCUA_SERVER в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения OPCUA_SERVER (см. <span id="-sv3sd7_61930">Интерфейс редактора &ldquo;Привязки&rdquo;</span>).</p><p id="-sv3sd7_61931">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_61932"><thead><tr class="ijRowHead" id="-sv3sd7_61941"><th id="-sv3sd7_61943"><p>Имя соединения</p></th><th id="-sv3sd7_61945"><p>Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.</p></th></tr></thead><tbody><tr id="-sv3sd7_61946"><td id="-sv3sd7_61948" colspan="2"><p><span class="control" id="-sv3sd7_61950">Основные</span></p></td></tr><tr id="-sv3sd7_61951"><td id="-sv3sd7_61953"><p>Период (мс)</p></td><td id="-sv3sd7_61955"><p>Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах</p></td></tr><tr id="-sv3sd7_61956"><td id="-sv3sd7_61958"><p>Включено</p></td><td id="-sv3sd7_61959"><p>Настройка включения/отключения соединения (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_61961"><td id="-sv3sd7_61962"><p>Ограничение памяти (МБ)</p></td><td id="-sv3sd7_61964"><p>Задание пределов оперативной памяти для процесса, обслуживающего соединение.</p></td></tr><tr id="-sv3sd7_61966"><td id="-sv3sd7_61967"><p>Поддержка групповых запросов</p></td><td id="-sv3sd7_61968"><p>Настройка включения/отключения поддержки групповых запросов (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_61970"><td id="-sv3sd7_61972"><p>Макс.длина пакета</p></td><td id="-sv3sd7_61973"><p>Максимальное количество параметров, передаваемых за одну сетевую транзакцию.</p></td></tr><tr id="-sv3sd7_61975"><td id="-sv3sd7_61977"><p>Коэффициент задержки линии</p></td><td id="-sv3sd7_61978"><p id="-sv3sd7_61980">Коэффициент задержки линии позволяет учесть время задержки, возникающее на линии связи, и компенсировать его.</p><p id="-sv3sd7_61982">Степень использования пропускной способности канала</p><p id="-sv3sd7_61983">(от 1 до 10).</p></td></tr><tr id="-sv3sd7_61984"><td id="-sv3sd7_61986"><p>Хост</p></td><td id="-sv3sd7_61987"><p>необязательная настройка для указания хоста сервера</p></td></tr><tr id="-sv3sd7_61989"><td id="-sv3sd7_61991"><p>Порт</p></td><td id="-sv3sd7_61992"><p>порт сервера</p></td></tr><tr id="-sv3sd7_61993"><td id="-sv3sd7_61995"><p>Таймаут</p></td><td id="-sv3sd7_61997"><p>Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести увеличению задержек в работе соединения.</p></td></tr><tr id="-sv3sd7_61998"><td id="-sv3sd7_62000" colspan="2"><p><span class="control" id="-sv3sd7_62001">Пользователи</span></p></td></tr><tr id="-sv3sd7_62003"><td id="-sv3sd7_62005"><p>Разрешить анонимный доступ</p></td><td id="-sv3sd7_62007"><p>Настройка включения/отключения анонимного доступа (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_62008"><td id="-sv3sd7_62009"><p>Логин. Пароль</p></td><td id="-sv3sd7_62011"><p>Настройка логина и пароля для доступа пользователя</p></td></tr><tr id="-sv3sd7_62013"><td id="-sv3sd7_62014" colspan="2"><p><span class="control" id="-sv3sd7_62016">Шифрование</span></p></td></tr><tr id="-sv3sd7_62017"><td id="-sv3sd7_62019"><p>Разрешить незащищенные соединения</p></td><td id="-sv3sd7_62021"><p>Настройка включения/отключения незащищенного соединения (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)&rdquo;</p></td></tr><tr id="-sv3sd7_62022"><td id="-sv3sd7_62024"><p>Сертификат. Ключ</p></td><td id="-sv3sd7_62025"><p>Выбор или скачивание сертификата и ключа безопасности</p></td></tr><tr id="-sv3sd7_62026"><td id="-sv3sd7_62028"><p>Сгенерировать сертификат</p></td><td id="-sv3sd7_62030"><p>Загрузка сертификатов от клиентов, которые будут использованы в данном соединении.</p></td></tr><tr id="-sv3sd7_62032"><td id="-sv3sd7_62034" colspan="2"><p><span class="control" id="-sv3sd7_62036">Ограничения</span></p></td></tr><tr id="-sv3sd7_62038"><td id="-sv3sd7_62039"><p>Максимальное кол-во сессий</p></td><td id="-sv3sd7_62041"><p>Настройка для указания максимального количества сессий</p></td></tr><tr id="-sv3sd7_62043"><td id="-sv3sd7_62046"><p>Максимальное кол-во защищенных соединений</p></td><td id="-sv3sd7_62048"><p>Настройка для указания максимального количества защищенных соединений</p></td></tr><tr id="-sv3sd7_62050"><td id="-sv3sd7_62052"><p>Максимальное кол-во одновременных операций на чтение</p></td><td id="-sv3sd7_62053"><p>Настройка для указания максимального количества одновременных операций на чтение</p></td></tr><tr id="-sv3sd7_62055"><td id="-sv3sd7_62057"><p>Максимальное кол-во одновременных операций на запись</p></td><td id="-sv3sd7_62060"><p>Настройка для указания максимального количества одновременных операций на запись</p></td></tr><tr id="-sv3sd7_62062"><td id="-sv3sd7_62064"><p>Таймаут сессии (мс)</p></td><td id="-sv3sd7_62066"><p>через указанное время соединение принудительно закрывается или когда соединение неактивно оно закрывается</p></td></tr><tr id="-sv3sd7_62067"><td id="-sv3sd7_62070"><p>Максимальное время жизни секретного токена (мс)</p></td><td id="-sv3sd7_62071"><p>В случае использования шифрованного соединения с сертификатами, данные параметр устанавливает максимальное время, после истечения которого клиент должен будет обновить секретный токен.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_62073" data-toc="-sv3sd7_62073"><a name=""></a> Привязки</h4><p id="-sv3sd7_62080">Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.</p><p id="-sv3sd7_62081">Создание и редактирование привязок OPCUA_SERVER производится с помощью формы:</p><figure id="-sv3sd7_62083"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 060" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.060.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 060" width="370" height="344"></figure><p id="-sv3sd7_62086">Диалог вызывается при щелчке по кнопке &ldquo;Создать&rdquo; на панели управления привязками (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_62088" data-external="true" rel="noopener noreferrer">Панель привязок</a>).</p><p id="-sv3sd7_62089">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_62091"><thead><tr class="ijRowHead" id="-sv3sd7_62093"><th id="-sv3sd7_62095"><p>Тег</p></th><th id="-sv3sd7_62097"><p>Объект базы, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.</p></th></tr></thead><tbody><tr id="-sv3sd7_62100"><td id="-sv3sd7_62102"><p>Поле</p></td><td id="-sv3sd7_62104"><p>Поле тега, в которое будет записываться значение получаемого параметра</p></td></tr><tr id="-sv3sd7_62106"><td id="-sv3sd7_62107"><p>Доступ</p></td><td id="-sv3sd7_62110"><p id="-sv3sd7_62112">Права доступа пользователя:</p><p id="-sv3sd7_62113">- R - чтение</p><p id="-sv3sd7_62115">- W - запись</p><p id="-sv3sd7_62117">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_62119"><td id="-sv3sd7_62122"><p>Тип</p></td><td id="-sv3sd7_62124"><p id="-sv3sd7_62125">- Float</p><p id="-sv3sd7_62127">- Double</p><p id="-sv3sd7_62130">- Boolean</p><p id="-sv3sd7_62132">- SByte</p><p id="-sv3sd7_62133">- Byte</p><p id="-sv3sd7_62135">- Int16</p><p id="-sv3sd7_62137">- UInt16</p><p id="-sv3sd7_62139">- Int32</p><p id="-sv3sd7_62142">- UInt32</p><p id="-sv3sd7_62144">- Int64</p><p id="-sv3sd7_62146">- UInt64</p><p id="-sv3sd7_62148">- String</p></td></tr><tr id="-sv3sd7_62149"><td id="-sv3sd7_62151"><p>ОРС тэг</p></td><td id="-sv3sd7_62153"><p>Обзор тегов</p></td></tr><tr id="-sv3sd7_62156"><td id="-sv3sd7_62158"><p>A, B</p></td><td id="-sv3sd7_62160"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_62162">y = A*x + B</span>, где <span class="control" id="-sv3sd7_62164">y</span> - значение поля тега, <span class="control" id="-sv3sd7_62165">x</span> - значение параметра в телеграмме.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_62168" data-toc="-sv3sd7_62168"><a name=""></a> Шаблоны привязок</h4><p id="-sv3sd7_62174">Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон не содержит адрес устройства и номер канала, а только определяет параметры модуля и параметры канала. Таким образом, если требуется создать множество однотипных привязок к устройствам, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и параметры масштабирования привязываемых полей. Настройка шаблонов привязок OPCUA_SERVER, выполняется с помощью следующей формы:</p><figure id="-sv3sd7_62176"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 061" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.061.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 061" width="413" height="333"></figure><p id="-sv3sd7_62178">Диалог отображается при щелчке по кнопке &ldquo;Создать&rdquo; на панели редактора &ldquo;Мастера&rdquo; <figure id="-sv3sd7_62179"><img alt="ref8" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.035.png" title="ref8" width="103" height="38"></figure> (см. <span id="-sv3sd7_62182">Интерфейс редактора &ldquo;Мастера&rdquo;</span>). Параметры:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_62183"><thead><tr class="ijRowHead" id="-sv3sd7_62186"><th id="-sv3sd7_62187"><p>Поле</p></th><th id="-sv3sd7_62189"><p>Поле тега, в которое будет записываться значение получаемого параметра</p></th></tr></thead><tbody><tr id="-sv3sd7_62191"><td id="-sv3sd7_62193"><p>Доступ</p></td><td id="-sv3sd7_62196"><p id="-sv3sd7_62198">Права доступа пользователя:</p><p id="-sv3sd7_62199">- R - чтение</p><p id="-sv3sd7_62201">- W - запись</p><p id="-sv3sd7_62203">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_62205"><td id="-sv3sd7_62207"><p>тэг-постфикс</p></td><td id="-sv3sd7_62210"><p>Часть имени тега, расположенная после основного имени. Постфиксы указаны в шаблоне привязок в выбранном мастере.</p></td></tr><tr id="-sv3sd7_62212"><td id="-sv3sd7_62214"><p>A, B</p></td><td id="-sv3sd7_62215"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_62218">y = A*x + B</span>, где <span class="control" id="-sv3sd7_62219">y</span> - значение поля тега, <span class="control" id="-sv3sd7_62222">x</span> - значение параметра в телеграмме.</p></td></tr></tbody></table></div></section></section><section class="chapter"><h3 id="s7-siemens" data-toc="s7-siemens">S7 (Siemens)</h3><p id="-sv3sd7_62223">Протокол S7 разработан компанией Siemens для организации связи с контроллерами серии S7. Faceplate использует данный протокол для обмена данными с контроллерным оборудованием фирмы Siemens:</p><ul class="list _bullet" id="-sv3sd7_62226"><li class="list__item" id="-sv3sd7_62227"><p id="-sv3sd7_62229">S7-LOGO</p></li><li class="list__item" id="-sv3sd7_62232"><p id="-sv3sd7_62234">Контроллеры серии S7-200</p></li><li class="list__item" id="-sv3sd7_62235"><p id="-sv3sd7_62237">Контроллеры серии S7-1200</p></li><li class="list__item" id="-sv3sd7_62239"><p id="-sv3sd7_62242">Контроллеры серии S7-300</p><section class="chapter"><h4 id="-sv3sd7_62243" data-toc="-sv3sd7_62243"><a name=""></a> Настройки</h4><p id="-sv3sd7_62250">Подключение к указанным типам устройств поддерживается только по сети Ethernet. Настройка подключений к устройствам по протоколу S7 (Siemens) выполняется с помощью следующей формы:</p><figure id="-sv3sd7_62252"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 062" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.062.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 062" width="384" height="681"></figure><p id="-sv3sd7_62254">Диалог отображается в процессе создания нового соединения при выборе одного из типов контроллеров из семейства S7 (Siemens), либо при редактировании параметров настроенного ранее соединения S7 (см. <span id="-sv3sd7_62256">Интерфейс редактора &ldquo;Привязки&rdquo;</span>). Поддерживаются следующие типы:</p></section></li><li class="list__item" id="-sv3sd7_62259"><p id="-sv3sd7_62261">S7-LOGO</p></li><li class="list__item" id="-sv3sd7_62262"><p id="-sv3sd7_62264">S7-200</p></li><li class="list__item" id="-sv3sd7_62266"><p id="-sv3sd7_62267">S7-1200</p></li><li class="list__item" id="-sv3sd7_62270"><p id="-sv3sd7_62271">S7-300</p><p id="-sv3sd7_62274">Настройки:</p></li></ul><div class="table-wrapper"><table class="wide" id="-sv3sd7_62276"><thead><tr class="ijRowHead" id="-sv3sd7_62278"><th id="-sv3sd7_62280"><p>Имя соединения</p></th><th id="-sv3sd7_62281"><p>Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например &ldquo;Цех 1&rdquo;, или использовать обозначения из проектной документации. Имя соединения должно быть уникальным в рамках проекта.</p></th></tr></thead><tbody><tr id="-sv3sd7_62284"><td id="-sv3sd7_62286"><p>Период (мс)</p></td><td id="-sv3sd7_62287"><p>Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах.</p></td></tr><tr id="-sv3sd7_62289"><td id="-sv3sd7_62292"><p>Включено</p></td><td id="-sv3sd7_62293"><p>Настройка включения/отключения соединения (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_62295"><td id="-sv3sd7_62297"><p>Ограничение памяти (МБ)</p></td><td id="-sv3sd7_62299"><p>Задание пределов оперативной памяти для процесса, обслуживающего соединение.</p></td></tr><tr id="-sv3sd7_62301"><td id="-sv3sd7_62303"><p>Поддержка групповых запросов</p></td><td id="-sv3sd7_62305"><p>Настройка включения/отключения поддержки групповых запросов (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_62308"><td id="-sv3sd7_62309"><p>Макс.длина пакета</p></td><td id="-sv3sd7_62311"><p>Максимальное количество байтов, передаваемых за одну сетевую транзакцию.</p></td></tr><tr id="-sv3sd7_62314"><td id="-sv3sd7_62315"><p>Коэффициент задержки линии</p></td><td id="-sv3sd7_62317"><p id="-sv3sd7_62319">Коэффициент задержки линии позволяет учесть время задержки, возникающее на линии связи, и компенсировать его. Степень использования пропускной способности канала</p><p id="-sv3sd7_62322">(от 1 до 10).</p></td></tr><tr id="-sv3sd7_62323"><td id="-sv3sd7_62326"><p>Тип контроллера</p></td><td id="-sv3sd7_62328"><p id="-sv3sd7_62329">Выбор типа контроллера:</p><p id="-sv3sd7_62332">- S7-LOGO</p><p id="-sv3sd7_62334">- Контроллеры серии S7-200</p><p id="-sv3sd7_62335">- Контроллеры серии S7-1200</p><p id="-sv3sd7_62337">- Контроллеры серии S7-300</p></td></tr><tr id="-sv3sd7_62339"><td id="-sv3sd7_62342"><p>IP</p></td><td id="-sv3sd7_62343"><p>IP адрес подключаемого устройства.</p></td></tr><tr id="-sv3sd7_62345"><td id="-sv3sd7_62347"><p>Порт</p></td><td id="-sv3sd7_62350"><p>Номер порта, используемый для подключения. По умолчанию протокол использует порт 102, но при подключении через шлюз номер порта может отличаться.</p></td></tr><tr id="-sv3sd7_62351"><td id="-sv3sd7_62354"><p>Стойка, Слот</p></td><td id="-sv3sd7_62355"><p>Параметры актуальны только при подключении к контроллерам серии S7-300 и служат для определения адреса модуля CPU, который для различных конфигураций может отличаться.</p></td></tr><tr id="-sv3sd7_62358"><td id="-sv3sd7_62359"><p>Таймаут</p></td><td id="-sv3sd7_62361"><p>Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения.</p></td></tr></tbody></table></div><section class="chapter"><h4 id="-sv3sd7_62364" data-toc="-sv3sd7_62364"><a name=""></a> Привязки</h4><p id="-sv3sd7_62369">Привязки описывают какими именно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет одну единицу данных из области памяти устройства одному полю тега FACEPLATE.</p><p id="-sv3sd7_62372">Создание и редактирование привязок для контроллеров Siemens производится с помощью формы:</p><figure id="-sv3sd7_62374"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 063" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.063.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 063" width="431" height="534"></figure><p id="-sv3sd7_62376">Диалог вызывается при щелчке по кнопке &ldquo;Создать&rdquo; на панели управления привязками (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_62377" data-external="true" rel="noopener noreferrer">Панель привязок</a>).</p><p id="-sv3sd7_62379">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_62381"><thead><tr class="ijRowHead" id="-sv3sd7_62384"><th id="-sv3sd7_62386"><p>Тег</p></th><th id="-sv3sd7_62388"><p>Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.</p></th></tr></thead><tbody><tr id="-sv3sd7_62389"><td id="-sv3sd7_62391"><p>Поле</p></td><td id="-sv3sd7_62394"><p>Поле тега, в которое будет записываться значение из сопоставляемой области памяти устройства. Привязка работает также в обратную сторону. Это означает, что при изменении значения в поле тега, новое значение будет записано в память устройства.</p></td></tr><tr id="-sv3sd7_62396"><td id="-sv3sd7_62398"><p>Доступ</p></td><td id="-sv3sd7_62399"><p id="-sv3sd7_62402">Права доступа пользователя:</p><p id="-sv3sd7_62403">- R - чтение</p><p id="-sv3sd7_62406">- W - запись</p><p id="-sv3sd7_62407">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_62410"><td id="-sv3sd7_62411"><p>Область</p></td><td id="-sv3sd7_62413"><p id="-sv3sd7_62416">Тип области памяти:</p><p id="-sv3sd7_62417">- I. Inputs - область входных данных контроллера. Тип области памяти доступен только для чтения.</p><p id="-sv3sd7_62420">- Q. Quits - область выходных данных контроллера. Область доступна для чтения и записи.</p><p id="-sv3sd7_62421">- M. Merker - меркерная область памяти. Область доступна для чтения и записи.</p><p id="-sv3sd7_62424">- DB. Data Blocks - область блоков данных. Область доступна для чтения и записи.</p></td></tr><tr id="-sv3sd7_62426"><td id="-sv3sd7_62428"><p>Тип</p></td><td id="-sv3sd7_62430"><p id="-sv3sd7_62432">Определяет объем передаваемых данных:</p><p id="-sv3sd7_62433">- &ldquo;bit&rdquo; - один бит</p><p id="-sv3sd7_62435">- &ldquo;byte&rdquo; - 8 бит</p><p id="-sv3sd7_62437">- &ldquo;word&rdquo; - 16 бит</p><p id="-sv3sd7_62439">- &ldquo;dword&rdquo; - 32 бита</p></td></tr><tr id="-sv3sd7_62441"><td id="-sv3sd7_62444"><p>DB</p></td><td id="-sv3sd7_62446"><p>Определяет номер блока данных, если для поля &ldquo;Область&rdquo; задано значение &ldquo;DB&rdquo;. Значение поля актуально только для соединений с контроллерами серии S7-1200, S7-300, для остальных типов всегда используется значение &ldquo;1&rdquo;.</p></td></tr><tr id="-sv3sd7_62447"><td id="-sv3sd7_62450"><p>Формат</p></td><td id="-sv3sd7_62451"><p id="-sv3sd7_62453">Формат данных в контроллере:</p><p id="-sv3sd7_62456">- integer - целочисленный формат без знака</p><p id="-sv3sd7_62458">- sighned-integer - целочисленный формат со знаком</p><p id="-sv3sd7_62460">- float - число с плавающей точкой</p><p id="-sv3sd7_62462">Для привязок имеющих тип &ldquo;bit&rdquo; настройка не актуальна.</p></td></tr><tr id="-sv3sd7_62463"><td id="-sv3sd7_62465"><p>Байт, Бит</p></td><td id="-sv3sd7_62468"><p>Определяют смещение данных в указанной области памяти.</p></td></tr><tr id="-sv3sd7_62470"><td id="-sv3sd7_62471"><p>A, B</p></td><td id="-sv3sd7_62473"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_62476">y = A*x + B</span>, где <span class="control" id="-sv3sd7_62478">y</span> - значение поля тега, <span class="control" id="-sv3sd7_62479">x</span> - значение принятое из устройства.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_62482" data-toc="-sv3sd7_62482"><a name=""></a> Шаблоны привязок</h4><p id="-sv3sd7_62488">Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон ссылается не на конкретный адрес в области памяти контроллера, а задает смещение относительно первой (с наименьшим адресом) привязки в мастере. Таким образом, если в контроллере для хранения информации по однотипным параметрам используется одинаковая структура данных, то целесообразно создать мастер для привязки тегов данного типа. Шаблоны привязок в мастере определяют состав, тип, формат и смещение привязываемых полей данных. Настройка шаблонов привязок для контроллеров Siemens, выполняется с помощью следующей формы:</p><figure id="-sv3sd7_62489"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 064" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.064.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 064" width="375" height="359"></figure><p id="-sv3sd7_62492">Диалог отображается при щелчке по кнопке &ldquo;Создать&rdquo; на панели редактора &ldquo;Мастера&rdquo; <figure id="-sv3sd7_62494"><img alt="ref8" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.035.png" title="ref8" width="103" height="38"></figure>.</p><p id="-sv3sd7_62496">Параметры:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_62497"><thead><tr class="ijRowHead" id="-sv3sd7_62499"><th id="-sv3sd7_62501"><p>Поле</p></th><th id="-sv3sd7_62504"><p>Поле тега, в которое будет записываться значение из сопоставляемой области памяти контроллера</p></th></tr></thead><tbody><tr id="-sv3sd7_62505"><td id="-sv3sd7_62508"><p>Тип</p></td><td id="-sv3sd7_62510"><p id="-sv3sd7_62512">Определяет объем передаваемых данных:</p><p id="-sv3sd7_62513">- &ldquo;bit&rdquo; - один бит</p><p id="-sv3sd7_62515">- &ldquo;byte&rdquo; - 8 бит</p><p id="-sv3sd7_62517">- &ldquo;word&rdquo; - 16 бит</p><p id="-sv3sd7_62520">- &ldquo;dword&rdquo; - 32 бита</p></td></tr><tr id="-sv3sd7_62522"><td id="-sv3sd7_62523"><p>Доступ</p></td><td id="-sv3sd7_62526"><p id="-sv3sd7_62527">Права доступа пользователя:</p><p id="-sv3sd7_62530">- R - чтение</p><p id="-sv3sd7_62531">- W - запись</p><p id="-sv3sd7_62533">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_62536"><td id="-sv3sd7_62537"><p>Формат</p></td><td id="-sv3sd7_62539"><p id="-sv3sd7_62542">Формат данных в контроллере:</p><p id="-sv3sd7_62543">- integer - целочисленный формат без знака</p><p id="-sv3sd7_62545">- sighned-integer - целочисленный формат со знаком</p><p id="-sv3sd7_62547">- float - число с плавающей точкой</p><p id="-sv3sd7_62550">Для привязок имеющих тип &ldquo;bit&rdquo; настройка не актуальна.</p></td></tr><tr id="-sv3sd7_62552"><td id="-sv3sd7_62554"><p>Байт, Бит</p></td><td id="-sv3sd7_62555"><p>Определяет смещение данных относительно первой привязки в мастере. Первой считается привязка имеющая наименьшее значение в поле &ldquo;Байт&rdquo;</p></td></tr><tr id="-sv3sd7_62558"><td id="-sv3sd7_62560"><p>A, B</p></td><td id="-sv3sd7_62562"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_62564">y = A*x + B</span>, где <span class="control" id="-sv3sd7_62566">y</span> - значение поля тега, <span class="control" id="-sv3sd7_62568">x</span> - значение принятое из устройства</p></td></tr></tbody></table></div></section></section><section class="chapter"><h3 id="snmp" data-toc="snmp"><a name=""></a><a name=""></a> SNMP</h3><p id="-sv3sd7_62575">SNMP - это открытый коммуникационный протокол, определенный Инженерным советом интернета (IETF). Протокол широко используется для обмена данными с сетевым оборудованием. В Faceplate поддержаны протоколы версии SNMPv2, SNMPv3.</p><section class="chapter"><h4 id="-sv3sd7_62578" data-toc="-sv3sd7_62578"><a name=""></a> Настройки</h4><p id="-sv3sd7_62584">Настройка подключений по протоколу SNMP выполняется с помощью следующей формы:</p><figure id="-sv3sd7_62586"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 065" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.065.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 065" width="461" height="443"></figure><p id="-sv3sd7_62588">Диалог вызывается при выборе типа SNMP в процессе создания нового соединения, либо при редактировании параметров настроенного ранее соединения SNMP (см. <span id="-sv3sd7_62589">Интерфейс редактора &ldquo;Привязки&rdquo;</span>). Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_62591"><thead><tr class="ijRowHead" id="-sv3sd7_62593"><th id="-sv3sd7_62595"><p>Имя соединения</p></th><th id="-sv3sd7_62598"><p>Имя создаваемого соединения. Рекомендуется использовать имена, отражающие функциональное назначение устройства, например &ldquo;Сервер данных&rdquo;, или использовать обозначения из проектной документации. Имя должно быть уникальным в рамках проекта.</p></th></tr></thead><tbody><tr id="-sv3sd7_62599"><td id="-sv3sd7_62601"><p>Период (мс)</p></td><td id="-sv3sd7_62603"><p>Подключенное устройство опрашивается системой циклически с периодичностью, задаваемой данным параметром. Длительность интервала между сеансами опроса задается в миллисекундах</p></td></tr><tr id="-sv3sd7_62606"><td id="-sv3sd7_62607"><p>Включено</p></td><td id="-sv3sd7_62609"><p>Настройка включения/отключения соединения (&ldquo;да&rdquo;/&rdquo;нет&rdquo;)</p></td></tr><tr id="-sv3sd7_62611"><td id="-sv3sd7_62613"><p>Ограничение памяти (МБ)</p></td><td id="-sv3sd7_62616"><p>Задание пределов оперативной памяти для процесса, обслуживающего соединение.</p></td></tr><tr id="-sv3sd7_62617"><td id="-sv3sd7_62620"><p>IP</p></td><td id="-sv3sd7_62621"><p>IP адрес подключаемого устройства</p></td></tr><tr id="-sv3sd7_62624"><td id="-sv3sd7_62626"><p>Порт</p></td><td id="-sv3sd7_62628"><p>Номер порта, используемый для подключения. По умолчанию протокол использует порт 161, но в зависимости от конфигурации номер порта может отличаться.</p></td></tr><tr id="-sv3sd7_62630"><td id="-sv3sd7_62631"><p>Community</p></td><td id="-sv3sd7_62634"><p>Строка используемая для аутентификации</p></td></tr><tr id="-sv3sd7_62636"><td id="-sv3sd7_62637"><p>Agent id</p></td><td id="-sv3sd7_62640"><p>Идентификатор агента. Строка, используемая при аутентификации запроса менеджером SNMPv3 (для версии SNMPv2 рекомендуется оставить значение предложенное по умолчанию).</p></td></tr><tr id="-sv3sd7_62641"><td id="-sv3sd7_62643"><p>Таймаут</p></td><td id="-sv3sd7_62646"><p>Максимальное время ожидания ответа от опрашиваемого устройства. ВНИМАНИЕ! Увеличение данного параметра на каналах связи низкого качества может привести к увеличению задержек в работе соединения</p></td></tr><tr id="-sv3sd7_62648"><td id="-sv3sd7_62649"><p>Попыток</p></td><td id="-sv3sd7_62651"><p>Количество повторных попыток обращения к устройству в случае получения некорректного ответа или превышения таймаута ожидания ответа. Увеличение данного параметра помогает достичь более стабильной работы соединения на каналах с низким качеством связи, но может привести к появлению задержек</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_62653" data-toc="-sv3sd7_62653"><a name=""></a> Привязки</h4><p id="-sv3sd7_62659">Привязки описывают какими конкретно данными обмениваются система и подключаемое устройство. Каждая привязка сопоставляет один контролируемый параметр одному полю тега FACEPLATE.</p><p id="-sv3sd7_62661">Создание и редактирование привязок SNMP производится с помощью формы:</p><figure id="-sv3sd7_62664"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 066" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.066.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 066" width="376" height="409"></figure><p id="-sv3sd7_62665">Диалог вызывается при щелчке по кнопке &ldquo;Создать&rdquo; на панели управления привязками (см. <a href="https://docs.google.com/document/d/1NI9JS30wIq06ytgeWbZGzgRzoeryE5gP/edit#heading=h.2hio093" id="-sv3sd7_62668" data-external="true" rel="noopener noreferrer">Панель привязок</a>).</p><p id="-sv3sd7_62670">Настройки:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_62672"><thead><tr class="ijRowHead" id="-sv3sd7_62674"><th id="-sv3sd7_62675"><p>Тег</p></th><th id="-sv3sd7_62678"><p>Объект данных, содержащий набор полей предназначенных для контроля отдельной технологической точки, например: измеряемый параметр, клапан, регулятор и т.д.</p></th></tr></thead><tbody><tr id="-sv3sd7_62680"><td id="-sv3sd7_62681"><p>Поле</p></td><td id="-sv3sd7_62683"><p>Поле тега, в которое будет записываться значение параметра.</p></td></tr><tr id="-sv3sd7_62685"><td id="-sv3sd7_62687"><p>Доступ</p></td><td id="-sv3sd7_62689"><p id="-sv3sd7_62692">Права доступа пользователя:</p><p id="-sv3sd7_62693">- R - чтение</p><p id="-sv3sd7_62695">- W - запись</p><p id="-sv3sd7_62697">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_62700"><td id="-sv3sd7_62702"><p>Адрес</p></td><td id="-sv3sd7_62704"><p>OID адрес контролируемого параметра. Адреса доступных параметров должны быть приведены в документации производителя на подключаемое устройство</p></td></tr><tr id="-sv3sd7_62706"><td id="-sv3sd7_62708"><p>A, B</p></td><td id="-sv3sd7_62709"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_62712">y = A*x + B</span>, где <span class="control" id="-sv3sd7_62714">y</span> - значение поля тега, <span class="control" id="-sv3sd7_62716">x</span> - значение параметра в телеграмме.</p></td></tr><tr id="-sv3sd7_62717"><td id="-sv3sd7_62719"><p>Отключено</p></td><td id="-sv3sd7_62721"><p>Настройка позволяет деактивировать привязку в режиме исполнения.</p></td></tr></tbody></table></div></section><section class="chapter"><h4 id="-sv3sd7_62723" data-toc="-sv3sd7_62723"><a name=""></a> Шаблоны привязок</h4><p id="-sv3sd7_62729">Шаблоны привязок используются для автоматизации действий разработчика при создании привязок. Каждый шаблон привязки относится к определенному мастеру и описывает параметры, создаваемых по нему привязок. В отличие от самой привязки шаблон содержит не полный адрес параметра, а только часть, определяющую его адрес внутри ветки (постфикс). Например, если в ветке 1.6.3.1 содержится параметр, полный адрес которого будет выглядеть как 1.6.3.1.2.1, то адресом параметра внутри ветки (постфикс) является 2.1. Таким образом, если требуется создать множество однотипных привязок для разных веток в устройстве или разных устройств, то целесообразно создать мастер для привязки данного типа. Шаблоны привязок в мастере определяют состав, тип и адреса параметров внутри ветки. Настройка шаблонов привязок SNMP, выполняется с помощью следующей формы:</p><figure id="-sv3sd7_62732"><img alt="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 067" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.067.png" title="Aspose words 965b2e9b 46fc 4978 915d 591ecd2cbc62 067" width="383" height="315"></figure><p id="-sv3sd7_62734">Диалог отображается при щелчке по кнопке &ldquo;Создать&rdquo; на на панели редактора &ldquo;Мастера&rdquo; <figure id="-sv3sd7_62735"><img alt="ref8" src="FPdocs/Aspose.Words.965b2e9b-46fc-4978-915d-591ecd2cbc62.035.png" title="ref8" width="103" height="38"></figure> (см. <span id="-sv3sd7_62737">Интерфейс редактора &ldquo;Мастера&rdquo;</span>). Параметры:</p><div class="table-wrapper"><table class="wide" id="-sv3sd7_62740"><thead><tr class="ijRowHead" id="-sv3sd7_62741"><th id="-sv3sd7_62743"><p>Поле</p></th><th id="-sv3sd7_62746"><p>Поле тега, в которое будет записываться значение контролируемого параметра.</p></th></tr></thead><tbody><tr id="-sv3sd7_62748"><td id="-sv3sd7_62749"><p>Адрес</p></td><td id="-sv3sd7_62751"><p>OID адрес контролируемого параметра внутри ветки.</p></td></tr><tr id="-sv3sd7_62753"><td id="-sv3sd7_62756"><p>Доступ</p></td><td id="-sv3sd7_62757"><p id="-sv3sd7_62759">Права доступа пользователя:</p><p id="-sv3sd7_62761">- R - чтение</p><p id="-sv3sd7_62764">- W - запись</p><p id="-sv3sd7_62765">- RW - чтение и запись</p></td></tr><tr id="-sv3sd7_62768"><td id="-sv3sd7_62770"><p>A, B</p></td><td id="-sv3sd7_62771"><p>Коэффициенты масштабирования. Значение поля рассчитывается по формуле <span class="control" id="-sv3sd7_62774">y = A*x + B</span>, где <span class="control" id="-sv3sd7_62776">y</span> - значение поля тега, <span class="control" id="-sv3sd7_62778">x</span> - значение параметра в телеграмме.</p></td></tr></tbody></table></div></section></section><section class="chapter"><h3 id="-sv3sd7_62779" data-toc="-sv3sd7_62779"></h3></section></section><div class="last-modified">Last modified: 12 June 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="plc-соединения.html" class="navigation-links__prev">PLC-соединения</a><a href="мастера.html" class="navigation-links__next">Мастера</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>