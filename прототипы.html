<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-06-17T12:30:55.56905911"><title>Прототипы | Faceplate docs</title><script type="application/json" id="virtual-toc-data">[{"id":"-gz2dgb_300","level":0,"title":"Как просто представить себе прототип","anchor":"#-gz2dgb_300"},{"id":"iot","level":0,"title":"Чем прототипы могут быть полезны в IoT-платформах","anchor":"#iot"},{"id":"-gz2dgb_331","level":0,"title":"Примеры использования прототипов","anchor":"#-gz2dgb_331"},{"id":"-gz2dgb_349","level":0,"title":"Создание прототипа","anchor":"#-gz2dgb_349"},{"id":"-gz2dgb_401","level":0,"title":"Редактор прототипа","anchor":"#-gz2dgb_401"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Прототипы | Faceplate docs"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Faceplate docs Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/прототипы.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Прототипы | Faceplate docs"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/прототипы.html#webpage",
    "url": "writerside-documentation/прототипы.html",
    "name": "Прототипы | Faceplate docs",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Faceplate docs Help"
}</script><!-- End Schema.org --></head><body data-id="Прототипы" data-main-title="Прототипы" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Faceplate-Tutorial.md|Faceplate (Studio)"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Faceplate docs  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Прототипы" id="Прототипы.md">Прототипы</h1><p id="-gz2dgb_297">Понятие прототипов в IoT-платформах, таких как Faceplate, схоже с концепцией классов в объектно-ориентированном программировании. Другими словами они представляют собой шаблоны или формы для создания конкретных экземпляров объектов или устройств, определяя их структуру, свойства, содержимое и поведение. Это означает, что прототип включает в себя определение полей, их типы данных, контент, методы и функции для работы с этими полями и контентом, а также логику для обработки событий и состояний объекта.</p><p id="-gz2dgb_298">Прототип является основой для создания конкретных экземпляров объектов или устройств в системе. Каждый экземпляр прототипа наследует его свойства и методы, а также может иметь собственные уникальные значения для полей, контента и поведения.</p><p id="-gz2dgb_299">Прототип позволяет стандартизировать создание и управление объектами в IoT-платформе, обеспечивая повторное использование кода и упрощая разработку и сопровождение системы. Он также определяет интерфейс для взаимодействия с объектами и устройствами, что упрощает интеграцию и расширение функциональности системы.</p><section class="chapter"><h2 id="-gz2dgb_300" data-toc="-gz2dgb_300">Как просто представить себе прототип</h2><p id="-gz2dgb_301">Вот несколько вариантов понимания концепции прототипов:</p><p id="-gz2dgb_302">Это <b id="-gz2dgb_303"><em id="-gz2dgb_304">ключ к созданию</em></b>: Прототипы подобны образцам или черновикам, которые облегчают создание новых объектов или устройств. Они предоставляют основу, на которой можно основываться при создании новых экземпляров, помогая избежать повторения кода и ускоряя процесс разработки. <p id="-gz2dgb_305">Это <b id="-gz2dgb_306"><em id="-gz2dgb_307">модель для копирования</em></b>: Прототипы можно рассматривать как модели, которые можно копировать для создания новых объектов с аналогичными характеристиками. Подобно тому, как можно использовать форму для создания нескольких копий одного документа, прототипы позволяют создавать множество экземпляров объектов, сохраняя их общие свойства и функциональность.</p><p id="-gz2dgb_308">Это <b id="-gz2dgb_309"><em id="-gz2dgb_310">стандартизация и единообразие</em></b>: Прототипы помогают стандартизировать создание и управление объектами в системе, обеспечивая единообразие в структуре и поведении. Подобно тому, как шаблоны помогают сохранить единообразие дизайна в различных документах, прототипы обеспечивают согласованность в представлении и функциональности объектов в системе.</p><p id="-gz2dgb_311">Это <b id="-gz2dgb_312"><em id="-gz2dgb_313">упрощение изменений и обновлений</em></b>: Поскольку прототипы определяют общие характеристики объектов, изменения, внесенные в прототип, автоматически распространяются на все его экземпляры. Это облегчает внесение изменений и обновлений в систему, так же как изменения в шаблоне документа могут быть применены ко всем его копиям.</p></p></section><section class="chapter"><h2 id="iot" data-toc="iot">Чем прототипы могут быть полезны в IoT-платформах</h2><p id="-gz2dgb_314">Вот несколько базовых причин, по которым прототипы используются в IoT-платформах:</p><ul class="list _bullet" id="-gz2dgb_315"><li class="list__item" id="-gz2dgb_316"><p><b id="-gz2dgb_317"><em id="-gz2dgb_318">Ускорение разработки:</em></b> Создание прототипов позволяет быстро оценить функциональность системы и визуализировать её работу. Это помогает разработчикам быстрее перейти к созданию рабочих версий системы.</p></li><li class="list__item" id="-gz2dgb_319"><p><b id="-gz2dgb_320"><em id="-gz2dgb_321">Гибкость и масштабируемость:</em></b> Использование прототипов обеспечивает гибкость при добавлении новых функций или изменении существующих. Это позволяет быстро адаптировать систему к изменяющимся требованиям.</p></li><li class="list__item" id="-gz2dgb_322"><p><b id="-gz2dgb_323"><em id="-gz2dgb_324">Уменьшение рисков:</em></b> Прототипирование позволяет выявить потенциальные проблемы или недочеты в дизайне системы на ранних этапах разработки. Это позволяет снизить риски и улучшить качество конечного продукта.</p></li><li class="list__item" id="-gz2dgb_325"><p><b id="-gz2dgb_326"><em id="-gz2dgb_327">Разделение ответственности:</em></b> Использование прототипов может помочь разделить функциональность системы на более мелкие компоненты, каждый из которых может быть разработан и тестирован независимо. Это способствует более эффективному управлению проектом.</p></li><li class="list__item" id="-gz2dgb_328"><p><b id="-gz2dgb_329"><em id="-gz2dgb_330">Повышение понимания:</em></b> Создание прототипов помогает участникам проекта лучше понять требования и ожидания от системы. Визуализация работы системы на ранних этапах разработки может привести к более точному пониманию её функциональности.</p></li></ul></section><section class="chapter"><h2 id="-gz2dgb_331" data-toc="-gz2dgb_331">Примеры использования прототипов</h2><p id="-gz2dgb_332">Рассмотрим несколько простых примеров использования прототипов в IoT-платформах с определением поведения с помощью скриптов:</p><p id="-gz2dgb_333"><b id="-gz2dgb_334">Пример 1.</b> <em id="-gz2dgb_335">Прототип объекта устройства:</em></p><p id="-gz2dgb_336">Предположим, что в IoT-платформе необходимо работать с различными типами устройств, такими как насосы, клапаны, датчики и т.д. Создание прототипа класса устройства позволит определить общие характеристики и функциональность для всех типов устройств. С использованием скриптов, например, на основе JavaScript или Erlang, можно создать экземпляры этих устройств и определить их поведение в зависимости от различных условий (например, управление насосом в зависимости от уровня жидкости).</p><p id="-gz2dgb_337"><b id="-gz2dgb_338">Пример 2.</b> <em id="-gz2dgb_339">Прототип объекта сети:</em></p><p id="-gz2dgb_340">В IoT-платформах часто необходимо взаимодействовать с различными сетевыми устройствами, такими как контроллеры, коммутаторы и т.д. Создание прототипа класса сетевого устройства позволяет определить общие методы и свойства для работы с такими устройствами. С помощью скриптов можно автоматизировать задачи связи с этими устройствами, например, сбор данных о состоянии и управление ими.</p><p id="-gz2dgb_341"><b id="-gz2dgb_342">Пример 3.</b> <em id="-gz2dgb_343">Прототип объекта события:</em></p><p id="-gz2dgb_344">В IoT-платформах события играют важную роль, например, предупреждения о проблемах в работе оборудования или изменениях в процессах. Создание прототипа класса события позволяет определить общие характеристики и методы обработки событий. С помощью скриптов можно определить поведение системы при возникновении определенных событий, например, отправку уведомлений администратору или запуск аварийных процедур.</p><p id="-gz2dgb_345"><b id="-gz2dgb_346">Пример 4.</b> <em id="-gz2dgb_347">Прототип объекта данных:</em></p><p id="-gz2dgb_348">В IoT-платформах данные играют ключевую роль, так как они представляют информацию о состоянии оборудования, процессов и событий. Создание прототипа класса данных позволяет определить общие методы и свойства для работы с данными. С использованием скриптов можно выполнять различные операции с данными, например, фильтрацию, агрегацию или анализ.</p></section><section class="chapter"><h2 id="-gz2dgb_349" data-toc="-gz2dgb_349">Создание прототипа</h2><p id="-gz2dgb_350">Чтобы создать прототип нужно открыть вкладку Прототипы на панели с левой стороны. Открывшаяся вкладка имеет следующий вид:</p><figure id="-gz2dgb_351"><a href="FPdocs/Proto.1.png" class="lightbox"><img alt="Proto 1" src="FPdocs/Proto.1.png" class="article__bordered-element" title="Proto 1" width="700" height="371"></a></figure><p id="-gz2dgb_352">В верхней части вкладки находится панель управления, чуть ниже представлен список уже созданных прототипов.</p><p id="-gz2dgb_353">На панели управления сверху есть несколько кнопок:</p><div class="table-wrapper"><table class="wide" id="-gz2dgb_354"><thead><tr class="ijRowHead" id="-gz2dgb_355"><th id="-gz2dgb_356"><p>Кнопка</p></th><th id="-gz2dgb_357"><p>Описание</p></th></tr></thead><tbody><tr id="-gz2dgb_358"><td id="-gz2dgb_359"><p>Proto.1.1.png</p></td><td id="-gz2dgb_360"><p>Кнопка обновления списка прототипов для получения актуальной информации, в том случае, когда с одним проектом работает несколько клиентов.</p></td></tr><tr id="-gz2dgb_361"><td id="-gz2dgb_362"><p>Proto.1.2.png</p></td><td id="-gz2dgb_363"><p>Кнопка создания прототипа. При создании прототипа открывается новое окно: </p><br><figure id="-gz2dgb_365"><a href="FPdocs/Proto.2.png" class="lightbox"><img alt="Proto 2" src="FPdocs/Proto.2.png" class="article__bordered-element" title="Proto 2" width="200" height="242"></a></figure><br><p> где можно дать имя новому прототипу, определить группы пользователей (поставить ссылку на параграф Группа при создании прототипа!!!!!!!!!!!!), выбрать иконку и прокомментировать.</p></td></tr><tr id="-gz2dgb_367"><td id="-gz2dgb_368"><p>Proto.1.3.png</p></td><td id="-gz2dgb_369"><p>Кнопка редактирования прототипа. Для того чтобы отредактировать уже созданный прототип, нужно выбрать его в списке (одним кликом), затем нажать на эту кнопку, после чего появится тоже окно, что и при создании прототипа, где можно изменить установленные ранее значения. Тоже самое можно сделать, кликнув мышкой 2 раза на имени этого прототипа в списке.</p></td></tr><tr id="-gz2dgb_370"><td id="-gz2dgb_371"><p>Proto.1.4.png</p></td><td id="-gz2dgb_372"><p>Кнопка удаления прототипа. Для удаления прототипа необходимо его сначала выбрать в списке (одним кликом), затем нажать кнопку Удалить и в появившемся окне подтвердить или отменить это действие.</p></td></tr><tr id="-gz2dgb_373"><td id="-gz2dgb_374"><p>Proto.1.5.png</p></td><td id="-gz2dgb_375"><p>Кнопка копирования прототипа. Сначала нужно выбрать прототип в списке, затем нажать на кнопку Копировать. Выбранный прототип будет скопирован в буфер сервера. При этом кнопка Вставить станет активной.</p></td></tr><tr id="-gz2dgb_376"><td id="-gz2dgb_377"><p>Proto.1.6.png</p></td><td id="-gz2dgb_378"><p>Кнопка вставки прототипа. Если перед этим была операция копирования прототипа, то эта кнопка будет активна. И при нажатии на неё появится окно: </p><br><figure id="-gz2dgb_380"><a href="FPdocs/Proto.3.png" class="lightbox"><img alt="Proto 3" src="FPdocs/Proto.3.png" class="article__bordered-element" title="Proto 3" width="200" height="123"></a></figure><br><p> где можно выбрать, что нужно сделать с сохраненной ранее копией, скопировать сюда же (copy) или переместить (move). Здесь же можно задать количество копий. Копия получит имя: &lt;имя_скопированного_прототипа&gt;_&lt;№копии&gt;</p></td></tr><tr id="-gz2dgb_382"><td id="-gz2dgb_383"><p>Proto.1.7.png</p></td><td id="-gz2dgb_384"><p>Кнопка редактора прототипа. Для редактирования прототипа нужно сначала выбрать нужный прототип в списке, затем нажать кнопку Редактора, откроется вкладка редактора прототипа (поставить ссылку на след. параграф)</p></td></tr><tr id="-gz2dgb_385"><td id="-gz2dgb_386"><p>Proto.1.8.png</p></td><td id="-gz2dgb_387"><p>Кнопка экспорта в базу в формате .xlsx файла.</p></td></tr><tr id="-gz2dgb_388"><td id="-gz2dgb_389"><p>Proto.1.9.png</p></td><td id="-gz2dgb_390"><p>Кнопка импорта из базы в формате .xlsx файла.</p></td></tr><tr id="-gz2dgb_391"><td id="-gz2dgb_392"><p>Proto.1.10.png</p></td><td id="-gz2dgb_393"><p>Кнопка экспорта проекта в файл.</p></td></tr><tr id="-gz2dgb_394"><td id="-gz2dgb_395"><p>Proto.1.11.png</p></td><td id="-gz2dgb_396"><p>Кнопка импорта проекта из файла.</p></td></tr></tbody></table></div><aside class="prompt" data-type="note" data-title="" id="-gz2dgb_397"><p id="-gz2dgb_398"><span class="control" id="-gz2dgb_399">ВНИМАНИЕ!</span></p><p id="-gz2dgb_400">Имя прототипа не должно содержать пробелов и прочих символов-разделителей.</p></aside></section><section class="chapter"><h2 id="-gz2dgb_401" data-toc="-gz2dgb_401">Редактор прототипа</h2><p id="-gz2dgb_402">При открытии редактора прототипа появляется следующая вкладка:</p><figure id="-gz2dgb_403"><a href="FPdocs/Proto.4.png" class="lightbox"><img alt="Proto 4" src="FPdocs/Proto.4.png" class="article__bordered-element" title="Proto 4" width="700" height="372"></a></figure><p id="-gz2dgb_404">где можно определить поля (Fields), содержимое (Content) и поведение (Behavior) прототипа.</p><section class="chapter"><h3 id="-gz2dgb_405" data-toc="-gz2dgb_405">Поля прототипов</h3><p id="-gz2dgb_406">В контексте IoT-платформы, объекты, которые будут создаваться и разрабатываться на основе прототипов, представляют собой различные элементы системы, такие как устройства, датчики, контроллеры, агрегаты и т. д. Каждый объект имеет свои характеристики и параметры, которые определяют его поведение, функциональность и свойства.</p><p id="-gz2dgb_407">Поля прототипа являются точками, интерфейсами или портами, через которые прототип взаимодействует с внешней средой или другими компонентами системы. Эти поля могут представлять собой различные типы интерфейсов, такие как аналоговые или цифровые порты для приема данных от датчиков или управления актуаторами, сетевые интерфейсы для обмена данными с другими системами, а также интерфейсы пользовательского ввода/вывода для взаимодействия с оператором. Поля могут быть настроены для приема или передачи различных типов данных, их обработки и передачи между различными компонентами системы.</p></section><section class="chapter"><h3 id="-gz2dgb_408" data-toc="-gz2dgb_408">Примеры использования полей</h3><p id="-gz2dgb_409"><b id="-gz2dgb_410">Пример 5.</b> <em id="-gz2dgb_411">Температурный датчик:</em></p><p id="-gz2dgb_412">Предположим есть прототип объекта - температурного датчика, который предназначен для мониторинга температуры в помещении. Этот прототип включает в себя следующие поля:</p><ul class="list _bullet" id="-gz2dgb_413"><li class="list__item" id="-gz2dgb_414"><p id="-gz2dgb_415"><b id="-gz2dgb_416">аналоговый порт для приема данных о температуре:</b> этот порт предназначен для приема аналоговых данных от датчика температуры. Данные о температуре будут поступать на этот порт от физического датчика, а затем будут обработаны и использованы для отображения информации о температуре на экране оператора или для выполнения других задач.</p></li><li class="list__item" id="-gz2dgb_417"><p id="-gz2dgb_418"><b id="-gz2dgb_419">цифровой порт для управления актуатором:</b> этот порт предназначен для управления актуатором, например, кондиционером или обогревателем, в зависимости от измеренной температуры. При достижении определенного порогового значения температуры, прототип может отправить команду на включение или выключение актуатора через этот цифровой порт.</p></li></ul><p id="-gz2dgb_420">Алгоритм использования этих полей может быть следующим:</p><ol class="list _decimal" id="-gz2dgb_421" type="1"><li class="list__item" id="-gz2dgb_422"><p id="-gz2dgb_423">Прототип температурного датчика принимает данные о текущей температуре через аналоговый порт.</p></li><li class="list__item" id="-gz2dgb_424"><p id="-gz2dgb_425">Данные о температуре обрабатываются прототипом и сохраняются для последующего использования.</p></li><li class="list__item" id="-gz2dgb_426"><p id="-gz2dgb_427">При достижении температурного порога, определенного скриптом, прототип отправляет сигнал через цифровой порт для управления актуатором (например, включение кондиционера или обогревателя).</p></li><li class="list__item" id="-gz2dgb_428"><p id="-gz2dgb_429">Оператор или система мониторинга могут просматривать данные о температуре и состоянии актуатора на соответствующем экране в IoT-платформе.</p></li></ol></section><section class="chapter"><h3 id="-gz2dgb_430" data-toc="-gz2dgb_430">Создание полей прототипа</h3><section class="chapter"><h4 id="-gz2dgb_431" data-toc="-gz2dgb_431">Системные поля</h4><p id="-gz2dgb_432">При создании прототипа у него уже есть несколько системных полей, которые позволяют управлять и поддерживать правильную работу прототипа, а также объектов, созданных на его основе.</p><p id="-gz2dgb_433">Следует заметить, что системные поля обычно не связаны с сетевыми или какими-либо ещё портами, а скорее относятся к организации данных, управлению доступом или другим системным функциям.</p><p id="-gz2dgb_434">Системными полями могут быть:</p><div class="table-wrapper"><table class="wide" id="-gz2dgb_435"><thead><tr class="ijRowHead" id="-gz2dgb_436"><th id="-gz2dgb_437"><p>Имя</p></th><th id="-gz2dgb_438"><p>Описание</p></th></tr></thead><tbody><tr id="-gz2dgb_439"><td id="-gz2dgb_440"><p>.contentreadgroups</p></td><td id="-gz2dgb_441"><p>Содержит список идентификаторов групп пользователей, которым разрешено читать содержимое объектов, созданных на основе данного прототипа.</p></td></tr><tr id="-gz2dgb_442"><td id="-gz2dgb_443"><p>.contentwritegroups</p></td><td id="-gz2dgb_444"><p>Содержит список идентификаторов групп пользователей, которым разрешено записывать информацию в объекты, созданные на основе данного прототипа.</p></td></tr><tr id="-gz2dgb_445"><td id="-gz2dgb_446"><p>.dependencies</p></td><td id="-gz2dgb_447"><p>Содержит список связанных объектов или ресурсов, которые прототип использует или от которых он зависит.</p></td></tr><tr id="-gz2dgb_448"><td id="-gz2dgb_449"><p>.folder</p></td><td id="-gz2dgb_450"><p>Определяет папку (ссылка), в которой находится прототип или объект, созданный на его основе.</p></td></tr><tr id="-gz2dgb_451"><td id="-gz2dgb_452"><p>.invalid_dependencies</p></td><td id="-gz2dgb_453"><p>Определяет отсутствуют или недействительны объекты или ресурсы, от которых зависит прототип.</p></td></tr><tr id="-gz2dgb_454"><td id="-gz2dgb_455"><p>.name</p></td><td id="-gz2dgb_456"><p>Определяет имя прототипа.</p></td></tr><tr id="-gz2dgb_457"><td id="-gz2dgb_458"><p>.pattern</p></td><td id="-gz2dgb_459"><p>Содержит ссылку на шаблон для создания других объектов (????????????????).</p></td></tr><tr id="-gz2dgb_460"><td id="-gz2dgb_461"><p>.readgroups</p></td><td id="-gz2dgb_462"><p>Список идентификаторов групп пользователей, которые имеют право на чтение прототипа.</p></td></tr><tr id="-gz2dgb_463"><td id="-gz2dgb_464"><p>.ts</p></td><td id="-gz2dgb_465"><p>Определяет временную метку (timestamp), когда прототип был создан или изменен в последний раз.</p></td></tr><tr id="-gz2dgb_466"><td id="-gz2dgb_467"><p>.writegroups</p></td><td id="-gz2dgb_468"><p>Список идентификаторов групп пользователей, которым разрешено вносить изменения в прототип.</p></td></tr><tr id="-gz2dgb_469"><td id="-gz2dgb_470"><p>alias</p></td><td id="-gz2dgb_471"><p>Устанавливает альтернативное название или псевдоним для прототипа.</p></td></tr><tr id="-gz2dgb_472"><td id="-gz2dgb_473"><p>comment</p></td><td id="-gz2dgb_474"><p>Позволяет добавлять комментарии или заметки к прототипу.</p></td></tr><tr id="-gz2dgb_475"><td id="-gz2dgb_476"><p>database</p></td><td id="-gz2dgb_477"><p>Ссылка на базу данных, используемую для хранения данных прототипа.</p></td></tr><tr id="-gz2dgb_478"><td id="-gz2dgb_479"><p>disabled</p></td><td id="-gz2dgb_480"><p>Определяет, отключен ли данный прототип или он активен.</p></td></tr><tr id="-gz2dgb_481"><td id="-gz2dgb_482"><p>ext_readgroups</p></td><td id="-gz2dgb_483"><p>Позволяет определить пользователей из внешних систем или ресурсов, которые имеют право на чтение прототипа.</p></td></tr><tr id="-gz2dgb_484"><td id="-gz2dgb_485"><p>ext_writegroups</p></td><td id="-gz2dgb_486"><p>Позволяет определить пользователей из внешних систем или ресурсов, которые имеют право на запись прототипа.</p></td></tr><tr id="-gz2dgb_487"><td id="-gz2dgb_488"><p>favorite</p></td><td id="-gz2dgb_489"><p>Может принимать значение (true/false), указывающее, является ли прототип избранным для данного пользователя. Обычно используется для создания персонализированных списков или каталогов объектов, удобных для пользователя.</p></td></tr><tr id="-gz2dgb_490"><td id="-gz2dgb_491"><p>groups</p></td><td id="-gz2dgb_492"><p>Список идентификаторов групп пользователей, имеющих доступ к прототипу.</p></td></tr><tr id="-gz2dgb_493"><td id="-gz2dgb_494"><p>icon</p></td><td id="-gz2dgb_495"><p>Путь к изображению, которое используется в качестве иконки прототипа.</p></td></tr><tr id="-gz2dgb_496"><td id="-gz2dgb_497"><p>is_prototype</p></td><td id="-gz2dgb_498"><p>Определяет, является ли данный объект прототипом или нет.</p></td></tr><tr id="-gz2dgb_499"><td id="-gz2dgb_500"><p>is_screen</p></td><td id="-gz2dgb_501"><p>Указывает, является ли данный объект экраном (???????????) или нет. Экраны в IoT-платформах представляют собой интерфейсы пользователя, которые отображают информацию о процессах, устройствах или других объектах в системе. Если объект является экраном, это означает, что его основная цель - предоставить пользователю информацию в удобной и понятной форме. Это может быть, например, графическое отображение данных, диаграммы, таблицы и т. д.</p></td></tr><tr id="-gz2dgb_502"><td id="-gz2dgb_503"><p>nodes</p></td><td id="-gz2dgb_504"><p>Список идентификаторов узлов или элементов, связанных с данным прототипом.</p></td></tr><tr id="-gz2dgb_505"><td id="-gz2dgb_506"><p>prototype</p></td><td id="-gz2dgb_507"><p>Определяет ссылку на прототип</p></td></tr><tr id="-gz2dgb_508"><td id="-gz2dgb_509"><p>recursive_rights</p></td><td id="-gz2dgb_510"><p>Указывает, применяются ли права доступа к прототипу рекурсивно к объектам, созданным на его основе.</p></td></tr><tr id="-gz2dgb_511"><td id="-gz2dgb_512"><p>screen</p></td><td id="-gz2dgb_513"><p>Содержит название экрана, к которому относится объект. То есть, если объект является частью какого-то экрана или связан с определенным экраном, то это поле будет хранить название этого экрана.</p></td></tr><tr id="-gz2dgb_514"><td id="-gz2dgb_515"><p>settings</p></td><td id="-gz2dgb_516"><p>Содержит данные о настройках прототипа, которые могут влиять на его функционирование.</p></td></tr><tr id="-gz2dgb_517"><td id="-gz2dgb_518"><p>title</p></td><td id="-gz2dgb_519"><p>Устанавливает заголовок или название для прототипа.</p></td></tr><tr id="-gz2dgb_520"><td id="-gz2dgb_521"><p>view1-15</p></td><td id="-gz2dgb_522"><p>Содержит данные о различных визуальных представлениях объекта в зависимости от контекста или потребностей пользователей.</p></td></tr><tr id="-gz2dgb_523"><td id="-gz2dgb_524"><p>view_info</p></td><td id="-gz2dgb_525"><p>Содержит дополнительные данные о представлениях объекта, такие как описания или параметры.</p></td></tr></tbody></table></div><p id="-gz2dgb_526">Каждое поле имеет несколько параметров:</p><p id="-gz2dgb_527">◦ <em id="-gz2dgb_528">name (название):</em> Это имя поля в прототипе объекта.</p><p id="-gz2dgb_529">◦ <em id="-gz2dgb_530">type (тип):</em> Определяет тип данных, которые могут храниться в этом параметре. Например, это может быть строка (string), целый числовой тип (integer), вещественный числовой тип (float), логический (bool), ссылка или указатель на другой объект или ресурс (link), уникальная символьная константа (atom), составной объект (term), список (list).</p><p id="-gz2dgb_531">◦ <em id="-gz2dgb_532">subtype (подтип):</em> Уточняет тип данных для определенных типов. Например, если тип данных - list, то подтип может указать на тип элементов списка (string, integer, float, bool, link, atom. term).</p><p id="-gz2dgb_533">◦ <em id="-gz2dgb_534">&bull; storage (хранение):</em> Определяет, как будет храниться значение параметра. Например, значение может храниться на диске, в оперативной памяти, или на диске и в оперативной памяти одновременно. (disc, ram, ramdisc)</p><p id="-gz2dgb_535">&bull; <em id="-gz2dgb_536">index (индекс):</em> Указывает, является ли параметр индексируемым для быстрого доступа к данным. Индексы могут использоваться для ускорения операций поиска и сортировки. В Faceplate для прототипа возможны 3 варианта: 3gram (анализирует текстовые данные на основе троек символов (триграмм)), simple (представляет собой базовый индекс, который обрабатывает данные без дополнительного анализа или преобразований), datetime (предназначен для работы с датами и временем, обеспечивает эффективную индексацию данных, связанных с датами, что позволяет быстро выполнять операции поиска и сортировки на основе временных параметров). Индекс datetime особенно полезен в системах, где важна временная составляющая данных, например, в мониторинге и управлении процессами.</p><p id="-gz2dgb_537">◦ <em id="-gz2dgb_538">default (значение по умолчанию):</em> Это значение, которое будет установлено для параметра, если оно не было явно задано при создании объекта.</p><p id="-gz2dgb_539">◦ <em id="-gz2dgb_540">prototype (прототип):</em> Указывает, является ли параметр частью прототипа объекта. Если значение true, то параметр наследуется объектами, созданными на основе этого прототипа.</p><p id="-gz2dgb_541">◦ <em id="-gz2dgb_542">run-time (время выполнения):</em> Определяет, будет ли параметр доступен и изменяем во время выполнения программы или системы.</p><p id="-gz2dgb_543">◦ <em id="-gz2dgb_544">export (экспорт):</em> Указывает, должен ли параметр быть доступен для экспорта или передачи в другие системы или компоненты.</p></section><section class="chapter"><h4 id="-gz2dgb_545" data-toc="-gz2dgb_545">Пользоватеслькие поля</h4><p id="-gz2dgb_546">Для создания пользовательских полей нужно нажать на кнопку Создать на вкладке Fields. Появится следующее окно:</p><figure id="-gz2dgb_547"><a href="FPdocs/Proto.5.png" class="lightbox"><img alt="Proto 5" src="FPdocs/Proto.5.png" class="article__bordered-element" title="Proto 5" width="200" height="318"></a></figure><p id="-gz2dgb_548">где в поле Name нужно указать имя прототипа;</p><p id="-gz2dgb_549">в поле Type выбрать один из вариантов:</p><p id="-gz2dgb_550">◦ string (строка): Этот тип данных представляет собой последовательность символов, таких как буквы, цифры и символы пунктуации. Строки обычно используются для хранения текстовой информации, такой как имена, описания и сообщения.</p><p id="-gz2dgb_551">◦ integer (целое число): Целочисленный тип данных представляет собой числа без дробной части. Он используется для хранения целых чисел, таких как количество, порядковый номер и идентификаторы.</p><p id="-gz2dgb_552">◦ float (вещественное число): Этот тип данных представляет собой числа с плавающей точкой, то есть числа с дробной частью. Он используется для хранения дробных чисел, таких как доли, координаты и денежные суммы.</p><p id="-gz2dgb_553">◦ bool (логическое значение): Логический тип данных может иметь только два значения: истина (true) или ложь (false). Он используется для хранения булевых значений, таких как состояния (вкл/выкл), флаги и условия.</p><p id="-gz2dgb_554">◦ link (ссылка): Тип данных ссылки представляет собой ссылку или указатель на другой объект или ресурс. Он используется для создания связей между объектами или для представления отношений между данными.</p><p id="-gz2dgb_555">◦ atom (атом): Атом - это уникальная символьная константа, которая представляет собой неизменяемое значение. Он используется для обозначения константных идентификаторов или имен в системе.</p><p id="-gz2dgb_556">◦ term (терм): Тип данных терма представляет собой составной объект, который может содержать различные типы данных, включая другие термы. Он используется для представления структурированных данных или составных объектов.</p><p id="-gz2dgb_557">◦ list (список): Список - это упорядоченная коллекция элементов, которая может содержать элементы различных типов данных. Список используется для хранения последовательностей данных, таких как массивы, наборы и стеки.</p><p id="-gz2dgb_558">в поле Subtype (доступно только для типа list) нужно выбрать один из вариантов для типа элементов списка: строка (string), целый числовой тип (integer), вещественный числовой тип (float), логический (bool), ссылка или указатель на другой объект или ресурс (link), уникальная символьная константа (atom), составной объект (term).</p><p id="-gz2dgb_559">в поле Index нужно выбрать тип индексирования. Тип simple можно выбрать для всех типов данных, за исключением типа float; тип datetime можно выбрать только для типа integer; тип 3gram можно выбрать только для типа string.</p><p id="-gz2dgb_560">Кнопки Редактировать, Удалить, Копировать и Вставить на панели управления Fields имеют тот же функционал, что и на главной вкладке прототипов.</p></section></section><section class="chapter"><h3 id="-gz2dgb_561" data-toc="-gz2dgb_561">Контент прототипа</h3></section><section class="chapter"><h3 id="-gz2dgb_562" data-toc="-gz2dgb_562">Поведение прототипа</h3><p id="-gz2dgb_563">Behavior - это скрипт, который отрабатывается при изменении (создание, редактирование, удаление) Прототипа.</p><p id="-gz2dgb_564">Пример вывода:</p><p id="-gz2dgb_565">Пример вывода:</p><p id="-gz2dgb_566">Образец скрипта:</p><div class="code-block" data-lang="bash">
%%-----------------------------------------------------------------
%% This script is executed at the server side. The programming language
%% is Erlang.
%% The module MUST export next 3 methods:
%% * on_create/1 - this method is called when a new instance of the prototype is created.
%% * on_edit/1 - this method is called when own fields of an instance of the prototype are edited
%% * on_delete/1 - this method is called when an instance of the prototype is deleted
%% All this methods accept an Object of the instance and can edit or perform any other allowed code.
%% If any of the methods throw or crash the whole transaction will rollback.
%% If there are any warnings or not critical errors it is recommended to log them with available macros, examples:
%% ?LOGWARNING( &quot;my warning text: ~p&quot;, [Warning] )
%% ?LOGERROR( &quot;my error text: ~p&quot;, [Error] )
%% If the methods performs well it should return atom 'ok'.
%% For more info please refer to the documentation
%%-----------------------------------------------------------------
-module(fp_prototype_MyProto1).

-include(&quot;fp_struct.hrl&quot;).

-export([
    on_create/1,
    on_delete/1,
    on_edit/1
]).

on_create(_Object)-&gt;
    ok.

on_edit(_Object)-&gt;
    ok.

on_delete( Object )-&gt;
    ok.
</div><p id="-gz2dgb_568">Рассмотрим примеры создания скриптов, определяющих поведение прототипа на языке Erlang.</p><p id="-gz2dgb_569">Пример 1:</p><div class="code-block" data-lang="bash">
%%-----------------------------------------------------------------
%% This script is executed at the server side. The programming language
%% is Erlang.
%% The module MUST export next 3 methods:
%% * on_create/1 - this method is called when a new instance of the prototype is created.
%% * on_edit/1 - this method is called when own fields of an instance of the prototype are edited
%% * on_delete/1 - this method is called when an instance of the prototype is deleted
%% All these methods accept an Object of the instance and can edit or perform any other allowed code.
%% If any of the methods throw or crash, the whole transaction will rollback.
%% If there are any warnings or non-critical errors, it is recommended to log them with available macros, examples:
%% ?LOGWARNING( &quot;my warning text: ~p&quot;, [Warning] )
%% ?LOGERROR( &quot;my error text: ~p&quot;, [Error] )
%% If the methods perform well, they should return the atom 'ok'.
%% For more info, please refer to the documentation
%%-----------------------------------------------------------------
-module(fp_prototype_MyProto1).

-include(&quot;fp_struct.hrl&quot;).

-export([
    on_create/1,
    on_delete/1,
    on_edit/1
]).

on_create(Object) -&gt;
    io:format(&quot;Instance of MyProto1 created: ~p~n&quot;, [Object]),
    ok.

on_edit(Object) -&gt;
    io:format(&quot;Fields of MyProto1 instance edited: ~p~n&quot;, [Object]),
    ok.

on_delete(Object) -&gt;
    io:format(&quot;Instance of MyProto1 deleted: ~p~n&quot;, [Object]),
    ok.
</div><p id="-gz2dgb_571">Этот скрипт реализует три метода: on_create, on_edit и on_delete, которые вызываются при создании, изменении и удалении экземпляра прототипа соответственно. В данном примере эти методы просто выводят сообщение в консоль, указывая на то, что произошло с экземпляром. Вы можете дополнить их логикой, соответствующей вашим требованиям.</p><p id="-gz2dgb_572">Пример 2.</p><p id="-gz2dgb_573">Давайте расширим последний скрипт для работы с прототипом, представляющим конкретное устройство. Для примера давайте предположим, что у нас есть прототип устройства, представляющего насос, и мы хотим, чтобы наш скрипт выполнял определенные действия в зависимости от состояния этого насоса.</p><div class="code-block" data-lang="bash">
%%-----------------------------------------------------------------
%% This script is executed at the server side. The programming language
%% is Erlang.
%% The module MUST export next 3 methods:
%% * on_create/1 - this method is called when a new instance of the prototype is created.
%% * on_edit/1 - this method is called when own fields of an instance of the prototype are edited
%% * on_delete/1 - this method is called when an instance of the prototype is deleted
%% All these methods accept an Object of the instance and can edit or perform any other allowed code.
%% If any of the methods throw or crash, the whole transaction will rollback.
%% If there are any warnings or non-critical errors, it is recommended to log them with available macros, examples:
%% ?LOGWARNING( &quot;my warning text: ~p&quot;, [Warning] )
%% ?LOGERROR( &quot;my error text: ~p&quot;, [Error] )
%% If the methods perform well, they should return the atom 'ok'.
%% For more info, please refer to the documentation
%%-----------------------------------------------------------------
-module(fp_prototype_Pump).

-include(&quot;fp_struct.hrl&quot;).

-export([
    on_create/1,
    on_delete/1,
    on_edit/1
]).

-define(PUMP_STATE_NORMAL, 0).
-define(PUMP_STATE_WARNING, 1).
-define(PUMP_STATE_ERROR, 2).

on_create(Object) -&gt;
    io:format(&quot;Pump instance created: ~p~n&quot;, [Object]),
    ok.
on_edit(Object) -&gt;
% Проверяем состояние насоса и выполняем соответствующие действия
    case Object#pump.state of
        ?PUMP_STATE_NORMAL -&gt;
            io:format(&quot;Pump is in normal state: ~p~n&quot;, [Object]),
            ok;
        ?PUMP_STATE_WARNING -&gt;
            io:format(&quot;Pump is in warning state: ~p~n&quot;, [Object]),
            ok;
        ?PUMP_STATE_ERROR -&gt;
            io:format(&quot;Pump is in error state: ~p~n&quot;, [Object]),
            ok
end.

on_delete(Object) -&gt;
    io:format(&quot;Pump instance deleted: ~p~n&quot;, [Object]),
    ok.
</div><p id="-gz2dgb_575">Этот скрипт добавляет обработку состояния насоса в методе on_edit. В зависимости от состояния насоса он выводит соответствующее сообщение в консоль. Вы можете дополнить скрипт логикой обработки состояний насоса, включая отправку уведомлений, запись в журнал или выполнение дополнительных действий.</p><p id="-gz2dgb_576">Пример 3.</p><p id="-gz2dgb_577">Прототипы в SCADA-системах часто имеют набор полей, которые определяют их свойства и характеристики. Для дать определение прототипа на основании этого, мы можем добавить определение полей в Erlang-модуль прототипа. Вот пример определения прототипа на основании всего выше перечисленного:</p><div class="code-block" data-lang="bash">
%%-----------------------------------------------------------------
%% This script is executed at the server side. The programming language
%% is Erlang.
%% The module MUST export next 3 methods:
%% * on_create/1 - this method is called when a new instance of the prototype is created.
%% * on_edit/1 - this method is called when own fields of an instance of the prototype are edited
%% * on_delete/1 - this method is called when an instance of the prototype is deleted
%% All these methods accept an Object of the instance and can edit or perform any other allowed code.
%% If any of the methods throw or crash, the whole transaction will rollback.
%% If there are any warnings or non-critical errors, it is recommended to log them with available macros, examples:
%% ?LOGWARNING( &quot;my warning text: ~p&quot;, [Warning] )
%% ?LOGERROR( &quot;my error text: ~p&quot;, [Error] )
%% If the methods perform well, they should return the atom 'ok'.
%% For more info, please refer to the documentation
%%-----------------------------------------------------------------
-module(fp_prototype_Pump).

-include(&quot;fp_struct.hrl&quot;).

-export([
    on_create/1,
    on_delete/1,
    on_edit/1
]).

-record(pump, {
    id :: string(),
    name :: string(),
    type :: string(),
    state :: integer()
}).

-define(PUMP_STATE_NORMAL, 0).
-define(PUMP_STATE_WARNING, 1).
-define(PUMP_STATE_ERROR, 2).

on_create(Object) -&gt;
    io:format(&quot;Pump instance created: ~p~n&quot;, [Object]),
    ok.

on_edit(Object) -&gt;
% Проверяем состояние насоса и выполняем соответствующие действия
    case Object#pump.state of
        ?PUMP_STATE_NORMAL -&gt;
            io:format(&quot;Pump is in normal state: ~p~n&quot;, [Object]),
            ok;
        ?PUMP_STATE_WARNING -&gt;
            io:format(&quot;Pump is in warning state: ~p~n&quot;, [Object]),
            ok;
        ?PUMP_STATE_ERROR -&gt;
            io:format(&quot;Pump is in error state: ~p~n&quot;, [Object]),
            ok
end.

on_delete(Object) -&gt;
    io:format(&quot;Pump instance deleted: ~p~n&quot;, [Object]),
    ok.
</div><p id="-gz2dgb_579">В этом примере добавлено определение полей прототипа pump, включая id, name, type и state. Для каждого поля указан тип данных. Теперь прототип насоса имеет определенную структуру данных, которая позволяет представлять его свойства и характеристики.</p></section><section class="chapter"><h3 id="-gz2dgb_580" data-toc="-gz2dgb_580">Группа при создании прототипа (???????????????????????)</h3><p id="-gz2dgb_581">Указание группы при создании прототипа в IoT-платформе может иметь несколько значений и целей, в зависимости от контекста и специфики системы. Вот несколько возможных интерпретаций значения указания группы:</p><ol class="list _decimal" id="-gz2dgb_582" type="1"><li class="list__item" id="-gz2dgb_583"><p id="-gz2dgb_584">Организация и классификация: Группа может служить для организации и классификации прототипов по их функциональному или логическому назначению. Например, прототипы устройств могут быть сгруппированы по типу (например, датчики, актуаторы, контроллеры), а прототипы событий - по категориям (например, предупреждения, аварии, информационные сообщения).</p></li><li class="list__item" id="-gz2dgb_585"><p id="-gz2dgb_586">Управление доступом и правами: Группировка прототипов может использоваться для управления доступом и правами пользователей. Например, администраторы могут иметь доступ к прототипам всех групп, в то время как обычные пользователи могут иметь доступ только к определенным группам, связанным с их функциональными обязанностями.</p></li><li class="list__item" id="-gz2dgb_587"><p id="-gz2dgb_588">Контроль версий и жизненного цикла: Группы могут также использоваться для контроля версий и управления жизненным циклом прототипов. Например, прототипы одной группы могут быть связаны с конкретной версией проекта или продукта, а другие - с тестовыми или экспериментальными версиями.</p></li><li class="list__item" id="-gz2dgb_589"><p id="-gz2dgb_590">Организация процесса разработки и управления проектами: Группы могут помочь организовать процесс разработки и управления проектами, разделяя прототипы на логические блоки или модули, которые могут быть разработаны и тестированы независимо друг от друга.</p></li></ol></section></section><div class="last-modified">Last modified: 17 June 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="kpi.html" class="navigation-links__prev">KPI</a><a href="plc-соединения.html" class="navigation-links__next">PLC-соединения</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>